(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function s(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(f){if(f.ep)return;f.ep=!0;const p=s(f);fetch(f.href,p)}})();function bc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Wo={exports:{}},Mr={},qo={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu;function Wp(){if(Yu)return ue;Yu=1;var i=Symbol.for("react.element"),c=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),y=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),L=Symbol.iterator;function A(S){return S===null||typeof S!="object"?null:(S=L&&S[L]||S["@@iterator"],typeof S=="function"?S:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function g(S,_,H){this.props=S,this.context=_,this.refs=E,this.updater=H||R}g.prototype.isReactComponent={},g.prototype.setState=function(S,_){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,_,"setState")},g.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function P(){}P.prototype=g.prototype;function J(S,_,H){this.props=S,this.context=_,this.refs=E,this.updater=H||R}var se=J.prototype=new P;se.constructor=J,C(se,g.prototype),se.isPureReactComponent=!0;var te=Array.isArray,de=Object.prototype.hasOwnProperty,U={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function Q(S,_,H){var ae,oe={},ce=null,Y=null;if(_!=null)for(ae in _.ref!==void 0&&(Y=_.ref),_.key!==void 0&&(ce=""+_.key),_)de.call(_,ae)&&!q.hasOwnProperty(ae)&&(oe[ae]=_[ae]);var ne=arguments.length-2;if(ne===1)oe.children=H;else if(1<ne){for(var pe=Array(ne),Fe=0;Fe<ne;Fe++)pe[Fe]=arguments[Fe+2];oe.children=pe}if(S&&S.defaultProps)for(ae in ne=S.defaultProps,ne)oe[ae]===void 0&&(oe[ae]=ne[ae]);return{$$typeof:i,type:S,key:ce,ref:Y,props:oe,_owner:U.current}}function Ne(S,_){return{$$typeof:i,type:S.type,key:_,ref:S.ref,props:S.props,_owner:S._owner}}function ve(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function He(S){var _={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(H){return _[H]})}var fe=/\/+/g;function be(S,_){return typeof S=="object"&&S!==null&&S.key!=null?He(""+S.key):_.toString(36)}function Me(S,_,H,ae,oe){var ce=typeof S;(ce==="undefined"||ce==="boolean")&&(S=null);var Y=!1;if(S===null)Y=!0;else switch(ce){case"string":case"number":Y=!0;break;case"object":switch(S.$$typeof){case i:case c:Y=!0}}if(Y)return Y=S,oe=oe(Y),S=ae===""?"."+be(Y,0):ae,te(oe)?(H="",S!=null&&(H=S.replace(fe,"$&/")+"/"),Me(oe,_,H,"",function(Fe){return Fe})):oe!=null&&(ve(oe)&&(oe=Ne(oe,H+(!oe.key||Y&&Y.key===oe.key?"":(""+oe.key).replace(fe,"$&/")+"/")+S)),_.push(oe)),1;if(Y=0,ae=ae===""?".":ae+":",te(S))for(var ne=0;ne<S.length;ne++){ce=S[ne];var pe=ae+be(ce,ne);Y+=Me(ce,_,H,pe,oe)}else if(pe=A(S),typeof pe=="function")for(S=pe.call(S),ne=0;!(ce=S.next()).done;)ce=ce.value,pe=ae+be(ce,ne++),Y+=Me(ce,_,H,pe,oe);else if(ce==="object")throw _=String(S),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return Y}function _e(S,_,H){if(S==null)return S;var ae=[],oe=0;return Me(S,ae,"","",function(ce){return _.call(H,ce,oe++)}),ae}function Se(S){if(S._status===-1){var _=S._result;_=_(),_.then(function(H){(S._status===0||S._status===-1)&&(S._status=1,S._result=H)},function(H){(S._status===0||S._status===-1)&&(S._status=2,S._result=H)}),S._status===-1&&(S._status=0,S._result=_)}if(S._status===1)return S._result.default;throw S._result}var he={current:null},D={transition:null},K={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:D,ReactCurrentOwner:U};function O(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:_e,forEach:function(S,_,H){_e(S,function(){_.apply(this,arguments)},H)},count:function(S){var _=0;return _e(S,function(){_++}),_},toArray:function(S){return _e(S,function(_){return _})||[]},only:function(S){if(!ve(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ue.Component=g,ue.Fragment=s,ue.Profiler=f,ue.PureComponent=J,ue.StrictMode=u,ue.Suspense=h,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,ue.act=O,ue.cloneElement=function(S,_,H){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ae=C({},S.props),oe=S.key,ce=S.ref,Y=S._owner;if(_!=null){if(_.ref!==void 0&&(ce=_.ref,Y=U.current),_.key!==void 0&&(oe=""+_.key),S.type&&S.type.defaultProps)var ne=S.type.defaultProps;for(pe in _)de.call(_,pe)&&!q.hasOwnProperty(pe)&&(ae[pe]=_[pe]===void 0&&ne!==void 0?ne[pe]:_[pe])}var pe=arguments.length-2;if(pe===1)ae.children=H;else if(1<pe){ne=Array(pe);for(var Fe=0;Fe<pe;Fe++)ne[Fe]=arguments[Fe+2];ae.children=ne}return{$$typeof:i,type:S.type,key:oe,ref:ce,props:ae,_owner:Y}},ue.createContext=function(S){return S={$$typeof:y,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:p,_context:S},S.Consumer=S},ue.createElement=Q,ue.createFactory=function(S){var _=Q.bind(null,S);return _.type=S,_},ue.createRef=function(){return{current:null}},ue.forwardRef=function(S){return{$$typeof:w,render:S}},ue.isValidElement=ve,ue.lazy=function(S){return{$$typeof:T,_payload:{_status:-1,_result:S},_init:Se}},ue.memo=function(S,_){return{$$typeof:N,type:S,compare:_===void 0?null:_}},ue.startTransition=function(S){var _=D.transition;D.transition={};try{S()}finally{D.transition=_}},ue.unstable_act=O,ue.useCallback=function(S,_){return he.current.useCallback(S,_)},ue.useContext=function(S){return he.current.useContext(S)},ue.useDebugValue=function(){},ue.useDeferredValue=function(S){return he.current.useDeferredValue(S)},ue.useEffect=function(S,_){return he.current.useEffect(S,_)},ue.useId=function(){return he.current.useId()},ue.useImperativeHandle=function(S,_,H){return he.current.useImperativeHandle(S,_,H)},ue.useInsertionEffect=function(S,_){return he.current.useInsertionEffect(S,_)},ue.useLayoutEffect=function(S,_){return he.current.useLayoutEffect(S,_)},ue.useMemo=function(S,_){return he.current.useMemo(S,_)},ue.useReducer=function(S,_,H){return he.current.useReducer(S,_,H)},ue.useRef=function(S){return he.current.useRef(S)},ue.useState=function(S){return he.current.useState(S)},ue.useSyncExternalStore=function(S,_,H){return he.current.useSyncExternalStore(S,_,H)},ue.useTransition=function(){return he.current.useTransition()},ue.version="18.3.1",ue}var Xu;function Yo(){return Xu||(Xu=1,qo.exports=Wp()),qo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu;function qp(){if(Zu)return Mr;Zu=1;var i=Yo(),c=Symbol.for("react.element"),s=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,f=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function y(w,h,N){var T,L={},A=null,R=null;N!==void 0&&(A=""+N),h.key!==void 0&&(A=""+h.key),h.ref!==void 0&&(R=h.ref);for(T in h)u.call(h,T)&&!p.hasOwnProperty(T)&&(L[T]=h[T]);if(w&&w.defaultProps)for(T in h=w.defaultProps,h)L[T]===void 0&&(L[T]=h[T]);return{$$typeof:c,type:w,key:A,ref:R,props:L,_owner:f.current}}return Mr.Fragment=s,Mr.jsx=y,Mr.jsxs=y,Mr}var ec;function Qp(){return ec||(ec=1,Wo.exports=qp()),Wo.exports}var o=Qp(),ie=Yo();const Rr=bc(ie);var Wl={},Qo={exports:{}},tt={},Go={exports:{}},Ko={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc;function Gp(){return tc||(tc=1,(function(i){function c(D,K){var O=D.length;D.push(K);e:for(;0<O;){var S=O-1>>>1,_=D[S];if(0<f(_,K))D[S]=K,D[O]=_,O=S;else break e}}function s(D){return D.length===0?null:D[0]}function u(D){if(D.length===0)return null;var K=D[0],O=D.pop();if(O!==K){D[0]=O;e:for(var S=0,_=D.length,H=_>>>1;S<H;){var ae=2*(S+1)-1,oe=D[ae],ce=ae+1,Y=D[ce];if(0>f(oe,O))ce<_&&0>f(Y,oe)?(D[S]=Y,D[ce]=O,S=ce):(D[S]=oe,D[ae]=O,S=ae);else if(ce<_&&0>f(Y,O))D[S]=Y,D[ce]=O,S=ce;else break e}}return K}function f(D,K){var O=D.sortIndex-K.sortIndex;return O!==0?O:D.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var y=Date,w=y.now();i.unstable_now=function(){return y.now()-w}}var h=[],N=[],T=1,L=null,A=3,R=!1,C=!1,E=!1,g=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(D){for(var K=s(N);K!==null;){if(K.callback===null)u(N);else if(K.startTime<=D)u(N),K.sortIndex=K.expirationTime,c(h,K);else break;K=s(N)}}function te(D){if(E=!1,se(D),!C)if(s(h)!==null)C=!0,Se(de);else{var K=s(N);K!==null&&he(te,K.startTime-D)}}function de(D,K){C=!1,E&&(E=!1,P(Q),Q=-1),R=!0;var O=A;try{for(se(K),L=s(h);L!==null&&(!(L.expirationTime>K)||D&&!He());){var S=L.callback;if(typeof S=="function"){L.callback=null,A=L.priorityLevel;var _=S(L.expirationTime<=K);K=i.unstable_now(),typeof _=="function"?L.callback=_:L===s(h)&&u(h),se(K)}else u(h);L=s(h)}if(L!==null)var H=!0;else{var ae=s(N);ae!==null&&he(te,ae.startTime-K),H=!1}return H}finally{L=null,A=O,R=!1}}var U=!1,q=null,Q=-1,Ne=5,ve=-1;function He(){return!(i.unstable_now()-ve<Ne)}function fe(){if(q!==null){var D=i.unstable_now();ve=D;var K=!0;try{K=q(!0,D)}finally{K?be():(U=!1,q=null)}}else U=!1}var be;if(typeof J=="function")be=function(){J(fe)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,_e=Me.port2;Me.port1.onmessage=fe,be=function(){_e.postMessage(null)}}else be=function(){g(fe,0)};function Se(D){q=D,U||(U=!0,be())}function he(D,K){Q=g(function(){D(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(D){D.callback=null},i.unstable_continueExecution=function(){C||R||(C=!0,Se(de))},i.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<D?Math.floor(1e3/D):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return s(h)},i.unstable_next=function(D){switch(A){case 1:case 2:case 3:var K=3;break;default:K=A}var O=A;A=K;try{return D()}finally{A=O}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var O=A;A=D;try{return K()}finally{A=O}},i.unstable_scheduleCallback=function(D,K,O){var S=i.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?S+O:S):O=S,D){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=O+_,D={id:T++,callback:K,priorityLevel:D,startTime:O,expirationTime:_,sortIndex:-1},O>S?(D.sortIndex=O,c(N,D),s(h)===null&&D===s(N)&&(E?(P(Q),Q=-1):E=!0,he(te,O-S))):(D.sortIndex=_,c(h,D),C||R||(C=!0,Se(de))),D},i.unstable_shouldYield=He,i.unstable_wrapCallback=function(D){var K=A;return function(){var O=A;A=K;try{return D.apply(this,arguments)}finally{A=O}}}})(Ko)),Ko}var nc;function Kp(){return nc||(nc=1,Go.exports=Gp()),Go.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc;function Jp(){if(rc)return tt;rc=1;var i=Yo(),c=Kp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,f={};function p(e,t){y(e,t),y(e+"Capture",t)}function y(e,t){for(f[e]=t,e=0;e<t.length;e++)u.add(t[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},L={};function A(e){return h.call(L,e)?!0:h.call(T,e)?!1:N.test(e)?L[e]=!0:(T[e]=!0,!1)}function R(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,n,r){if(t===null||typeof t>"u"||R(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,n,r,l,a,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=d}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P,J);g[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P,J);g[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P,J);g[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function se(e,t,n,r){var l=g.hasOwnProperty(t)?g[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,n,l,r)&&(n=null),r||l===null?A(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var te=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),Ne=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),He=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),D=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var O=Object.assign,S;function _(e){if(S===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var H=!1;function ae(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(b){var r=b}Reflect.construct(e,[],t)}else{try{t.call()}catch(b){r=b}e.call(t.prototype)}else{try{throw Error()}catch(b){r=b}e()}}catch(b){if(b&&r&&typeof b.stack=="string"){for(var l=b.stack.split(`
`),a=r.stack.split(`
`),d=l.length-1,m=a.length-1;1<=d&&0<=m&&l[d]!==a[m];)m--;for(;1<=d&&0<=m;d--,m--)if(l[d]!==a[m]){if(d!==1||m!==1)do if(d--,m--,0>m||l[d]!==a[m]){var v=`
`+l[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=m);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_(e):""}function oe(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case U:return"Portal";case Ne:return"Profiler";case Q:return"StrictMode";case be:return"Suspense";case Me:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case He:return(e.displayName||"Context")+".Consumer";case ve:return(e._context.displayName||"Context")+".Provider";case fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _e:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Se:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ne(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fe(e){var t=pe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(d){r=""+d,a.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nt(e){e._valueTracker||(e._valueTracker=Fe(e))}function yn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function At(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ar(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ne(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wn(e,t){t=t.checked,t!=null&&se(e,"checked",t,!1)}function Xl(e,t){Wn(e,t);var n=ne(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zl(e,t.type,ne(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zl(e,t,n){(t!=="number"||Tt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qn=Array.isArray;function vn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ne(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ea(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ii(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(qn(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ne(n)}}function si(e,t){var n=ne(t.value),r=ne(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ui(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ci(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ta(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ci(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dr,di=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kc=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(e){Kc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gn[t]=Gn[e]})});function pi(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Gn.hasOwnProperty(e)&&Gn[e]?(""+t).trim():t+"px"}function fi(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=pi(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Jc=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(e,t){if(t){if(Jc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function ra(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var la=null;function aa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oa=null,xn=null,wn=null;function mi(e){if(e=gr(e)){if(typeof oa!="function")throw Error(s(280));var t=e.stateNode;t&&(t=ol(t),oa(e.stateNode,e.type,t))}}function hi(e){xn?wn?wn.push(e):wn=[e]:xn=e}function gi(){if(xn){var e=xn,t=wn;if(wn=xn=null,mi(e),t)for(e=0;e<t.length;e++)mi(t[e])}}function yi(e,t){return e(t)}function vi(){}var ia=!1;function xi(e,t,n){if(ia)return e(t,n);ia=!0;try{return yi(e,t,n)}finally{ia=!1,(xn!==null||wn!==null)&&(vi(),gi())}}function Kn(e,t){var n=e.stateNode;if(n===null)return null;var r=ol(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var sa=!1;if(w)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{sa=!1}function Yc(e,t,n,r,l,a,d,m,v){var b=Array.prototype.slice.call(arguments,3);try{t.apply(n,b)}catch(M){this.onError(M)}}var Yn=!1,Or=null,Pr=!1,ua=null,Xc={onError:function(e){Yn=!0,Or=e}};function Zc(e,t,n,r,l,a,d,m,v){Yn=!1,Or=null,Yc.apply(Xc,arguments)}function ed(e,t,n,r,l,a,d,m,v){if(Zc.apply(this,arguments),Yn){if(Yn){var b=Or;Yn=!1,Or=null}else throw Error(s(198));Pr||(Pr=!0,ua=b)}}function rn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Si(e){if(rn(e)!==e)throw Error(s(188))}function td(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Si(l),e;if(a===r)return Si(l),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=l,r=a;else{for(var d=!1,m=l.child;m;){if(m===n){d=!0,n=l,r=a;break}if(m===r){d=!0,r=l,n=a;break}m=m.sibling}if(!d){for(m=a.child;m;){if(m===n){d=!0,n=a,r=l;break}if(m===r){d=!0,r=a,n=l;break}m=m.sibling}if(!d)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function ki(e){return e=td(e),e!==null?Ci(e):null}function Ci(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ci(e);if(t!==null)return t;e=e.sibling}return null}var ji=c.unstable_scheduleCallback,Ni=c.unstable_cancelCallback,nd=c.unstable_shouldYield,rd=c.unstable_requestPaint,Re=c.unstable_now,ld=c.unstable_getCurrentPriorityLevel,ca=c.unstable_ImmediatePriority,bi=c.unstable_UserBlockingPriority,Fr=c.unstable_NormalPriority,ad=c.unstable_LowPriority,Ti=c.unstable_IdlePriority,Ur=null,kt=null;function od(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ur,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:ud,id=Math.log,sd=Math.LN2;function ud(e){return e>>>=0,e===0?32:31-(id(e)/sd|0)|0}var Br=64,Hr=4194304;function Xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,d=n&268435455;if(d!==0){var m=d&~l;m!==0?r=Xn(m):(a&=d,a!==0&&(r=Xn(a)))}else d=n&~l,d!==0?r=Xn(d):a!==0&&(r=Xn(a));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ht(t),l=1<<n,r|=e[n],t&=~l;return r}function cd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-ht(a),m=1<<d,v=l[d];v===-1?((m&n)===0||(m&r)!==0)&&(l[d]=cd(m,t)):v<=t&&(e.expiredLanes|=m),a&=~m}}function da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ei(){var e=Br;return Br<<=1,(Br&4194240)===0&&(Br=64),e}function pa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=n}function pd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ht(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function fa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ht(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ye=0;function _i(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ii,ma,Mi,Ri,zi,ha=!1,Wr=[],Dt=null,Ot=null,Pt=null,er=new Map,tr=new Map,Ft=[],fd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Li(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(t.pointerId)}}function nr(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=gr(t),t!==null&&ma(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function md(e,t,n,r,l){switch(t){case"focusin":return Dt=nr(Dt,e,t,n,r,l),!0;case"dragenter":return Ot=nr(Ot,e,t,n,r,l),!0;case"mouseover":return Pt=nr(Pt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return er.set(a,nr(er.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,tr.set(a,nr(tr.get(a)||null,e,t,n,r,l)),!0}return!1}function $i(e){var t=ln(e.target);if(t!==null){var n=rn(t);if(n!==null){if(t=n.tag,t===13){if(t=wi(n),t!==null){e.blockedOn=t,zi(e.priority,function(){Mi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ya(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);la=r,n.target.dispatchEvent(r),la=null}else return t=gr(n),t!==null&&ma(t),e.blockedOn=n,!1;t.shift()}return!0}function Ai(e,t,n){qr(e)&&n.delete(t)}function hd(){ha=!1,Dt!==null&&qr(Dt)&&(Dt=null),Ot!==null&&qr(Ot)&&(Ot=null),Pt!==null&&qr(Pt)&&(Pt=null),er.forEach(Ai),tr.forEach(Ai)}function rr(e,t){e.blockedOn===t&&(e.blockedOn=null,ha||(ha=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,hd)))}function lr(e){function t(l){return rr(l,e)}if(0<Wr.length){rr(Wr[0],e);for(var n=1;n<Wr.length;n++){var r=Wr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dt!==null&&rr(Dt,e),Ot!==null&&rr(Ot,e),Pt!==null&&rr(Pt,e),er.forEach(t),tr.forEach(t),n=0;n<Ft.length;n++)r=Ft[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&(n=Ft[0],n.blockedOn===null);)$i(n),n.blockedOn===null&&Ft.shift()}var Sn=te.ReactCurrentBatchConfig,Qr=!0;function gd(e,t,n,r){var l=ye,a=Sn.transition;Sn.transition=null;try{ye=1,ga(e,t,n,r)}finally{ye=l,Sn.transition=a}}function yd(e,t,n,r){var l=ye,a=Sn.transition;Sn.transition=null;try{ye=4,ga(e,t,n,r)}finally{ye=l,Sn.transition=a}}function ga(e,t,n,r){if(Qr){var l=ya(e,t,n,r);if(l===null)La(e,t,r,Gr,n),Li(e,r);else if(md(l,e,t,n,r))r.stopPropagation();else if(Li(e,r),t&4&&-1<fd.indexOf(e)){for(;l!==null;){var a=gr(l);if(a!==null&&Ii(a),a=ya(e,t,n,r),a===null&&La(e,t,r,Gr,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else La(e,t,r,null,n)}}var Gr=null;function ya(e,t,n,r){if(Gr=null,e=aa(r),e=ln(e),e!==null)if(t=rn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gr=e,null}function Di(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ld()){case ca:return 1;case bi:return 4;case Fr:case ad:return 16;case Ti:return 536870912;default:return 16}default:return 16}}var Ut=null,va=null,Kr=null;function Oi(){if(Kr)return Kr;var e,t=va,n=t.length,r,l="value"in Ut?Ut.value:Ut.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===l[a-r];r++);return Kr=l.slice(e,1<r?1-r:void 0)}function Jr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yr(){return!0}function Pi(){return!1}function rt(e){function t(n,r,l,a,d){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(a):a[m]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yr:Pi,this.isPropagationStopped=Pi,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=rt(kn),ar=O({},kn,{view:0,detail:0}),vd=rt(ar),wa,Sa,or,Xr=O({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&e.type==="mousemove"?(wa=e.screenX-or.screenX,Sa=e.screenY-or.screenY):Sa=wa=0,or=e),wa)},movementY:function(e){return"movementY"in e?e.movementY:Sa}}),Fi=rt(Xr),xd=O({},Xr,{dataTransfer:0}),wd=rt(xd),Sd=O({},ar,{relatedTarget:0}),ka=rt(Sd),kd=O({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cd=rt(kd),jd=O({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nd=rt(jd),bd=O({},kn,{data:0}),Ui=rt(bd),Td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ed={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_d={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Id(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_d[e])?!!t[e]:!1}function Ca(){return Id}var Md=O({},ar,{key:function(e){if(e.key){var t=Td[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ed[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rt(Md),zd=O({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=rt(zd),Ld=O({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),$d=rt(Ld),Ad=O({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dd=rt(Ad),Od=O({},Xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pd=rt(Od),Fd=[9,13,27,32],ja=w&&"CompositionEvent"in window,ir=null;w&&"documentMode"in document&&(ir=document.documentMode);var Ud=w&&"TextEvent"in window&&!ir,Hi=w&&(!ja||ir&&8<ir&&11>=ir),Vi=" ",Wi=!1;function qi(e,t){switch(e){case"keyup":return Fd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Bd(e,t){switch(e){case"compositionend":return Qi(t);case"keypress":return t.which!==32?null:(Wi=!0,Vi);case"textInput":return e=t.data,e===Vi&&Wi?null:e;default:return null}}function Hd(e,t){if(Cn)return e==="compositionend"||!ja&&qi(e,t)?(e=Oi(),Kr=va=Ut=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hi&&t.locale!=="ko"?null:t.data;default:return null}}var Vd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vd[e.type]:t==="textarea"}function Ki(e,t,n,r){hi(r),t=rl(t,"onChange"),0<t.length&&(n=new xa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sr=null,ur=null;function Wd(e){fs(e,0)}function Zr(e){var t=En(e);if(yn(t))return e}function qd(e,t){if(e==="change")return t}var Ji=!1;if(w){var Na;if(w){var ba="oninput"in document;if(!ba){var Yi=document.createElement("div");Yi.setAttribute("oninput","return;"),ba=typeof Yi.oninput=="function"}Na=ba}else Na=!1;Ji=Na&&(!document.documentMode||9<document.documentMode)}function Xi(){sr&&(sr.detachEvent("onpropertychange",Zi),ur=sr=null)}function Zi(e){if(e.propertyName==="value"&&Zr(ur)){var t=[];Ki(t,ur,e,aa(e)),xi(Wd,t)}}function Qd(e,t,n){e==="focusin"?(Xi(),sr=t,ur=n,sr.attachEvent("onpropertychange",Zi)):e==="focusout"&&Xi()}function Gd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zr(ur)}function Kd(e,t){if(e==="click")return Zr(t)}function Jd(e,t){if(e==="input"||e==="change")return Zr(t)}function Yd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:Yd;function cr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!h.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function es(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ts(e,t){var n=es(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=es(n)}}function ns(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ns(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rs(){for(var e=window,t=Tt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tt(e.document)}return t}function Ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xd(e){var t=rs(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ns(n.ownerDocument.documentElement,n)){if(r!==null&&Ta(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=ts(n,a);var d=ts(n,r);l&&d&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zd=w&&"documentMode"in document&&11>=document.documentMode,jn=null,Ea=null,dr=null,_a=!1;function ls(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_a||jn==null||jn!==Tt(r)||(r=jn,"selectionStart"in r&&Ta(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dr&&cr(dr,r)||(dr=r,r=rl(Ea,"onSelect"),0<r.length&&(t=new xa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jn)))}function el(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nn={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},Ia={},as={};w&&(as=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function tl(e){if(Ia[e])return Ia[e];if(!Nn[e])return e;var t=Nn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in as)return Ia[e]=t[n];return e}var os=tl("animationend"),is=tl("animationiteration"),ss=tl("animationstart"),us=tl("transitionend"),cs=new Map,ds="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){cs.set(e,t),p(t,[e])}for(var Ma=0;Ma<ds.length;Ma++){var Ra=ds[Ma],ep=Ra.toLowerCase(),tp=Ra[0].toUpperCase()+Ra.slice(1);Bt(ep,"on"+tp)}Bt(os,"onAnimationEnd"),Bt(is,"onAnimationIteration"),Bt(ss,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(us,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),np=new Set("cancel close invalid load scroll toggle".split(" ").concat(pr));function ps(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ed(r,t,void 0,e),e.currentTarget=null}function fs(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var d=r.length-1;0<=d;d--){var m=r[d],v=m.instance,b=m.currentTarget;if(m=m.listener,v!==a&&l.isPropagationStopped())break e;ps(l,m,b),a=v}else for(d=0;d<r.length;d++){if(m=r[d],v=m.instance,b=m.currentTarget,m=m.listener,v!==a&&l.isPropagationStopped())break e;ps(l,m,b),a=v}}}if(Pr)throw e=ua,Pr=!1,ua=null,e}function ke(e,t){var n=t[Fa];n===void 0&&(n=t[Fa]=new Set);var r=e+"__bubble";n.has(r)||(ms(t,e,2,!1),n.add(r))}function za(e,t,n){var r=0;t&&(r|=4),ms(n,e,r,t)}var nl="_reactListening"+Math.random().toString(36).slice(2);function fr(e){if(!e[nl]){e[nl]=!0,u.forEach(function(n){n!=="selectionchange"&&(np.has(n)||za(n,!1,e),za(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nl]||(t[nl]=!0,za("selectionchange",!1,t))}}function ms(e,t,n,r){switch(Di(t)){case 1:var l=gd;break;case 4:l=yd;break;default:l=ga}n=l.bind(null,t,n,e),l=void 0,!sa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function La(e,t,n,r,l){var a=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var m=r.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===l||v.nodeType===8&&v.parentNode===l))return;d=d.return}for(;m!==null;){if(d=ln(m),d===null)return;if(v=d.tag,v===5||v===6){r=a=d;continue e}m=m.parentNode}}r=r.return}xi(function(){var b=a,M=aa(n),z=[];e:{var I=cs.get(e);if(I!==void 0){var F=xa,V=e;switch(e){case"keypress":if(Jr(n)===0)break e;case"keydown":case"keyup":F=Rd;break;case"focusin":V="focus",F=ka;break;case"focusout":V="blur",F=ka;break;case"beforeblur":case"afterblur":F=ka;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=$d;break;case os:case is:case ss:F=Cd;break;case us:F=Dd;break;case"scroll":F=vd;break;case"wheel":F=Pd;break;case"copy":case"cut":case"paste":F=Nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Bi}var W=(t&4)!==0,ze=!W&&e==="scroll",k=W?I!==null?I+"Capture":null:I;W=[];for(var x=b,j;x!==null;){j=x;var $=j.stateNode;if(j.tag===5&&$!==null&&(j=$,k!==null&&($=Kn(x,k),$!=null&&W.push(mr(x,$,j)))),ze)break;x=x.return}0<W.length&&(I=new F(I,V,null,n,M),z.push({event:I,listeners:W}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",I&&n!==la&&(V=n.relatedTarget||n.fromElement)&&(ln(V)||V[Et]))break e;if((F||I)&&(I=M.window===M?M:(I=M.ownerDocument)?I.defaultView||I.parentWindow:window,F?(V=n.relatedTarget||n.toElement,F=b,V=V?ln(V):null,V!==null&&(ze=rn(V),V!==ze||V.tag!==5&&V.tag!==6)&&(V=null)):(F=null,V=b),F!==V)){if(W=Fi,$="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(W=Bi,$="onPointerLeave",k="onPointerEnter",x="pointer"),ze=F==null?I:En(F),j=V==null?I:En(V),I=new W($,x+"leave",F,n,M),I.target=ze,I.relatedTarget=j,$=null,ln(M)===b&&(W=new W(k,x+"enter",V,n,M),W.target=j,W.relatedTarget=ze,$=W),ze=$,F&&V)t:{for(W=F,k=V,x=0,j=W;j;j=bn(j))x++;for(j=0,$=k;$;$=bn($))j++;for(;0<x-j;)W=bn(W),x--;for(;0<j-x;)k=bn(k),j--;for(;x--;){if(W===k||k!==null&&W===k.alternate)break t;W=bn(W),k=bn(k)}W=null}else W=null;F!==null&&hs(z,I,F,W,!1),V!==null&&ze!==null&&hs(z,ze,V,W,!0)}}e:{if(I=b?En(b):window,F=I.nodeName&&I.nodeName.toLowerCase(),F==="select"||F==="input"&&I.type==="file")var G=qd;else if(Gi(I))if(Ji)G=Jd;else{G=Gd;var X=Qd}else(F=I.nodeName)&&F.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(G=Kd);if(G&&(G=G(e,b))){Ki(z,G,n,M);break e}X&&X(e,I,b),e==="focusout"&&(X=I._wrapperState)&&X.controlled&&I.type==="number"&&Zl(I,"number",I.value)}switch(X=b?En(b):window,e){case"focusin":(Gi(X)||X.contentEditable==="true")&&(jn=X,Ea=b,dr=null);break;case"focusout":dr=Ea=jn=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,ls(z,n,M);break;case"selectionchange":if(Zd)break;case"keydown":case"keyup":ls(z,n,M)}var Z;if(ja)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Cn?qi(e,n)&&(re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(re="onCompositionStart");re&&(Hi&&n.locale!=="ko"&&(Cn||re!=="onCompositionStart"?re==="onCompositionEnd"&&Cn&&(Z=Oi()):(Ut=M,va="value"in Ut?Ut.value:Ut.textContent,Cn=!0)),X=rl(b,re),0<X.length&&(re=new Ui(re,e,null,n,M),z.push({event:re,listeners:X}),Z?re.data=Z:(Z=Qi(n),Z!==null&&(re.data=Z)))),(Z=Ud?Bd(e,n):Hd(e,n))&&(b=rl(b,"onBeforeInput"),0<b.length&&(M=new Ui("onBeforeInput","beforeinput",null,n,M),z.push({event:M,listeners:b}),M.data=Z))}fs(z,t)})}function mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Kn(e,n),a!=null&&r.unshift(mr(e,a,l)),a=Kn(e,t),a!=null&&r.push(mr(e,a,l))),e=e.return}return r}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hs(e,t,n,r,l){for(var a=t._reactName,d=[];n!==null&&n!==r;){var m=n,v=m.alternate,b=m.stateNode;if(v!==null&&v===r)break;m.tag===5&&b!==null&&(m=b,l?(v=Kn(n,a),v!=null&&d.unshift(mr(n,v,m))):l||(v=Kn(n,a),v!=null&&d.push(mr(n,v,m)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var rp=/\r\n?/g,lp=/\u0000|\uFFFD/g;function gs(e){return(typeof e=="string"?e:""+e).replace(rp,`
`).replace(lp,"")}function ll(e,t,n){if(t=gs(t),gs(e)!==t&&n)throw Error(s(425))}function al(){}var $a=null,Aa=null;function Da(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oa=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,ys=typeof Promise=="function"?Promise:void 0,op=typeof queueMicrotask=="function"?queueMicrotask:typeof ys<"u"?function(e){return ys.resolve(null).then(e).catch(ip)}:Oa;function ip(e){setTimeout(function(){throw e})}function Pa(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),lr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);lr(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vs(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Tn,hr="__reactProps$"+Tn,Et="__reactContainer$"+Tn,Fa="__reactEvents$"+Tn,sp="__reactListeners$"+Tn,up="__reactHandles$"+Tn;function ln(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Et]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vs(e);e!==null;){if(n=e[Ct])return n;e=vs(e)}return t}e=n,n=e.parentNode}return null}function gr(e){return e=e[Ct]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function En(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function ol(e){return e[hr]||null}var Ua=[],_n=-1;function Vt(e){return{current:e}}function Ce(e){0>_n||(e.current=Ua[_n],Ua[_n]=null,_n--)}function xe(e,t){_n++,Ua[_n]=e.current,e.current=t}var Wt={},Ve=Vt(Wt),Je=Vt(!1),an=Wt;function In(e,t){var n=e.type.contextTypes;if(!n)return Wt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ye(e){return e=e.childContextTypes,e!=null}function il(){Ce(Je),Ce(Ve)}function xs(e,t,n){if(Ve.current!==Wt)throw Error(s(168));xe(Ve,t),xe(Je,n)}function ws(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(s(108,Y(e)||"Unknown",l));return O({},n,r)}function sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wt,an=Ve.current,xe(Ve,e),xe(Je,Je.current),!0}function Ss(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ws(e,t,an),r.__reactInternalMemoizedMergedChildContext=e,Ce(Je),Ce(Ve),xe(Ve,e)):Ce(Je),xe(Je,n)}var _t=null,ul=!1,Ba=!1;function ks(e){_t===null?_t=[e]:_t.push(e)}function cp(e){ul=!0,ks(e)}function qt(){if(!Ba&&_t!==null){Ba=!0;var e=0,t=ye;try{var n=_t;for(ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_t=null,ul=!1}catch(l){throw _t!==null&&(_t=_t.slice(e+1)),ji(ca,qt),l}finally{ye=t,Ba=!1}}return null}var Mn=[],Rn=0,cl=null,dl=0,st=[],ut=0,on=null,It=1,Mt="";function sn(e,t){Mn[Rn++]=dl,Mn[Rn++]=cl,cl=e,dl=t}function Cs(e,t,n){st[ut++]=It,st[ut++]=Mt,st[ut++]=on,on=e;var r=It;e=Mt;var l=32-ht(r)-1;r&=~(1<<l),n+=1;var a=32-ht(t)+l;if(30<a){var d=l-l%5;a=(r&(1<<d)-1).toString(32),r>>=d,l-=d,It=1<<32-ht(t)+l|n<<l|r,Mt=a+e}else It=1<<a|n<<l|r,Mt=e}function Ha(e){e.return!==null&&(sn(e,1),Cs(e,1,0))}function Va(e){for(;e===cl;)cl=Mn[--Rn],Mn[Rn]=null,dl=Mn[--Rn],Mn[Rn]=null;for(;e===on;)on=st[--ut],st[ut]=null,Mt=st[--ut],st[ut]=null,It=st[--ut],st[ut]=null}var lt=null,at=null,je=!1,yt=null;function js(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ns(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,at=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=on!==null?{id:It,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,at=null,!0):!1;default:return!1}}function Wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qa(e){if(je){var t=at;if(t){var n=t;if(!Ns(e,t)){if(Wa(e))throw Error(s(418));t=Ht(n.nextSibling);var r=lt;t&&Ns(e,t)?js(r,n):(e.flags=e.flags&-4097|2,je=!1,lt=e)}}else{if(Wa(e))throw Error(s(418));e.flags=e.flags&-4097|2,je=!1,lt=e}}}function bs(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function pl(e){if(e!==lt)return!1;if(!je)return bs(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Da(e.type,e.memoizedProps)),t&&(t=at)){if(Wa(e))throw Ts(),Error(s(418));for(;t;)js(e,t),t=Ht(t.nextSibling)}if(bs(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=Ht(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=lt?Ht(e.stateNode.nextSibling):null;return!0}function Ts(){for(var e=at;e;)e=Ht(e.nextSibling)}function zn(){at=lt=null,je=!1}function Qa(e){yt===null?yt=[e]:yt.push(e)}var dp=te.ReactCurrentBatchConfig;function yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(d){var m=l.refs;d===null?delete m[a]:m[a]=d},t._stringRef=a,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function fl(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Es(e){var t=e._init;return t(e._payload)}function _s(e){function t(k,x){if(e){var j=k.deletions;j===null?(k.deletions=[x],k.flags|=16):j.push(x)}}function n(k,x){if(!e)return null;for(;x!==null;)t(k,x),x=x.sibling;return null}function r(k,x){for(k=new Map;x!==null;)x.key!==null?k.set(x.key,x):k.set(x.index,x),x=x.sibling;return k}function l(k,x){return k=en(k,x),k.index=0,k.sibling=null,k}function a(k,x,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<x?(k.flags|=2,x):j):(k.flags|=2,x)):(k.flags|=1048576,x)}function d(k){return e&&k.alternate===null&&(k.flags|=2),k}function m(k,x,j,$){return x===null||x.tag!==6?(x=Po(j,k.mode,$),x.return=k,x):(x=l(x,j),x.return=k,x)}function v(k,x,j,$){var G=j.type;return G===q?M(k,x,j.props.children,$,j.key):x!==null&&(x.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Se&&Es(G)===x.type)?($=l(x,j.props),$.ref=yr(k,x,j),$.return=k,$):($=Dl(j.type,j.key,j.props,null,k.mode,$),$.ref=yr(k,x,j),$.return=k,$)}function b(k,x,j,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=Fo(j,k.mode,$),x.return=k,x):(x=l(x,j.children||[]),x.return=k,x)}function M(k,x,j,$,G){return x===null||x.tag!==7?(x=gn(j,k.mode,$,G),x.return=k,x):(x=l(x,j),x.return=k,x)}function z(k,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Po(""+x,k.mode,j),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case de:return j=Dl(x.type,x.key,x.props,null,k.mode,j),j.ref=yr(k,null,x),j.return=k,j;case U:return x=Fo(x,k.mode,j),x.return=k,x;case Se:var $=x._init;return z(k,$(x._payload),j)}if(qn(x)||K(x))return x=gn(x,k.mode,j,null),x.return=k,x;fl(k,x)}return null}function I(k,x,j,$){var G=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return G!==null?null:m(k,x,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case de:return j.key===G?v(k,x,j,$):null;case U:return j.key===G?b(k,x,j,$):null;case Se:return G=j._init,I(k,x,G(j._payload),$)}if(qn(j)||K(j))return G!==null?null:M(k,x,j,$,null);fl(k,j)}return null}function F(k,x,j,$,G){if(typeof $=="string"&&$!==""||typeof $=="number")return k=k.get(j)||null,m(x,k,""+$,G);if(typeof $=="object"&&$!==null){switch($.$$typeof){case de:return k=k.get($.key===null?j:$.key)||null,v(x,k,$,G);case U:return k=k.get($.key===null?j:$.key)||null,b(x,k,$,G);case Se:var X=$._init;return F(k,x,j,X($._payload),G)}if(qn($)||K($))return k=k.get(j)||null,M(x,k,$,G,null);fl(x,$)}return null}function V(k,x,j,$){for(var G=null,X=null,Z=x,re=x=0,Pe=null;Z!==null&&re<j.length;re++){Z.index>re?(Pe=Z,Z=null):Pe=Z.sibling;var ge=I(k,Z,j[re],$);if(ge===null){Z===null&&(Z=Pe);break}e&&Z&&ge.alternate===null&&t(k,Z),x=a(ge,x,re),X===null?G=ge:X.sibling=ge,X=ge,Z=Pe}if(re===j.length)return n(k,Z),je&&sn(k,re),G;if(Z===null){for(;re<j.length;re++)Z=z(k,j[re],$),Z!==null&&(x=a(Z,x,re),X===null?G=Z:X.sibling=Z,X=Z);return je&&sn(k,re),G}for(Z=r(k,Z);re<j.length;re++)Pe=F(Z,k,re,j[re],$),Pe!==null&&(e&&Pe.alternate!==null&&Z.delete(Pe.key===null?re:Pe.key),x=a(Pe,x,re),X===null?G=Pe:X.sibling=Pe,X=Pe);return e&&Z.forEach(function(tn){return t(k,tn)}),je&&sn(k,re),G}function W(k,x,j,$){var G=K(j);if(typeof G!="function")throw Error(s(150));if(j=G.call(j),j==null)throw Error(s(151));for(var X=G=null,Z=x,re=x=0,Pe=null,ge=j.next();Z!==null&&!ge.done;re++,ge=j.next()){Z.index>re?(Pe=Z,Z=null):Pe=Z.sibling;var tn=I(k,Z,ge.value,$);if(tn===null){Z===null&&(Z=Pe);break}e&&Z&&tn.alternate===null&&t(k,Z),x=a(tn,x,re),X===null?G=tn:X.sibling=tn,X=tn,Z=Pe}if(ge.done)return n(k,Z),je&&sn(k,re),G;if(Z===null){for(;!ge.done;re++,ge=j.next())ge=z(k,ge.value,$),ge!==null&&(x=a(ge,x,re),X===null?G=ge:X.sibling=ge,X=ge);return je&&sn(k,re),G}for(Z=r(k,Z);!ge.done;re++,ge=j.next())ge=F(Z,k,re,ge.value,$),ge!==null&&(e&&ge.alternate!==null&&Z.delete(ge.key===null?re:ge.key),x=a(ge,x,re),X===null?G=ge:X.sibling=ge,X=ge);return e&&Z.forEach(function(Vp){return t(k,Vp)}),je&&sn(k,re),G}function ze(k,x,j,$){if(typeof j=="object"&&j!==null&&j.type===q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case de:e:{for(var G=j.key,X=x;X!==null;){if(X.key===G){if(G=j.type,G===q){if(X.tag===7){n(k,X.sibling),x=l(X,j.props.children),x.return=k,k=x;break e}}else if(X.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Se&&Es(G)===X.type){n(k,X.sibling),x=l(X,j.props),x.ref=yr(k,X,j),x.return=k,k=x;break e}n(k,X);break}else t(k,X);X=X.sibling}j.type===q?(x=gn(j.props.children,k.mode,$,j.key),x.return=k,k=x):($=Dl(j.type,j.key,j.props,null,k.mode,$),$.ref=yr(k,x,j),$.return=k,k=$)}return d(k);case U:e:{for(X=j.key;x!==null;){if(x.key===X)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){n(k,x.sibling),x=l(x,j.children||[]),x.return=k,k=x;break e}else{n(k,x);break}else t(k,x);x=x.sibling}x=Fo(j,k.mode,$),x.return=k,k=x}return d(k);case Se:return X=j._init,ze(k,x,X(j._payload),$)}if(qn(j))return V(k,x,j,$);if(K(j))return W(k,x,j,$);fl(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,x!==null&&x.tag===6?(n(k,x.sibling),x=l(x,j),x.return=k,k=x):(n(k,x),x=Po(j,k.mode,$),x.return=k,k=x),d(k)):n(k,x)}return ze}var Ln=_s(!0),Is=_s(!1),ml=Vt(null),hl=null,$n=null,Ga=null;function Ka(){Ga=$n=hl=null}function Ja(e){var t=ml.current;Ce(ml),e._currentValue=t}function Ya(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function An(e,t){hl=e,Ga=$n=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Xe=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Ga!==e)if(e={context:e,memoizedValue:t,next:null},$n===null){if(hl===null)throw Error(s(308));$n=e,hl.dependencies={lanes:0,firstContext:e}}else $n=$n.next=e;return t}var un=null;function Xa(e){un===null?un=[e]:un.push(e)}function Ms(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Xa(t)):(n.next=l.next,l.next=n),t.interleaved=n,Rt(e,r)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function Za(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(me&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Rt(e,n)}return l=r.interleaved,l===null?(t.next=t,Xa(r)):(t.next=l.next,l.next=t),r.interleaved=t,Rt(e,n)}function gl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fa(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=d:a=a.next=d,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yl(e,t,n,r){var l=e.updateQueue;Qt=!1;var a=l.firstBaseUpdate,d=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var v=m,b=v.next;v.next=null,d===null?a=b:d.next=b,d=v;var M=e.alternate;M!==null&&(M=M.updateQueue,m=M.lastBaseUpdate,m!==d&&(m===null?M.firstBaseUpdate=b:m.next=b,M.lastBaseUpdate=v))}if(a!==null){var z=l.baseState;d=0,M=b=v=null,m=a;do{var I=m.lane,F=m.eventTime;if((r&I)===I){M!==null&&(M=M.next={eventTime:F,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var V=e,W=m;switch(I=t,F=n,W.tag){case 1:if(V=W.payload,typeof V=="function"){z=V.call(F,z,I);break e}z=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=W.payload,I=typeof V=="function"?V.call(F,z,I):V,I==null)break e;z=O({},z,I);break e;case 2:Qt=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,I=l.effects,I===null?l.effects=[m]:I.push(m))}else F={eventTime:F,lane:I,tag:m.tag,payload:m.payload,callback:m.callback,next:null},M===null?(b=M=F,v=z):M=M.next=F,d|=I;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;I=m,m=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(!0);if(M===null&&(v=z),l.baseState=v,l.firstBaseUpdate=b,l.lastBaseUpdate=M,t=l.shared.interleaved,t!==null){l=t;do d|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);pn|=d,e.lanes=d,e.memoizedState=z}}function Ls(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(s(191,l));l.call(r)}}}var vr={},jt=Vt(vr),xr=Vt(vr),wr=Vt(vr);function cn(e){if(e===vr)throw Error(s(174));return e}function eo(e,t){switch(xe(wr,t),xe(xr,e),xe(jt,vr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ta(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ta(t,e)}Ce(jt),xe(jt,t)}function Dn(){Ce(jt),Ce(xr),Ce(wr)}function $s(e){cn(wr.current);var t=cn(jt.current),n=ta(t,e.type);t!==n&&(xe(xr,e),xe(jt,n))}function to(e){xr.current===e&&(Ce(jt),Ce(xr))}var Te=Vt(0);function vl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var xl=te.ReactCurrentDispatcher,lo=te.ReactCurrentBatchConfig,dn=0,Ee=null,$e=null,De=null,wl=!1,Sr=!1,kr=0,pp=0;function We(){throw Error(s(321))}function ao(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,l,a){if(dn=a,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xl.current=e===null||e.memoizedState===null?gp:yp,e=n(r,l),Sr){a=0;do{if(Sr=!1,kr=0,25<=a)throw Error(s(301));a+=1,De=$e=null,t.updateQueue=null,xl.current=vp,e=n(r,l)}while(Sr)}if(xl.current=Cl,t=$e!==null&&$e.next!==null,dn=0,De=$e=Ee=null,wl=!1,t)throw Error(s(300));return e}function io(){var e=kr!==0;return kr=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ee.memoizedState=De=e:De=De.next=e,De}function dt(){if($e===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=De===null?Ee.memoizedState:De.next;if(t!==null)De=t,$e=e;else{if(e===null)throw Error(s(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},De===null?Ee.memoizedState=De=e:De=De.next=e}return De}function Cr(e,t){return typeof t=="function"?t(e):t}function so(e){var t=dt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=$e,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var d=l.next;l.next=a.next,a.next=d}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var m=d=null,v=null,b=a;do{var M=b.lane;if((dn&M)===M)v!==null&&(v=v.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),r=b.hasEagerState?b.eagerState:e(r,b.action);else{var z={lane:M,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};v===null?(m=v=z,d=r):v=v.next=z,Ee.lanes|=M,pn|=M}b=b.next}while(b!==null&&b!==a);v===null?d=r:v.next=m,gt(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=v,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,Ee.lanes|=a,pn|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uo(e){var t=dt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var d=l=l.next;do a=e(a,d.action),d=d.next;while(d!==l);gt(a,t.memoizedState)||(Xe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function As(){}function Ds(e,t){var n=Ee,r=dt(),l=t(),a=!gt(r.memoizedState,l);if(a&&(r.memoizedState=l,Xe=!0),r=r.queue,co(Fs.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,jr(9,Ps.bind(null,n,r,l,t),void 0,null),Oe===null)throw Error(s(349));(dn&30)!==0||Os(n,t,l)}return l}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ps(e,t,n,r){t.value=n,t.getSnapshot=r,Us(t)&&Bs(e)}function Fs(e,t,n){return n(function(){Us(t)&&Bs(e)})}function Us(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function Bs(e){var t=Rt(e,1);t!==null&&St(t,e,1,-1)}function Hs(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:e},t.queue=e,e=e.dispatch=hp.bind(null,Ee,e),[t.memoizedState,e]}function jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vs(){return dt().memoizedState}function Sl(e,t,n,r){var l=Nt();Ee.flags|=e,l.memoizedState=jr(1|t,n,void 0,r===void 0?null:r)}function kl(e,t,n,r){var l=dt();r=r===void 0?null:r;var a=void 0;if($e!==null){var d=$e.memoizedState;if(a=d.destroy,r!==null&&ao(r,d.deps)){l.memoizedState=jr(t,n,a,r);return}}Ee.flags|=e,l.memoizedState=jr(1|t,n,a,r)}function Ws(e,t){return Sl(8390656,8,e,t)}function co(e,t){return kl(2048,8,e,t)}function qs(e,t){return kl(4,2,e,t)}function Qs(e,t){return kl(4,4,e,t)}function Gs(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ks(e,t,n){return n=n!=null?n.concat([e]):null,kl(4,4,Gs.bind(null,t,e),n)}function po(){}function Js(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ys(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return(dn&21)===0?(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n):(gt(n,t)||(n=Ei(),Ee.lanes|=n,pn|=n,e.baseState=!0),t)}function fp(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var r=lo.transition;lo.transition={};try{e(!1),t()}finally{ye=n,lo.transition=r}}function Zs(){return dt().memoizedState}function mp(e,t,n){var r=Xt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eu(e))tu(t,n);else if(n=Ms(e,t,n,r),n!==null){var l=Ke();St(n,e,r,l),nu(n,t,r)}}function hp(e,t,n){var r=Xt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eu(e))tu(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var d=t.lastRenderedState,m=a(d,n);if(l.hasEagerState=!0,l.eagerState=m,gt(m,d)){var v=t.interleaved;v===null?(l.next=l,Xa(t)):(l.next=v.next,v.next=l),t.interleaved=l;return}}catch{}finally{}n=Ms(e,t,l,r),n!==null&&(l=Ke(),St(n,e,r,l),nu(n,t,r))}}function eu(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function tu(e,t){Sr=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fa(e,n)}}var Cl={readContext:ct,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},gp={readContext:ct,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Ws,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sl(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mp.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Hs,useDebugValue:po,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Hs(!1),t=e[0];return e=fp.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,l=Nt();if(je){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Oe===null)throw Error(s(349));(dn&30)!==0||Os(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Ws(Fs.bind(null,r,a,e),[e]),r.flags|=2048,jr(9,Ps.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Oe.identifierPrefix;if(je){var n=Mt,r=It;n=(r&~(1<<32-ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=kr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yp={readContext:ct,useCallback:Js,useContext:ct,useEffect:co,useImperativeHandle:Ks,useInsertionEffect:qs,useLayoutEffect:Qs,useMemo:Ys,useReducer:so,useRef:Vs,useState:function(){return so(Cr)},useDebugValue:po,useDeferredValue:function(e){var t=dt();return Xs(t,$e.memoizedState,e)},useTransition:function(){var e=so(Cr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:As,useSyncExternalStore:Ds,useId:Zs,unstable_isNewReconciler:!1},vp={readContext:ct,useCallback:Js,useContext:ct,useEffect:co,useImperativeHandle:Ks,useInsertionEffect:qs,useLayoutEffect:Qs,useMemo:Ys,useReducer:uo,useRef:Vs,useState:function(){return uo(Cr)},useDebugValue:po,useDeferredValue:function(e){var t=dt();return $e===null?t.memoizedState=e:Xs(t,$e.memoizedState,e)},useTransition:function(){var e=uo(Cr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:As,useSyncExternalStore:Ds,useId:Zs,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=O({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:O({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jl={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ke(),l=Xt(e),a=zt(r,l);a.payload=t,n!=null&&(a.callback=n),t=Gt(e,a,l),t!==null&&(St(t,e,l,r),gl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ke(),l=Xt(e),a=zt(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Gt(e,a,l),t!==null&&(St(t,e,l,r),gl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),r=Xt(e),l=zt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Gt(e,l,r),t!==null&&(St(t,e,r,n),gl(t,e,r))}};function ru(e,t,n,r,l,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,d):t.prototype&&t.prototype.isPureReactComponent?!cr(n,r)||!cr(l,a):!0}function lu(e,t,n){var r=!1,l=Wt,a=t.contextType;return typeof a=="object"&&a!==null?a=ct(a):(l=Ye(t)?an:Ve.current,r=t.contextTypes,a=(r=r!=null)?In(e,l):Wt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function au(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jl.enqueueReplaceState(t,t.state,null)}function mo(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Za(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=ct(a):(a=Ye(t)?an:Ve.current,l.context=In(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(fo(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&jl.enqueueReplaceState(l,l.state,null),yl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function On(e,t){try{var n="",r=t;do n+=oe(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function go(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xp=typeof WeakMap=="function"?WeakMap:Map;function ou(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ml||(Ml=!0,Mo=r),go(e,t)},n}function iu(e,t,n){n=zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){go(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){go(e,t),typeof r!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function su(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xp;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=zp.bind(null,e,t,n),t.then(e,e))}function uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,Gt(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var wp=te.ReactCurrentOwner,Xe=!1;function Ge(e,t,n,r){t.child=e===null?Is(t,null,n,r):Ln(t,e.child,n,r)}function du(e,t,n,r,l){n=n.render;var a=t.ref;return An(t,l),r=oo(e,t,n,r,a,l),n=io(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(je&&n&&Ha(t),t.flags|=1,Ge(e,t,r,l),t.child)}function pu(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!Oo(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,fu(e,t,a,r,l)):(e=Dl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&l)===0){var d=a.memoizedProps;if(n=n.compare,n=n!==null?n:cr,n(d,r)&&e.ref===t.ref)return Lt(e,t,l)}return t.flags|=1,e=en(a,r),e.ref=t.ref,e.return=t,t.child=e}function fu(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(cr(a,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=a,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,Lt(e,t,l)}return yo(e,t,n,r,l)}function mu(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Fn,ot),ot|=n;else{if((n&1073741824)===0)return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Fn,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,xe(Fn,ot),ot|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,xe(Fn,ot),ot|=r;return Ge(e,t,l,n),t.child}function hu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yo(e,t,n,r,l){var a=Ye(n)?an:Ve.current;return a=In(t,a),An(t,l),n=oo(e,t,n,r,a,l),r=io(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(je&&r&&Ha(t),t.flags|=1,Ge(e,t,n,l),t.child)}function gu(e,t,n,r,l){if(Ye(n)){var a=!0;sl(t)}else a=!1;if(An(t,l),t.stateNode===null)bl(e,t),lu(t,n,r),mo(t,n,r,l),r=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var v=d.context,b=n.contextType;typeof b=="object"&&b!==null?b=ct(b):(b=Ye(n)?an:Ve.current,b=In(t,b));var M=n.getDerivedStateFromProps,z=typeof M=="function"||typeof d.getSnapshotBeforeUpdate=="function";z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==r||v!==b)&&au(t,d,r,b),Qt=!1;var I=t.memoizedState;d.state=I,yl(t,r,d,l),v=t.memoizedState,m!==r||I!==v||Je.current||Qt?(typeof M=="function"&&(fo(t,n,M,r),v=t.memoizedState),(m=Qt||ru(t,n,m,r,I,v,b))?(z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=v),d.props=r,d.state=v,d.context=b,r=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Rs(e,t),m=t.memoizedProps,b=t.type===t.elementType?m:vt(t.type,m),d.props=b,z=t.pendingProps,I=d.context,v=n.contextType,typeof v=="object"&&v!==null?v=ct(v):(v=Ye(n)?an:Ve.current,v=In(t,v));var F=n.getDerivedStateFromProps;(M=typeof F=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==z||I!==v)&&au(t,d,r,v),Qt=!1,I=t.memoizedState,d.state=I,yl(t,r,d,l);var V=t.memoizedState;m!==z||I!==V||Je.current||Qt?(typeof F=="function"&&(fo(t,n,F,r),V=t.memoizedState),(b=Qt||ru(t,n,b,r,I,V,v)||!1)?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,V,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,V,v)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=V),d.props=r,d.state=V,d.context=v,r=b):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),r=!1)}return vo(e,t,n,r,a,l)}function vo(e,t,n,r,l,a){hu(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return l&&Ss(t,n,!1),Lt(e,t,a);r=t.stateNode,wp.current=t;var m=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=Ln(t,e.child,null,a),t.child=Ln(t,null,m,a)):Ge(e,t,m,a),t.memoizedState=r.state,l&&Ss(t,n,!0),t.child}function yu(e){var t=e.stateNode;t.pendingContext?xs(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xs(e,t.context,!1),eo(e,t.containerInfo)}function vu(e,t,n,r,l){return zn(),Qa(l),t.flags|=256,Ge(e,t,n,r),t.child}var xo={dehydrated:null,treeContext:null,retryLane:0};function wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function xu(e,t,n){var r=t.pendingProps,l=Te.current,a=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),xe(Te,l&1),e===null)return qa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=r.children,e=r.fallback,a?(r=t.mode,a=t.child,d={mode:"hidden",children:d},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=d):a=Ol(d,r,0,null),e=gn(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=wo(n),t.memoizedState=xo,e):So(t,d));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return Sp(e,t,d,r,m,l,n);if(a){a=r.fallback,d=t.mode,l=e.child,m=l.sibling;var v={mode:"hidden",children:r.children};return(d&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=v,t.deletions=null):(r=en(l,v),r.subtreeFlags=l.subtreeFlags&14680064),m!==null?a=en(m,a):(a=gn(a,d,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,d=e.child.memoizedState,d=d===null?wo(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~n,t.memoizedState=xo,r}return a=e.child,e=a.sibling,r=en(a,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function So(e,t){return t=Ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nl(e,t,n,r){return r!==null&&Qa(r),Ln(t,e.child,null,n),e=So(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sp(e,t,n,r,l,a,d){if(n)return t.flags&256?(t.flags&=-257,r=ho(Error(s(422))),Nl(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Ol({mode:"visible",children:r.children},l,0,null),a=gn(a,l,d,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,(t.mode&1)!==0&&Ln(t,e.child,null,d),t.child.memoizedState=wo(d),t.memoizedState=xo,a);if((t.mode&1)===0)return Nl(e,t,d,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var m=r.dgst;return r=m,a=Error(s(419)),r=ho(a,r,void 0),Nl(e,t,d,r)}if(m=(d&e.childLanes)!==0,Xe||m){if(r=Oe,r!==null){switch(d&-d){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|d))!==0?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Rt(e,l),St(r,e,l,-1))}return Do(),r=ho(Error(s(421))),Nl(e,t,d,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Lp.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,at=Ht(l.nextSibling),lt=t,je=!0,yt=null,e!==null&&(st[ut++]=It,st[ut++]=Mt,st[ut++]=on,It=e.id,Mt=e.overflow,on=t),t=So(t,r.children),t.flags|=4096,t)}function wu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ya(e.return,t,n)}function ko(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function Su(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Ge(e,t,r.children,n),r=Te.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wu(e,n,t);else if(e.tag===19)wu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Te,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&vl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ko(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&vl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ko(t,!0,n,null,a);break;case"together":ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kp(e,t,n){switch(t.tag){case 3:yu(t),zn();break;case 5:$s(t);break;case 1:Ye(t.type)&&sl(t);break;case 4:eo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;xe(ml,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Te,Te.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?xu(e,t,n):(xe(Te,Te.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);xe(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Su(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),xe(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,mu(e,t,n)}return Lt(e,t,n)}var ku,Co,Cu,ju;ku=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Co=function(){},Cu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,cn(jt.current);var a=null;switch(n){case"input":l=At(e,l),r=At(e,r),a=[];break;case"select":l=O({},l,{value:void 0}),r=O({},r,{value:void 0}),a=[];break;case"textarea":l=ea(e,l),r=ea(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=al)}na(n,r);var d;n=null;for(b in l)if(!r.hasOwnProperty(b)&&l.hasOwnProperty(b)&&l[b]!=null)if(b==="style"){var m=l[b];for(d in m)m.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(f.hasOwnProperty(b)?a||(a=[]):(a=a||[]).push(b,null));for(b in r){var v=r[b];if(m=l!=null?l[b]:void 0,r.hasOwnProperty(b)&&v!==m&&(v!=null||m!=null))if(b==="style")if(m){for(d in m)!m.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in v)v.hasOwnProperty(d)&&m[d]!==v[d]&&(n||(n={}),n[d]=v[d])}else n||(a||(a=[]),a.push(b,n)),n=v;else b==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,m=m?m.__html:void 0,v!=null&&m!==v&&(a=a||[]).push(b,v)):b==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(b,""+v):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(f.hasOwnProperty(b)?(v!=null&&b==="onScroll"&&ke("scroll",e),a||m===v||(a=[])):(a=a||[]).push(b,v))}n&&(a=a||[]).push("style",n);var b=a;(t.updateQueue=b)&&(t.flags|=4)}},ju=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cp(e,t,n){var r=t.pendingProps;switch(Va(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return Ye(t.type)&&il(),qe(t),null;case 3:return r=t.stateNode,Dn(),Ce(Je),Ce(Ve),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yt!==null&&(Lo(yt),yt=null))),Co(e,t),qe(t),null;case 5:to(t);var l=cn(wr.current);if(n=t.type,e!==null&&t.stateNode!=null)Cu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(s(166));return qe(t),null}if(e=cn(jt.current),pl(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ct]=t,r[hr]=a,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(l=0;l<pr.length;l++)ke(pr[l],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Ar(r,a),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ke("invalid",r);break;case"textarea":ii(r,a),ke("invalid",r)}na(n,a),l=null;for(var d in a)if(a.hasOwnProperty(d)){var m=a[d];d==="children"?typeof m=="string"?r.textContent!==m&&(a.suppressHydrationWarning!==!0&&ll(r.textContent,m,e),l=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(a.suppressHydrationWarning!==!0&&ll(r.textContent,m,e),l=["children",""+m]):f.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&ke("scroll",r)}switch(n){case"input":nt(r),oi(r,a,!0);break;case"textarea":nt(r),ui(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=al)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ci(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[Ct]=t,e[hr]=r,ku(e,t,!1,!1),t.stateNode=e;e:{switch(d=ra(n,r),n){case"dialog":ke("cancel",e),ke("close",e),l=r;break;case"iframe":case"object":case"embed":ke("load",e),l=r;break;case"video":case"audio":for(l=0;l<pr.length;l++)ke(pr[l],e);l=r;break;case"source":ke("error",e),l=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),l=r;break;case"details":ke("toggle",e),l=r;break;case"input":Ar(e,r),l=At(e,r),ke("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=O({},r,{value:void 0}),ke("invalid",e);break;case"textarea":ii(e,r),l=ea(e,r),ke("invalid",e);break;default:l=r}na(n,l),m=l;for(a in m)if(m.hasOwnProperty(a)){var v=m[a];a==="style"?fi(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&di(e,v)):a==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&Qn(e,v):typeof v=="number"&&Qn(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(f.hasOwnProperty(a)?v!=null&&a==="onScroll"&&ke("scroll",e):v!=null&&se(e,a,v,d))}switch(n){case"input":nt(e),oi(e,r,!1);break;case"textarea":nt(e),ui(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ne(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?vn(e,!!r.multiple,a,!1):r.defaultValue!=null&&vn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)ju(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(n=cn(wr.current),cn(jt.current),pl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(a=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:ll(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ll(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return qe(t),null;case 13:if(Ce(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&at!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ts(),zn(),t.flags|=98560,a=!1;else if(a=pl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(s(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));a[Ct]=t}else zn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),a=!1}else yt!==null&&(Lo(yt),yt=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Te.current&1)!==0?Ae===0&&(Ae=3):Do())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Dn(),Co(e,t),e===null&&fr(t.stateNode.containerInfo),qe(t),null;case 10:return Ja(t.type._context),qe(t),null;case 17:return Ye(t.type)&&il(),qe(t),null;case 19:if(Ce(Te),a=t.memoizedState,a===null)return qe(t),null;if(r=(t.flags&128)!==0,d=a.rendering,d===null)if(r)Nr(a,!1);else{if(Ae!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=vl(e),d!==null){for(t.flags|=128,Nr(a,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Te,Te.current&1|2),t.child}e=e.sibling}a.tail!==null&&Re()>Un&&(t.flags|=128,r=!0,Nr(a,!1),t.lanes=4194304)}else{if(!r)if(e=vl(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!je)return qe(t),null}else 2*Re()-a.renderingStartTime>Un&&n!==1073741824&&(t.flags|=128,r=!0,Nr(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(n=a.last,n!==null?n.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Re(),t.sibling=null,n=Te.current,xe(Te,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return Ao(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(ot&1073741824)!==0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function jp(e,t){switch(Va(t),t.tag){case 1:return Ye(t.type)&&il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(),Ce(Je),Ce(Ve),ro(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return to(t),null;case 13:if(Ce(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Te),null;case 4:return Dn(),null;case 10:return Ja(t.type._context),null;case 22:case 23:return Ao(),null;case 24:return null;default:return null}}var Tl=!1,Qe=!1,Np=typeof WeakSet=="function"?WeakSet:Set,B=null;function Pn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function jo(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var Nu=!1;function bp(e,t){if($a=Qr,e=rs(),Ta(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var d=0,m=-1,v=-1,b=0,M=0,z=e,I=null;t:for(;;){for(var F;z!==n||l!==0&&z.nodeType!==3||(m=d+l),z!==a||r!==0&&z.nodeType!==3||(v=d+r),z.nodeType===3&&(d+=z.nodeValue.length),(F=z.firstChild)!==null;)I=z,z=F;for(;;){if(z===e)break t;if(I===n&&++b===l&&(m=d),I===a&&++M===r&&(v=d),(F=z.nextSibling)!==null)break;z=I,I=z.parentNode}z=F}n=m===-1||v===-1?null:{start:m,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(Aa={focusedElem:e,selectionRange:n},Qr=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var V=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var W=V.memoizedProps,ze=V.memoizedState,k=t.stateNode,x=k.getSnapshotBeforeUpdate(t.elementType===t.type?W:vt(t.type,W),ze);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch($){Ie(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return V=Nu,Nu=!1,V}function br(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&jo(t,n,a)}l=l.next}while(l!==r)}}function El(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function No(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bu(e){var t=e.alternate;t!==null&&(e.alternate=null,bu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[hr],delete t[Fa],delete t[sp],delete t[up])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tu(e){return e.tag===5||e.tag===3||e.tag===4}function Eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=al));else if(r!==4&&(e=e.child,e!==null))for(bo(e,t,n),e=e.sibling;e!==null;)bo(e,t,n),e=e.sibling}function To(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(To(e,t,n),e=e.sibling;e!==null;)To(e,t,n),e=e.sibling}var Ue=null,xt=!1;function Kt(e,t,n){for(n=n.child;n!==null;)_u(e,t,n),n=n.sibling}function _u(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ur,n)}catch{}switch(n.tag){case 5:Qe||Pn(n,t);case 6:var r=Ue,l=xt;Ue=null,Kt(e,t,n),Ue=r,xt=l,Ue!==null&&(xt?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(xt?(e=Ue,n=n.stateNode,e.nodeType===8?Pa(e.parentNode,n):e.nodeType===1&&Pa(e,n),lr(e)):Pa(Ue,n.stateNode));break;case 4:r=Ue,l=xt,Ue=n.stateNode.containerInfo,xt=!0,Kt(e,t,n),Ue=r,xt=l;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,d=a.destroy;a=a.tag,d!==void 0&&((a&2)!==0||(a&4)!==0)&&jo(n,t,d),l=l.next}while(l!==r)}Kt(e,t,n);break;case 1:if(!Qe&&(Pn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){Ie(n,t,m)}Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,Kt(e,t,n),Qe=r):Kt(e,t,n);break;default:Kt(e,t,n)}}function Iu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Np),t.forEach(function(r){var l=$p.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:Ue=m.stateNode,xt=!1;break e;case 3:Ue=m.stateNode.containerInfo,xt=!0;break e;case 4:Ue=m.stateNode.containerInfo,xt=!0;break e}m=m.return}if(Ue===null)throw Error(s(160));_u(a,d,l),Ue=null,xt=!1;var v=l.alternate;v!==null&&(v.return=null),l.return=null}catch(b){Ie(l,t,b)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mu(t,e),t=t.sibling}function Mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),bt(e),r&4){try{br(3,e,e.return),El(3,e)}catch(W){Ie(e,e.return,W)}try{br(5,e,e.return)}catch(W){Ie(e,e.return,W)}}break;case 1:wt(t,e),bt(e),r&512&&n!==null&&Pn(n,n.return);break;case 5:if(wt(t,e),bt(e),r&512&&n!==null&&Pn(n,n.return),e.flags&32){var l=e.stateNode;try{Qn(l,"")}catch(W){Ie(e,e.return,W)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,d=n!==null?n.memoizedProps:a,m=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{m==="input"&&a.type==="radio"&&a.name!=null&&Wn(l,a),ra(m,d);var b=ra(m,a);for(d=0;d<v.length;d+=2){var M=v[d],z=v[d+1];M==="style"?fi(l,z):M==="dangerouslySetInnerHTML"?di(l,z):M==="children"?Qn(l,z):se(l,M,z,b)}switch(m){case"input":Xl(l,a);break;case"textarea":si(l,a);break;case"select":var I=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var F=a.value;F!=null?vn(l,!!a.multiple,F,!1):I!==!!a.multiple&&(a.defaultValue!=null?vn(l,!!a.multiple,a.defaultValue,!0):vn(l,!!a.multiple,a.multiple?[]:"",!1))}l[hr]=a}catch(W){Ie(e,e.return,W)}}break;case 6:if(wt(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(W){Ie(e,e.return,W)}}break;case 3:if(wt(t,e),bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lr(t.containerInfo)}catch(W){Ie(e,e.return,W)}break;case 4:wt(t,e),bt(e);break;case 13:wt(t,e),bt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Io=Re())),r&4&&Iu(e);break;case 22:if(M=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(b=Qe)||M,wt(t,e),Qe=b):wt(t,e),bt(e),r&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!M&&(e.mode&1)!==0)for(B=e,M=e.child;M!==null;){for(z=B=M;B!==null;){switch(I=B,F=I.child,I.tag){case 0:case 11:case 14:case 15:br(4,I,I.return);break;case 1:Pn(I,I.return);var V=I.stateNode;if(typeof V.componentWillUnmount=="function"){r=I,n=I.return;try{t=r,V.props=t.memoizedProps,V.state=t.memoizedState,V.componentWillUnmount()}catch(W){Ie(r,n,W)}}break;case 5:Pn(I,I.return);break;case 22:if(I.memoizedState!==null){Lu(z);continue}}F!==null?(F.return=I,B=F):Lu(z)}M=M.sibling}e:for(M=null,z=e;;){if(z.tag===5){if(M===null){M=z;try{l=z.stateNode,b?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(m=z.stateNode,v=z.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,m.style.display=pi("display",d))}catch(W){Ie(e,e.return,W)}}}else if(z.tag===6){if(M===null)try{z.stateNode.nodeValue=b?"":z.memoizedProps}catch(W){Ie(e,e.return,W)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;M===z&&(M=null),z=z.return}M===z&&(M=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:wt(t,e),bt(e),r&4&&Iu(e);break;case 21:break;default:wt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tu(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Qn(l,""),r.flags&=-33);var a=Eu(e);To(e,a,l);break;case 3:case 4:var d=r.stateNode.containerInfo,m=Eu(e);bo(e,m,d);break;default:throw Error(s(161))}}catch(v){Ie(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tp(e,t,n){B=e,Ru(e)}function Ru(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var l=B,a=l.child;if(l.tag===22&&r){var d=l.memoizedState!==null||Tl;if(!d){var m=l.alternate,v=m!==null&&m.memoizedState!==null||Qe;m=Tl;var b=Qe;if(Tl=d,(Qe=v)&&!b)for(B=l;B!==null;)d=B,v=d.child,d.tag===22&&d.memoizedState!==null?$u(l):v!==null?(v.return=d,B=v):$u(l);for(;a!==null;)B=a,Ru(a),a=a.sibling;B=l,Tl=m,Qe=b}zu(e)}else(l.subtreeFlags&8772)!==0&&a!==null?(a.return=l,B=a):zu(e)}}function zu(e){for(;B!==null;){var t=B;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qe||El(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ls(t,a,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ls(t,d,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var b=t.alternate;if(b!==null){var M=b.memoizedState;if(M!==null){var z=M.dehydrated;z!==null&&lr(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Qe||t.flags&512&&No(t)}catch(I){Ie(t,t.return,I)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Lu(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function $u(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{El(4,t)}catch(v){Ie(t,n,v)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(v){Ie(t,l,v)}}var a=t.return;try{No(t)}catch(v){Ie(t,a,v)}break;case 5:var d=t.return;try{No(t)}catch(v){Ie(t,d,v)}}}catch(v){Ie(t,t.return,v)}if(t===e){B=null;break}var m=t.sibling;if(m!==null){m.return=t.return,B=m;break}B=t.return}}var Ep=Math.ceil,_l=te.ReactCurrentDispatcher,Eo=te.ReactCurrentOwner,pt=te.ReactCurrentBatchConfig,me=0,Oe=null,Le=null,Be=0,ot=0,Fn=Vt(0),Ae=0,Tr=null,pn=0,Il=0,_o=0,Er=null,Ze=null,Io=0,Un=1/0,$t=null,Ml=!1,Mo=null,Jt=null,Rl=!1,Yt=null,zl=0,_r=0,Ro=null,Ll=-1,$l=0;function Ke(){return(me&6)!==0?Re():Ll!==-1?Ll:Ll=Re()}function Xt(e){return(e.mode&1)===0?1:(me&2)!==0&&Be!==0?Be&-Be:dp.transition!==null?($l===0&&($l=Ei()),$l):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Di(e.type)),e)}function St(e,t,n,r){if(50<_r)throw _r=0,Ro=null,Error(s(185));Zn(e,n,r),((me&2)===0||e!==Oe)&&(e===Oe&&((me&2)===0&&(Il|=n),Ae===4&&Zt(e,Be)),et(e,r),n===1&&me===0&&(t.mode&1)===0&&(Un=Re()+500,ul&&qt()))}function et(e,t){var n=e.callbackNode;dd(e,t);var r=Vr(e,e===Oe?Be:0);if(r===0)n!==null&&Ni(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ni(n),t===1)e.tag===0?cp(Du.bind(null,e)):ks(Du.bind(null,e)),op(function(){(me&6)===0&&qt()}),n=null;else{switch(_i(r)){case 1:n=ca;break;case 4:n=bi;break;case 16:n=Fr;break;case 536870912:n=Ti;break;default:n=Fr}n=Wu(n,Au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Au(e,t){if(Ll=-1,$l=0,(me&6)!==0)throw Error(s(327));var n=e.callbackNode;if(Bn()&&e.callbackNode!==n)return null;var r=Vr(e,e===Oe?Be:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Al(e,r);else{t=r;var l=me;me|=2;var a=Pu();(Oe!==e||Be!==t)&&($t=null,Un=Re()+500,mn(e,t));do try{Mp();break}catch(m){Ou(e,m)}while(!0);Ka(),_l.current=a,me=l,Le!==null?t=0:(Oe=null,Be=0,t=Ae)}if(t!==0){if(t===2&&(l=da(e),l!==0&&(r=l,t=zo(e,l))),t===1)throw n=Tr,mn(e,0),Zt(e,r),et(e,Re()),n;if(t===6)Zt(e,r);else{if(l=e.current.alternate,(r&30)===0&&!_p(l)&&(t=Al(e,r),t===2&&(a=da(e),a!==0&&(r=a,t=zo(e,a))),t===1))throw n=Tr,mn(e,0),Zt(e,r),et(e,Re()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:hn(e,Ze,$t);break;case 3:if(Zt(e,r),(r&130023424)===r&&(t=Io+500-Re(),10<t)){if(Vr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ke(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Oa(hn.bind(null,e,Ze,$t),t);break}hn(e,Ze,$t);break;case 4:if(Zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var d=31-ht(r);a=1<<d,d=t[d],d>l&&(l=d),r&=~a}if(r=l,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ep(r/1960))-r,10<r){e.timeoutHandle=Oa(hn.bind(null,e,Ze,$t),r);break}hn(e,Ze,$t);break;case 5:hn(e,Ze,$t);break;default:throw Error(s(329))}}}return et(e,Re()),e.callbackNode===n?Au.bind(null,e):null}function zo(e,t){var n=Er;return e.current.memoizedState.isDehydrated&&(mn(e,t).flags|=256),e=Al(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Lo(t)),e}function Lo(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function _p(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!gt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~_o,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ht(t),r=1<<n;e[n]=-1,t&=~r}}function Du(e){if((me&6)!==0)throw Error(s(327));Bn();var t=Vr(e,0);if((t&1)===0)return et(e,Re()),null;var n=Al(e,t);if(e.tag!==0&&n===2){var r=da(e);r!==0&&(t=r,n=zo(e,r))}if(n===1)throw n=Tr,mn(e,0),Zt(e,t),et(e,Re()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hn(e,Ze,$t),et(e,Re()),null}function $o(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Un=Re()+500,ul&&qt())}}function fn(e){Yt!==null&&Yt.tag===0&&(me&6)===0&&Bn();var t=me;me|=1;var n=pt.transition,r=ye;try{if(pt.transition=null,ye=1,e)return e()}finally{ye=r,pt.transition=n,me=t,(me&6)===0&&qt()}}function Ao(){ot=Fn.current,Ce(Fn)}function mn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ap(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Va(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&il();break;case 3:Dn(),Ce(Je),Ce(Ve),ro();break;case 5:to(r);break;case 4:Dn();break;case 13:Ce(Te);break;case 19:Ce(Te);break;case 10:Ja(r.type._context);break;case 22:case 23:Ao()}n=n.return}if(Oe=e,Le=e=en(e.current,null),Be=ot=t,Ae=0,Tr=null,_o=Il=pn=0,Ze=Er=null,un!==null){for(t=0;t<un.length;t++)if(n=un[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var d=a.next;a.next=l,r.next=d}n.pending=r}un=null}return e}function Ou(e,t){do{var n=Le;try{if(Ka(),xl.current=Cl,wl){for(var r=Ee.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}wl=!1}if(dn=0,De=$e=Ee=null,Sr=!1,kr=0,Eo.current=null,n===null||n.return===null){Ae=1,Tr=t,Le=null;break}e:{var a=e,d=n.return,m=n,v=t;if(t=Be,m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var b=v,M=m,z=M.tag;if((M.mode&1)===0&&(z===0||z===11||z===15)){var I=M.alternate;I?(M.updateQueue=I.updateQueue,M.memoizedState=I.memoizedState,M.lanes=I.lanes):(M.updateQueue=null,M.memoizedState=null)}var F=uu(d);if(F!==null){F.flags&=-257,cu(F,d,m,a,t),F.mode&1&&su(a,b,t),t=F,v=b;var V=t.updateQueue;if(V===null){var W=new Set;W.add(v),t.updateQueue=W}else V.add(v);break e}else{if((t&1)===0){su(a,b,t),Do();break e}v=Error(s(426))}}else if(je&&m.mode&1){var ze=uu(d);if(ze!==null){(ze.flags&65536)===0&&(ze.flags|=256),cu(ze,d,m,a,t),Qa(On(v,m));break e}}a=v=On(v,m),Ae!==4&&(Ae=2),Er===null?Er=[a]:Er.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var k=ou(a,v,t);zs(a,k);break e;case 1:m=v;var x=a.type,j=a.stateNode;if((a.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Jt===null||!Jt.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var $=iu(a,m,t);zs(a,$);break e}}a=a.return}while(a!==null)}Uu(n)}catch(G){t=G,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Pu(){var e=_l.current;return _l.current=Cl,e===null?Cl:e}function Do(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Oe===null||(pn&268435455)===0&&(Il&268435455)===0||Zt(Oe,Be)}function Al(e,t){var n=me;me|=2;var r=Pu();(Oe!==e||Be!==t)&&($t=null,mn(e,t));do try{Ip();break}catch(l){Ou(e,l)}while(!0);if(Ka(),me=n,_l.current=r,Le!==null)throw Error(s(261));return Oe=null,Be=0,Ae}function Ip(){for(;Le!==null;)Fu(Le)}function Mp(){for(;Le!==null&&!nd();)Fu(Le)}function Fu(e){var t=Vu(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Uu(e):Le=t,Eo.current=null}function Uu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Cp(n,t,ot),n!==null){Le=n;return}}else{if(n=jp(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Le=null;return}}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Ae===0&&(Ae=5)}function hn(e,t,n){var r=ye,l=pt.transition;try{pt.transition=null,ye=1,Rp(e,t,n,r)}finally{pt.transition=l,ye=r}return null}function Rp(e,t,n,r){do Bn();while(Yt!==null);if((me&6)!==0)throw Error(s(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(pd(e,a),e===Oe&&(Le=Oe=null,Be=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Rl||(Rl=!0,Wu(Fr,function(){return Bn(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=pt.transition,pt.transition=null;var d=ye;ye=1;var m=me;me|=4,Eo.current=null,bp(e,n),Mu(n,e),Xd(Aa),Qr=!!$a,Aa=$a=null,e.current=n,Tp(n),rd(),me=m,ye=d,pt.transition=a}else e.current=n;if(Rl&&(Rl=!1,Yt=e,zl=l),a=e.pendingLanes,a===0&&(Jt=null),od(n.stateNode),et(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ml)throw Ml=!1,e=Mo,Mo=null,e;return(zl&1)!==0&&e.tag!==0&&Bn(),a=e.pendingLanes,(a&1)!==0?e===Ro?_r++:(_r=0,Ro=e):_r=0,qt(),null}function Bn(){if(Yt!==null){var e=_i(zl),t=pt.transition,n=ye;try{if(pt.transition=null,ye=16>e?16:e,Yt===null)var r=!1;else{if(e=Yt,Yt=null,zl=0,(me&6)!==0)throw Error(s(331));var l=me;for(me|=4,B=e.current;B!==null;){var a=B,d=a.child;if((B.flags&16)!==0){var m=a.deletions;if(m!==null){for(var v=0;v<m.length;v++){var b=m[v];for(B=b;B!==null;){var M=B;switch(M.tag){case 0:case 11:case 15:br(8,M,a)}var z=M.child;if(z!==null)z.return=M,B=z;else for(;B!==null;){M=B;var I=M.sibling,F=M.return;if(bu(M),M===b){B=null;break}if(I!==null){I.return=F,B=I;break}B=F}}}var V=a.alternate;if(V!==null){var W=V.child;if(W!==null){V.child=null;do{var ze=W.sibling;W.sibling=null,W=ze}while(W!==null)}}B=a}}if((a.subtreeFlags&2064)!==0&&d!==null)d.return=a,B=d;else e:for(;B!==null;){if(a=B,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:br(9,a,a.return)}var k=a.sibling;if(k!==null){k.return=a.return,B=k;break e}B=a.return}}var x=e.current;for(B=x;B!==null;){d=B;var j=d.child;if((d.subtreeFlags&2064)!==0&&j!==null)j.return=d,B=j;else e:for(d=x;B!==null;){if(m=B,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:El(9,m)}}catch(G){Ie(m,m.return,G)}if(m===d){B=null;break e}var $=m.sibling;if($!==null){$.return=m.return,B=$;break e}B=m.return}}if(me=l,qt(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ur,e)}catch{}r=!0}return r}finally{ye=n,pt.transition=t}}return!1}function Bu(e,t,n){t=On(n,t),t=ou(e,t,1),e=Gt(e,t,1),t=Ke(),e!==null&&(Zn(e,1,t),et(e,t))}function Ie(e,t,n){if(e.tag===3)Bu(e,e,n);else for(;t!==null;){if(t.tag===3){Bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jt===null||!Jt.has(r))){e=On(n,e),e=iu(t,e,1),t=Gt(t,e,1),e=Ke(),t!==null&&(Zn(t,1,e),et(t,e));break}}t=t.return}}function zp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,Oe===e&&(Be&n)===n&&(Ae===4||Ae===3&&(Be&130023424)===Be&&500>Re()-Io?mn(e,0):_o|=n),et(e,t)}function Hu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Hr,Hr<<=1,(Hr&130023424)===0&&(Hr=4194304)));var n=Ke();e=Rt(e,t),e!==null&&(Zn(e,t,n),et(e,n))}function Lp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hu(e,n)}function $p(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}r!==null&&r.delete(t),Hu(e,n)}var Vu;Vu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Xe=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Xe=!1,kp(e,t,n);Xe=(e.flags&131072)!==0}else Xe=!1,je&&(t.flags&1048576)!==0&&Cs(t,dl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bl(e,t),e=t.pendingProps;var l=In(t,Ve.current);An(t,n),l=oo(null,t,r,e,l,n);var a=io();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(a=!0,sl(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Za(t),l.updater=jl,t.stateNode=l,l._reactInternals=t,mo(t,r,e,n),t=vo(null,t,r,!0,a,n)):(t.tag=0,je&&a&&Ha(t),Ge(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Dp(r),e=vt(r,e),l){case 0:t=yo(null,t,r,e,n);break e;case 1:t=gu(null,t,r,e,n);break e;case 11:t=du(null,t,r,e,n);break e;case 14:t=pu(null,t,r,vt(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),yo(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),gu(e,t,r,l,n);case 3:e:{if(yu(t),e===null)throw Error(s(387));r=t.pendingProps,a=t.memoizedState,l=a.element,Rs(e,t),yl(t,r,null,n);var d=t.memoizedState;if(r=d.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=On(Error(s(423)),t),t=vu(e,t,r,n,l);break e}else if(r!==l){l=On(Error(s(424)),t),t=vu(e,t,r,n,l);break e}else for(at=Ht(t.stateNode.containerInfo.firstChild),lt=t,je=!0,yt=null,n=Is(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===l){t=Lt(e,t,n);break e}Ge(e,t,r,n)}t=t.child}return t;case 5:return $s(t),e===null&&qa(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,d=l.children,Da(r,l)?d=null:a!==null&&Da(r,a)&&(t.flags|=32),hu(e,t),Ge(e,t,d,n),t.child;case 6:return e===null&&qa(t),null;case 13:return xu(e,t,n);case 4:return eo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ln(t,null,r,n):Ge(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),du(e,t,r,l,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,d=l.value,xe(ml,r._currentValue),r._currentValue=d,a!==null)if(gt(a.value,d)){if(a.children===l.children&&!Je.current){t=Lt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var m=a.dependencies;if(m!==null){d=a.child;for(var v=m.firstContext;v!==null;){if(v.context===r){if(a.tag===1){v=zt(-1,n&-n),v.tag=2;var b=a.updateQueue;if(b!==null){b=b.shared;var M=b.pending;M===null?v.next=v:(v.next=M.next,M.next=v),b.pending=v}}a.lanes|=n,v=a.alternate,v!==null&&(v.lanes|=n),Ya(a.return,n,t),m.lanes|=n;break}v=v.next}}else if(a.tag===10)d=a.type===t.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(s(341));d.lanes|=n,m=d.alternate,m!==null&&(m.lanes|=n),Ya(d,n,t),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===t){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Ge(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,An(t,n),l=ct(l),r=r(l),t.flags|=1,Ge(e,t,r,n),t.child;case 14:return r=t.type,l=vt(r,t.pendingProps),l=vt(r.type,l),pu(e,t,r,l,n);case 15:return fu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),bl(e,t),t.tag=1,Ye(r)?(e=!0,sl(t)):e=!1,An(t,n),lu(t,r,l),mo(t,r,l,n),vo(null,t,r,!0,e,n);case 19:return Su(e,t,n);case 22:return mu(e,t,n)}throw Error(s(156,t.tag))};function Wu(e,t){return ji(e,t)}function Ap(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new Ap(e,t,n,r)}function Oo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dp(e){if(typeof e=="function")return Oo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fe)return 11;if(e===_e)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,l,a){var d=2;if(r=e,typeof e=="function")Oo(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case q:return gn(n.children,l,a,t);case Q:d=8,l|=8;break;case Ne:return e=ft(12,n,t,l|2),e.elementType=Ne,e.lanes=a,e;case be:return e=ft(13,n,t,l),e.elementType=be,e.lanes=a,e;case Me:return e=ft(19,n,t,l),e.elementType=Me,e.lanes=a,e;case he:return Ol(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:d=10;break e;case He:d=9;break e;case fe:d=11;break e;case _e:d=14;break e;case Se:d=16,r=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=ft(d,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function gn(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Ol(e,t,n,r){return e=ft(22,e,r,t),e.elementType=he,e.lanes=n,e.stateNode={isHidden:!1},e}function Po(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function Fo(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Op(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pa(0),this.expirationTimes=pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Uo(e,t,n,r,l,a,d,m,v){return e=new Op(e,t,n,m,v),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ft(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Za(a),e}function Pp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qu(e){if(!e)return Wt;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(Ye(n))return ws(e,n,t)}return t}function Qu(e,t,n,r,l,a,d,m,v){return e=Uo(n,r,!0,e,l,a,d,m,v),e.context=qu(null),n=e.current,r=Ke(),l=Xt(n),a=zt(r,l),a.callback=t??null,Gt(n,a,l),e.current.lanes=l,Zn(e,l,r),et(e,r),e}function Pl(e,t,n,r){var l=t.current,a=Ke(),d=Xt(l);return n=qu(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(a,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gt(l,t,d),e!==null&&(St(e,l,d,a),gl(e,l,d)),d}function Fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bo(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function Fp(){return null}var Ku=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ho(e){this._internalRoot=e}Ul.prototype.render=Ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Pl(e,t,null,null)},Ul.prototype.unmount=Ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fn(function(){Pl(null,e,null,null)}),t[Et]=null}};function Ul(e){this._internalRoot=e}Ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ri();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&t!==0&&t<Ft[n].priority;n++);Ft.splice(n,0,e),n===0&&$i(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ju(){}function Up(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var b=Fl(d);a.call(b)}}var d=Qu(t,r,e,0,null,!1,!1,"",Ju);return e._reactRootContainer=d,e[Et]=d.current,fr(e.nodeType===8?e.parentNode:e),fn(),d}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var m=r;r=function(){var b=Fl(v);m.call(b)}}var v=Uo(e,0,!1,null,null,!1,!1,"",Ju);return e._reactRootContainer=v,e[Et]=v.current,fr(e.nodeType===8?e.parentNode:e),fn(function(){Pl(t,v,n,r)}),v}function Hl(e,t,n,r,l){var a=n._reactRootContainer;if(a){var d=a;if(typeof l=="function"){var m=l;l=function(){var v=Fl(d);m.call(v)}}Pl(t,d,e,l)}else d=Up(n,t,e,l,r);return Fl(d)}Ii=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xn(t.pendingLanes);n!==0&&(fa(t,n|1),et(t,Re()),(me&6)===0&&(Un=Re()+500,qt()))}break;case 13:fn(function(){var r=Rt(e,1);if(r!==null){var l=Ke();St(r,e,1,l)}}),Bo(e,1)}},ma=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=Ke();St(t,e,134217728,n)}Bo(e,134217728)}},Mi=function(e){if(e.tag===13){var t=Xt(e),n=Rt(e,t);if(n!==null){var r=Ke();St(n,e,t,r)}Bo(e,t)}},Ri=function(){return ye},zi=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}},oa=function(e,t,n){switch(t){case"input":if(Xl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ol(r);if(!l)throw Error(s(90));yn(r),Xl(r,l)}}}break;case"textarea":si(e,n);break;case"select":t=n.value,t!=null&&vn(e,!!n.multiple,t,!1)}},yi=$o,vi=fn;var Bp={usingClientEntryPoint:!1,Events:[gr,En,ol,hi,gi,$o]},Ir={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hp={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ki(e),e===null?null:e.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||Fp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{Ur=Vl.inject(Hp),kt=Vl}catch{}}return tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bp,tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error(s(200));return Pp(e,t,null,n)},tt.createRoot=function(e,t){if(!Vo(e))throw Error(s(299));var n=!1,r="",l=Ku;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Uo(e,1,!1,null,null,n,!1,r,l),e[Et]=t.current,fr(e.nodeType===8?e.parentNode:e),new Ho(t)},tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ki(t),e=e===null?null:e.stateNode,e},tt.flushSync=function(e){return fn(e)},tt.hydrate=function(e,t,n){if(!Bl(t))throw Error(s(200));return Hl(null,e,t,!0,n)},tt.hydrateRoot=function(e,t,n){if(!Vo(e))throw Error(s(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",d=Ku;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Qu(t,null,e,1,n??null,l,!1,a,d),e[Et]=t.current,fr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ul(t)},tt.render=function(e,t,n){if(!Bl(t))throw Error(s(200));return Hl(null,e,t,!1,n)},tt.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(s(40));return e._reactRootContainer?(fn(function(){Hl(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1},tt.unstable_batchedUpdates=$o,tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Hl(e,t,n,!1,r)},tt.version="18.3.1-next-f1338f8080-20240426",tt}var lc;function Yp(){if(lc)return Qo.exports;lc=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),Qo.exports=Jp(),Qo.exports}var ac;function Xp(){if(ac)return Wl;ac=1;var i=Yp();return Wl.createRoot=i.createRoot,Wl.hydrateRoot=i.hydrateRoot,Wl}var Zp=Xp();const ef=bc(Zp);function tf({header:i,sidebar:c,children:s}){return o.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[i,o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c,o.jsx("main",{className:"flex-1 overflow-hidden",children:s})]})]})}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tc=(...i)=>i.filter((c,s,u)=>!!c&&c.trim()!==""&&u.indexOf(c)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ie.forwardRef(({color:i="currentColor",size:c=24,strokeWidth:s=2,absoluteStrokeWidth:u,className:f="",children:p,iconNode:y,...w},h)=>ie.createElement("svg",{ref:h,...rf,width:c,height:c,stroke:i,strokeWidth:u?Number(s)*24/Number(c):s,className:Tc("lucide",f),...w},[...y.map(([N,T])=>ie.createElement(N,T)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(i,c)=>{const s=ie.forwardRef(({className:u,...f},p)=>ie.createElement(lf,{ref:p,iconNode:c,className:Tc(`lucide-${nf(i)}`,u),...f}));return s.displayName=`${i}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=we("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=we("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=we("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=we("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mt({label:i,options:c,onChange:s,className:u="",...f}){return o.jsxs("div",{className:"w-full",children:[i&&o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),o.jsx("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg text-sm
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
          bg-white cursor-pointer
          ${u}`,onChange:p=>s==null?void 0:s(p.target.value),...f,children:c.map(p=>o.jsx("option",{value:p.value,children:p.label},p.value))})]})}const zc={ancient:"",cyberpunk:"",modern:"",cozy:"",custom:"AI "};function Lc(){return{characterStatus:{attire:"",action:"",expression:"",affection:"50/100",innerOS:"",relationship:"",todoList:[],randomContent:""},memoryArea:{hotSearch:[],shortTermMemory:"",longTermMemory:"",danmaku:[]},enablePhoneInterface:!1,enableMusicPlayer:!1}}const xf=Object.entries(zc).map(([i,c])=>({value:i,label:c}));function wf({theme:i,onThemeChange:c,onOpenSettings:s}){return o.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 px-4 flex items-center justify-between shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vf,{className:"w-6 h-6 text-blue-600"}),o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mufy "})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-500",children:""}),o.jsx(mt,{value:i,options:xf,onChange:u=>c(u),className:"w-32"})]}),o.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"AI ",children:o.jsx(Rc,{className:"w-5 h-5 text-gray-600"})})]})]})}function it({variant:i="primary",size:c="md",className:s="",children:u,...f}){const p="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",y={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},w={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return o.jsx("button",{className:`${p} ${y[i]} ${w[c]} ${s}`,...f,children:u})}function Sf({cards:i,activeCardId:c,onSelectCard:s,onCreateCard:u,onDeleteCard:f,onDuplicateCard:p,onAIGenerate:y}){return o.jsxs("aside",{className:"w-64 bg-gray-50 border-r border-gray-200 flex flex-col shrink-0",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-2",children:[o.jsxs(it,{onClick:u,variant:"secondary",className:"w-full",children:[o.jsx(Xo,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs(it,{onClick:y,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[o.jsx(zr,{className:"w-4 h-4 mr-2"}),"AI "]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:i.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm",children:["",o.jsx("br",{}),""]}):o.jsx("div",{className:"space-y-1",children:i.map(w=>{var L,A;const h=w.cardType==="multi"||w.mainCharacters.length>1,N=w.cardName||((L=w.mainCharacters[0])==null?void 0:L.characterInfo.name)||"",T=h?`${w.mainCharacters.length} `:((A=w.mainCharacters[0])==null?void 0:A.characterInfo.positioning)||"";return o.jsxs("div",{onClick:()=>s(w.id),className:`group flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer transition-colors
                    ${c===w.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-100 border border-transparent"}`,children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0
                    ${c===w.id?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-500"}`,children:h?o.jsx(Zo,{className:"w-4 h-4"}):o.jsx(Gl,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:`text-sm font-medium truncate
                      ${c===w.id?"text-blue-900":"text-gray-900"}`,children:N}),o.jsx("div",{className:"text-xs text-gray-400 truncate",children:T})]}),o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:R=>{R.stopPropagation(),p(w.id)},className:"p-1 hover:bg-gray-200 rounded",title:"",children:o.jsx(Ic,{className:"w-3.5 h-3.5 text-gray-400"})}),o.jsx("button",{onClick:R=>{R.stopPropagation(),confirm("")&&f(w.id)},className:"p-1 hover:bg-red-100 rounded",title:"",children:o.jsx(Ql,{className:"w-3.5 h-3.5 text-gray-400 hover:text-red-500"})})]})]},w.id)})})}),o.jsxs("div",{className:"p-3 border-t border-gray-200 text-xs text-gray-400 text-center",children:[" ",i.length," "]})]})}const $c=[{key:"characterInfo",label:"",mufyField:"",wordCount:"100-200"},{key:"persona",label:"",mufyField:"",wordCount:"400-600"},{key:"adversityHandling",label:"",mufyField:"",wordCount:"150-250"},{key:"sampleDialogue",label:"",mufyField:"",wordCount:"300-500"},{key:"miniTheater",label:"",mufyField:""}],Ac=[{key:"plotSetting",label:"",mufyField:"",wordCount:"200-400"},{key:"relationshipNetwork",label:"",mufyField:""},{key:"outputSetting",label:"",mufyField:""},{key:"outputModules",label:"",mufyField:""},{key:"opening",label:"",mufyField:"",wordCount:"300-500"},{key:"openingExtension",label:"",mufyField:"",wordCount:"50-150"},{key:"secondaryCharacters",label:"",mufyField:"",wordCount:"50-100"}];function Hn(){return{id:`char_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now(),displayOrder:0,isPrimaryFocus:!1,characterInfo:{name:"",gender:"",age:"",positioning:"",relationshipWithUser:"",coreValue:"",useCase:"",height:"",weight:"",zodiac:"",mbti:"",race:"",occupation:""},persona:{identity:"",appearance:"",voice:"",dressStyle:"",foodPreference:"",hobbies:"",personalities:"",emotionToUser:"",brief:"",backstory:"",languageStyle:"",languageExamples:{daily:"",happy:"",angry:"",flirty:""},attitudeToUser:"",dialogueRequirements:"",boundaries:"",personalityTags:[],lifeStory:{childhood:"",growth:"",turning:""},quotes:[],interview:""},adversityHandling:{inappropriateRequest:"",insufficientInfo:"",emotionalAttack:"",beyondCapability:""},sampleDialogue:{dialogue1User:"",dialogue1Response:"",dialogue2User:"",dialogue2Response:"",styleNotes:""},miniTheater:{wordCountRange:{min:200,max:400},scene1Title:"",scene1Dialogue:"",scene1Action:"",scene2Title:"",scene2Dialogue:"",scene2Action:"",scene3Title:"",scene3Dialogue:"",scene3Action:""}}}function kf(){return{id:`secondary_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:"",identity:"",appearance:"",personalityTags:[],quote:"",relationToMain:""}}function Cf(){return{relationships:[],userRelationships:[]}}function ei(){const i=Hn();return i.isPrimaryFocus=!0,i.displayOrder=0,{id:`multicard_${Date.now()}`,createdAt:Date.now(),updatedAt:Date.now(),cardName:"",cardType:"single",theme:"modern",plotSetting:{worldBackground:"",establishedFacts:"",unchangeableRules:"",currentPhase:""},outputSetting:{replyLength:"200-400",replyLengthRange:{min:200,max:400},languageStyle:"",perspective:"",actionFormat:" ** ",moduleRules:""},opening:{wordCountRange:{min:300,max:500},time:"",location:"",atmosphere:"",sceneDescription:"",firstDialogue:"",attire:"",action:"",expression:"",innerThought:""},openingExtension:{cardSummary:"",relationshipSummary:{characterLabel:"",userLabel:""},worldBackgroundDetail:""},relationshipNetwork:Cf(),outputModules:Lc(),mainCharacters:[i],secondaryCharacters:[]}}function jf({tabs:i,activeKey:c,onChange:s}){return o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("div",{className:"flex gap-1 overflow-x-auto pb-px",children:i.map(u=>o.jsx("button",{onClick:()=>s(u.key),className:`px-4 py-2 text-sm font-medium whitespace-nowrap transition-colors border-b-2 -mb-px
              ${c===u.key?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:u.label},u.key))})})}function Nf(){const[i,c]=ie.useState(!1);return{copy:ie.useCallback(async u=>{try{return await navigator.clipboard.writeText(u),c(!0),setTimeout(()=>c(!1),2e3),!0}catch{try{const f=document.createElement("textarea");return f.value=u,f.style.position="fixed",f.style.left="-9999px",document.body.appendChild(f),f.select(),document.execCommand("copy"),document.body.removeChild(f),c(!0),setTimeout(()=>c(!1),2e3),!0}catch{return!1}}},[]),copied:i}}function bf({characters:i,activeCharacterId:c,activeContext:s,onSelectCharacter:u,onSelectGlobal:f,onAddCharacter:p,onRemoveCharacter:y,onSetPrimary:w,isMultiMode:h}){const N=!h&&i.length<=1;return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-1 flex-1 overflow-x-auto",children:[i.map(T=>{if(N){const R=s==="character",C=T.characterInfo.name||"";return o.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg cursor-pointer transition-all
                  ${R?"bg-blue-100 text-blue-700 border border-blue-300":"bg-white text-gray-600 border border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>u(T.id),children:[o.jsx(Gl,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium whitespace-nowrap max-w-[150px] truncate",children:C})]},T.id)}const L=s==="character"&&c===T.id,A=T.characterInfo.name||"";return o.jsxs("div",{className:`group flex items-center gap-1.5 px-3 py-1.5 rounded-lg cursor-pointer transition-all
                ${L?"bg-blue-100 text-blue-700 border border-blue-300":"bg-white text-gray-600 border border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>u(T.id),children:[h&&i.length>1&&o.jsx(mf,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsx(Gl,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium whitespace-nowrap max-w-[100px] truncate",children:A}),T.isPrimaryFocus&&o.jsx("span",{title:"",children:o.jsx(oc,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500"})}),h&&!T.isPrimaryFocus&&w&&o.jsx("button",{onClick:R=>{R.stopPropagation(),w(T.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-0.5 hover:bg-blue-200 rounded",title:"",children:o.jsx(oc,{className:"w-3 h-3 text-gray-400 hover:text-yellow-500"})}),h&&i.length>1&&y&&o.jsx("button",{onClick:R=>{R.stopPropagation(),y(T.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-0.5 hover:bg-red-100 rounded",title:"",children:o.jsx(Ql,{className:"w-3 h-3 text-gray-400 hover:text-red-500"})})]},T.id)}),o.jsxs("button",{onClick:p,className:"flex items-center gap-1 px-3 py-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg border border-dashed border-gray-300 hover:border-blue-400 transition-all",title:"",children:[o.jsx(Xo,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:""})]})]}),o.jsx("div",{className:"h-6 w-px bg-gray-300 mx-2"}),o.jsxs("button",{onClick:f,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-all
          ${s==="global"?"bg-green-100 text-green-700 border border-green-300":"bg-white text-gray-600 border border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[o.jsx(ff,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:""})]})]})}function ee({label:i,error:c,className:s="",...u}){return o.jsxs("div",{className:"w-full",children:[i&&o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),o.jsx("input",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg text-sm
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${c?"border-red-500":""}
          ${s}`,...u}),c&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:c})]})}function le({label:i,error:c,showCount:s,maxLength:u,value:f,className:p="",...y}){const w=typeof f=="string"?f.length:0;return o.jsxs("div",{className:"w-full",children:[i&&o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),o.jsx("textarea",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg text-sm resize-none
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${c?"border-red-500":""}
          ${p}`,value:f,maxLength:u,...y}),o.jsxs("div",{className:"flex justify-between mt-1",children:[c&&o.jsx("p",{className:"text-sm text-red-500",children:c}),s&&o.jsxs("p",{className:`text-xs ml-auto ${w>(u||9999)?"text-red-500":"text-gray-400"}`,children:[w,u?`/${u}`:""," "]})]})]})}const Tf=[{value:"",label:""},{value:"",label:" (3.21-4.19)"},{value:"",label:" (4.20-5.20)"},{value:"",label:" (5.21-6.21)"},{value:"",label:" (6.22-7.22)"},{value:"",label:" (7.23-8.22)"},{value:"",label:" (8.23-9.22)"},{value:"",label:" (9.23-10.23)"},{value:"",label:" (10.24-11.22)"},{value:"",label:" (11.23-12.21)"},{value:"",label:" (12.22-1.19)"},{value:"",label:" (1.20-2.18)"},{value:"",label:" (2.19-3.20)"}],Ef=[{value:"",label:" MBTI"},{value:"INTJ",label:"INTJ - "},{value:"INTP",label:"INTP - "},{value:"ENTJ",label:"ENTJ - "},{value:"ENTP",label:"ENTP - "},{value:"INFJ",label:"INFJ - "},{value:"INFP",label:"INFP - "},{value:"ENFJ",label:"ENFJ - "},{value:"ENFP",label:"ENFP - "},{value:"ISTJ",label:"ISTJ - "},{value:"ISFJ",label:"ISFJ - "},{value:"ESTJ",label:"ESTJ - "},{value:"ESFJ",label:"ESFJ - "},{value:"ISTP",label:"ISTP - "},{value:"ISFP",label:"ISFP - "},{value:"ESTP",label:"ESTP - "},{value:"ESFP",label:"ESFP - "}];function _f({data:i,onChange:c}){const s=(u,f)=>{c({...i,[u]:f})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100 text-sm text-blue-700 mb-4",children:""}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ee,{label:"",placeholder:"",value:i.name,onChange:u=>s("name",u.target.value)}),o.jsx(ee,{label:"",placeholder:"//",value:i.gender,onChange:u=>s("gender",u.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ee,{label:"",placeholder:"18 / ",value:i.age,onChange:u=>s("age",u.target.value)}),o.jsx(ee,{label:"/",placeholder:"F1 / ",value:i.occupation||"",onChange:u=>s("occupation",u.target.value)})]}),o.jsxs("div",{className:"border-t pt-4 mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ee,{label:"",placeholder:"175cm",value:i.height||"",onChange:u=>s("height",u.target.value)}),o.jsx(ee,{label:"",placeholder:"65kg",value:i.weight||"",onChange:u=>s("weight",u.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[o.jsx(mt,{label:"",options:Tf,value:i.zodiac||"",onChange:u=>s("zodiac",u)}),o.jsx(mt,{label:"MBTI",options:Ef,value:i.mbti||"",onChange:u=>s("mbti",u)})]}),o.jsx("div",{className:"mt-4",children:o.jsx(ee,{label:"",placeholder:" /  / ",value:i.race||"",onChange:u=>s("race",u.target.value)})})]}),o.jsxs("div",{className:"border-t pt-4 mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""}),o.jsx(ee,{label:"",placeholder:"",value:i.positioning,onChange:u=>s("positioning",u.target.value)}),o.jsx("div",{className:"mt-4",children:o.jsx(ee,{label:"",placeholder:"///",value:i.relationshipWithUser,onChange:u=>s("relationshipWithUser",u.target.value)})}),o.jsx("div",{className:"mt-4",children:o.jsx(le,{label:"",placeholder:"...",value:i.coreValue,onChange:u=>s("coreValue",u.target.value),rows:2})}),o.jsx("div",{className:"mt-4",children:o.jsx(le,{label:"",placeholder:"...",value:i.useCase,onChange:u=>s("useCase",u.target.value),rows:2})})]})]})}function If({data:i,onChange:c}){var R,C,E;const[s,u]=ie.useState(""),[f,p]=ie.useState(""),y=(g,P)=>{c({...i,[g]:P})},w=(g,P)=>{c({...i,languageExamples:{...i.languageExamples,[g]:P}})},h=(g,P)=>{c({...i,lifeStory:{...i.lifeStory||{childhood:"",growth:"",turning:""},[g]:P}})},N=()=>{if(s.trim()){const g=i.personalityTags||[];c({...i,personalityTags:[...g,s.trim()]}),u("")}},T=g=>{const P=i.personalityTags||[];c({...i,personalityTags:P.filter((J,se)=>se!==g)})},L=()=>{if(f.trim()){const g=i.quotes||[];c({...i,quotes:[...g,f.trim()]}),p("")}},A=g=>{const P=i.quotes||[];c({...i,quotes:P.filter((J,se)=>se!==g)})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx(le,{label:"",placeholder:"...",value:i.identity,onChange:g=>y("identity",g.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"...",value:i.appearance,onChange:g=>y("appearance",g.target.value),rows:3}),o.jsx(ee,{label:"",placeholder:"...",value:i.voice,onChange:g=>y("voice",g.target.value)}),o.jsx(ee,{label:"",placeholder:"...",value:i.dressStyle,onChange:g=>y("dressStyle",g.target.value)}),o.jsx(ee,{label:"",placeholder:"/...",value:i.foodPreference,onChange:g=>y("foodPreference",g.target.value)}),o.jsx(ee,{label:"",placeholder:"3-5...",value:i.hobbies,onChange:g=>y("hobbies",g.target.value)}),o.jsx(le,{label:"",placeholder:"\\n- 1\\n- 2\\n- 3",value:i.personalities,onChange:g=>y("personalities",g.target.value),rows:4}),o.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:(i.personalityTags||[]).map((g,P)=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:[g,o.jsx("button",{type:"button",onClick:()=>T(P),className:"ml-2 text-purple-600 hover:text-purple-900",children:""})]},P))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ee,{placeholder:"...",value:s,onChange:g=>u(g.target.value),onKeyDown:g=>g.key==="Enter"&&(g.preventDefault(),N())}),o.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 whitespace-nowrap",children:""})]})]}),o.jsx(le,{label:"",placeholder:"...",value:i.emotionToUser,onChange:g=>y("emotionToUser",g.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"2-3...",value:i.brief,onChange:g=>y("brief",g.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"...",value:i.backstory,onChange:g=>y("backstory",g.target.value),rows:3}),o.jsxs("div",{className:"border rounded-lg p-4 bg-amber-50",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(le,{label:"",placeholder:"...",value:((R=i.lifeStory)==null?void 0:R.childhood)||"",onChange:g=>h("childhood",g.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"...",value:((C=i.lifeStory)==null?void 0:C.growth)||"",onChange:g=>h("growth",g.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"...",value:((E=i.lifeStory)==null?void 0:E.turning)||"",onChange:g=>h("turning",g.target.value),rows:2})]})]}),o.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""}),o.jsx("div",{className:"space-y-2 mb-3",children:(i.quotes||[]).map((g,P)=>o.jsxs("div",{className:"flex items-start gap-2 bg-white p-2 rounded border",children:[o.jsxs("span",{className:"text-blue-600 font-medium",children:['"',g,'"']}),o.jsx("button",{type:"button",onClick:()=>A(P),className:"ml-auto text-red-500 hover:text-red-700",children:""})]},P))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ee,{placeholder:"...",value:f,onChange:g=>p(g.target.value),onKeyDown:g=>g.key==="Enter"&&(g.preventDefault(),L())}),o.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 whitespace-nowrap",children:""})]})]}),o.jsx(le,{label:"",placeholder:"...",value:i.interview||"",onChange:g=>y("interview",g.target.value),rows:4}),o.jsxs("div",{className:"border-t pt-4 mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""}),o.jsx(le,{label:"",placeholder:"...",value:i.languageStyle,onChange:g=>y("languageStyle",g.target.value),rows:2,className:"mb-3"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(ee,{label:"",placeholder:"",value:i.languageExamples.daily,onChange:g=>w("daily",g.target.value)}),o.jsx(ee,{label:"",placeholder:"",value:i.languageExamples.happy,onChange:g=>w("happy",g.target.value)}),o.jsx(ee,{label:"",placeholder:"",value:i.languageExamples.angry,onChange:g=>w("angry",g.target.value)}),o.jsx(ee,{label:"",placeholder:"",value:i.languageExamples.flirty,onChange:g=>w("flirty",g.target.value)})]})]}),o.jsx(le,{label:"",placeholder:"...",value:i.attitudeToUser,onChange:g=>y("attitudeToUser",g.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"...",value:i.dialogueRequirements,onChange:g=>y("dialogueRequirements",g.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"\\n- 1\\n- 2\\n- 3",value:i.boundaries,onChange:g=>y("boundaries",g.target.value),rows:3})]})}function Mf({data:i,onChange:c}){const s=(u,f)=>{c({...i,[u]:f})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-100 text-sm text-amber-700 mb-4",children:""}),o.jsx(le,{label:"",placeholder:`

 `,value:i.inappropriateRequest,onChange:u=>s("inappropriateRequest",u.target.value),rows:4}),o.jsx(le,{label:"",placeholder:`

 `,value:i.insufficientInfo,onChange:u=>s("insufficientInfo",u.target.value),rows:4}),o.jsx(le,{label:"/",placeholder:`

 `,value:i.emotionalAttack,onChange:u=>s("emotionalAttack",u.target.value),rows:4}),o.jsx(le,{label:"",placeholder:`

 `,value:i.beyondCapability,onChange:u=>s("beyondCapability",u.target.value),rows:4})]})}function Rf({data:i,onChange:c}){const s=(u,f)=>{c({...i,[u]:f})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-100 text-sm text-purple-700 mb-4",children:""}),o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"1"}),o.jsx(le,{label:"",placeholder:"...",value:i.dialogue1User,onChange:u=>s("dialogue1User",u.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"...",value:i.dialogue1Response,onChange:u=>s("dialogue1Response",u.target.value),rows:6})]}),o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"2"}),o.jsx(le,{label:"",placeholder:"...",value:i.dialogue2User,onChange:u=>s("dialogue2User",u.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"...",value:i.dialogue2Response,onChange:u=>s("dialogue2Response",u.target.value),rows:6})]}),o.jsx(le,{label:"",placeholder:"\\n- \\n- /\\n- ",value:i.styleNotes,onChange:u=>s("styleNotes",u.target.value),rows:4})]})}function Kl({label:i,min:c,max:s,step:u=50,value:f,onChange:p,unit:y="",className:w=""}){const h=ie.useCallback(A=>{const R=Math.min(Number(A.target.value),f.max-u);p({...f,min:R})},[f,p,u]),N=ie.useCallback(A=>{const R=Math.max(Number(A.target.value),f.min+u);p({...f,max:R})},[f,p,u]),T=(f.min-c)/(s-c)*100,L=(f.max-c)/(s-c)*100;return o.jsxs("div",{className:`w-full ${w}`,children:[i&&o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i}),o.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[f.min,"-",f.max,y]})]}),o.jsxs("div",{className:"relative h-6 flex items-center",children:[o.jsx("div",{className:"absolute w-full h-2 bg-gray-200 rounded-full"}),o.jsx("div",{className:"absolute h-2 bg-blue-500 rounded-full",style:{left:`${T}%`,width:`${L-T}%`}}),o.jsx("input",{type:"range",min:c,max:s,step:u,value:f.min,onChange:h,className:`absolute w-full h-2 appearance-none bg-transparent pointer-events-none
            [&::-webkit-slider-thumb]:appearance-none
            [&::-webkit-slider-thumb]:w-5
            [&::-webkit-slider-thumb]:h-5
            [&::-webkit-slider-thumb]:bg-white
            [&::-webkit-slider-thumb]:border-2
            [&::-webkit-slider-thumb]:border-blue-500
            [&::-webkit-slider-thumb]:rounded-full
            [&::-webkit-slider-thumb]:shadow-md
            [&::-webkit-slider-thumb]:cursor-pointer
            [&::-webkit-slider-thumb]:pointer-events-auto
            [&::-webkit-slider-thumb]:transition-transform
            [&::-webkit-slider-thumb]:hover:scale-110
            [&::-moz-range-thumb]:w-5
            [&::-moz-range-thumb]:h-5
            [&::-moz-range-thumb]:bg-white
            [&::-moz-range-thumb]:border-2
            [&::-moz-range-thumb]:border-blue-500
            [&::-moz-range-thumb]:rounded-full
            [&::-moz-range-thumb]:shadow-md
            [&::-moz-range-thumb]:cursor-pointer
            [&::-moz-range-thumb]:pointer-events-auto`}),o.jsx("input",{type:"range",min:c,max:s,step:u,value:f.max,onChange:N,className:`absolute w-full h-2 appearance-none bg-transparent pointer-events-none
            [&::-webkit-slider-thumb]:appearance-none
            [&::-webkit-slider-thumb]:w-5
            [&::-webkit-slider-thumb]:h-5
            [&::-webkit-slider-thumb]:bg-white
            [&::-webkit-slider-thumb]:border-2
            [&::-webkit-slider-thumb]:border-blue-500
            [&::-webkit-slider-thumb]:rounded-full
            [&::-webkit-slider-thumb]:shadow-md
            [&::-webkit-slider-thumb]:cursor-pointer
            [&::-webkit-slider-thumb]:pointer-events-auto
            [&::-webkit-slider-thumb]:transition-transform
            [&::-webkit-slider-thumb]:hover:scale-110
            [&::-moz-range-thumb]:w-5
            [&::-moz-range-thumb]:h-5
            [&::-moz-range-thumb]:bg-white
            [&::-moz-range-thumb]:border-2
            [&::-moz-range-thumb]:border-blue-500
            [&::-moz-range-thumb]:rounded-full
            [&::-moz-range-thumb]:shadow-md
            [&::-moz-range-thumb]:cursor-pointer
            [&::-moz-range-thumb]:pointer-events-auto`})]}),o.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[o.jsxs("span",{children:[c,y]}),o.jsxs("span",{children:[s,y]})]})]})}function zf({data:i,onChange:c}){const s=(p,y)=>{c({...i,[p]:y})},u=p=>{c({...i,wordCountRange:p})},f=i.wordCountRange||{min:200,max:400};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-pink-50 rounded-lg border border-pink-100 text-sm text-pink-700 mb-4",children:" CSS "}),o.jsx(Kl,{label:"",min:50,max:600,step:50,value:f,onChange:u,unit:""}),[1,2,3].map(p=>o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:[" ",p]}),o.jsx(ee,{label:"",placeholder:" / ",value:i[`scene${p}Title`],onChange:y=>s(`scene${p}Title`,y.target.value)}),o.jsx(le,{label:"",placeholder:"...",value:i[`scene${p}Dialogue`],onChange:y=>s(`scene${p}Dialogue`,y.target.value),rows:2}),o.jsx(le,{label:"",placeholder:"...",value:i[`scene${p}Action`],onChange:y=>s(`scene${p}Action`,y.target.value),rows:2})]},p))]})}function Lf({data:i,onChange:c}){const s=(u,f)=>{c({...i,[u]:f})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx(le,{label:"",placeholder:"...",value:i.worldBackground,onChange:u=>s("worldBackground",u.target.value),rows:4}),o.jsx(le,{label:"",placeholder:"\\n- 1\\n- 2\\n- 3",value:i.establishedFacts,onChange:u=>s("establishedFacts",u.target.value),rows:4}),o.jsx(le,{label:"",placeholder:"\\n- 1\\n- 2\\n- 3",value:i.unchangeableRules,onChange:u=>s("unchangeableRules",u.target.value),rows:4}),o.jsx(le,{label:"",placeholder:"/...",value:i.currentPhase,onChange:u=>s("currentPhase",u.target.value),rows:3})]})}const $f=[{value:"",label:""},{value:"",label:""}];function Af({data:i,onChange:c}){const s=(p,y)=>{c({...i,[p]:y})},u=p=>{c({...i,replyLengthRange:p,replyLength:`${p.min}-${p.max}`})},f=i.replyLengthRange||{min:200,max:400};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100 text-sm text-blue-700 mb-4",children:" HTML "}),o.jsx(Kl,{label:"",min:50,max:1e3,step:50,value:f,onChange:u,unit:""}),o.jsx(le,{label:"",placeholder:"...",value:i.languageStyle,onChange:p=>s("languageStyle",p.target.value),rows:2}),o.jsx(mt,{label:"",options:$f,value:i.perspective,onChange:p=>s("perspective",p)}),o.jsx(ee,{label:"",placeholder:" ** ",value:i.actionFormat,onChange:p=>s("actionFormat",p.target.value)}),o.jsx(le,{label:"",placeholder:"...",value:i.moduleRules,onChange:p=>s("moduleRules",p.target.value),rows:6})]})}function Df({data:i,onChange:c}){const s=i||Lc(),u=(h,N)=>{c({...s,characterStatus:{...s.characterStatus,[h]:N}})},f=(h,N)=>{c({...s,memoryArea:{...s.memoryArea,[h]:N}})},p=(h,N)=>{const T=[...s.characterStatus.todoList];T[h]=N,u("todoList",T)},y=(h,N)=>{const T=[...s.memoryArea.hotSearch];T[h]=N,f("hotSearch",T)},w=(h,N)=>{const T=[...s.memoryArea.danmaku];T[h]=N,f("danmaku",T)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["",o.jsx("span",{className:"ml-2 text-xs text-blue-600",children:""})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ee,{label:"",placeholder:"...",value:s.characterStatus.attire,onChange:h=>u("attire",h.target.value)}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(ee,{label:"",placeholder:"...",value:s.characterStatus.action,onChange:h=>u("action",h.target.value)}),o.jsx(ee,{label:"",placeholder:"...",value:s.characterStatus.expression,onChange:h=>u("expression",h.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(ee,{label:"",placeholder:"50/100",value:s.characterStatus.affection,onChange:h=>u("affection",h.target.value)}),o.jsx(ee,{label:"",placeholder:"...",value:s.characterStatus.relationship,onChange:h=>u("relationship",h.target.value)})]}),o.jsx(le,{label:" (OS)",placeholder:"...",value:s.characterStatus.innerOS,onChange:h=>u("innerOS",h.target.value),rows:2})]})]}),o.jsxs("div",{className:"border rounded-lg p-4 bg-amber-50",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"3"}),o.jsx("div",{className:"space-y-2",children:[0,1,2].map(h=>o.jsx(ee,{placeholder:` ${h+1}...`,value:s.characterStatus.todoList[h]||"",onChange:N=>p(h,N.target.value)},h))})]}),o.jsx(le,{label:"//",placeholder:" >100 ...",value:s.characterStatus.randomContent,onChange:h=>u("randomContent",h.target.value),rows:4}),o.jsx("div",{className:"border-t pt-4 mt-4",children:o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""})}),o.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"3"}),o.jsx("div",{className:"space-y-2",children:[0,1,2].map(h=>o.jsx(ee,{placeholder:` ${h+1}...`,value:s.memoryArea.hotSearch[h]||"",onChange:N=>y(h,N.target.value)},h))})]}),o.jsx(le,{label:"",placeholder:"...",value:s.memoryArea.shortTermMemory,onChange:h=>f("shortTermMemory",h.target.value),rows:3}),o.jsx(le,{label:"",placeholder:"/...",value:s.memoryArea.longTermMemory,onChange:h=>f("longTermMemory",h.target.value),rows:3}),o.jsxs("div",{className:"border rounded-lg p-4 bg-purple-50",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"/4"}),o.jsx("div",{className:"space-y-2",children:[0,1,2,3].map(h=>o.jsx(ee,{placeholder:` ${h+1}...`,value:s.memoryArea.danmaku[h]||"",onChange:N=>w(h,N.target.value)},h))})]}),o.jsx("div",{className:"border-t pt-4 mt-4",children:o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""})}),o.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.enablePhoneInterface,onChange:h=>c({...s,enablePhoneInterface:h.target.checked}),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:""}),o.jsx("p",{className:"text-xs text-gray-500",children:""})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.enableMusicPlayer,onChange:h=>c({...s,enableMusicPlayer:h.target.checked}),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:""}),o.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),(s.enablePhoneInterface||s.enableMusicPlayer)&&o.jsx("p",{className:"mt-3 text-xs text-gray-500",children:" AI "})]})]})}function Of({data:i,onChange:c}){const s=(p,y)=>{c({...i,[p]:y})},u=p=>{c({...i,wordCountRange:p})},f=i.wordCountRange||{min:300,max:500};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-100 text-sm text-green-700 mb-4",children:""}),o.jsx(Kl,{label:"",min:100,max:800,step:50,value:f,onChange:u,unit:""}),o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:""}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsx(ee,{label:"",placeholder:" / 23:00",value:i.time,onChange:p=>s("time",p.target.value)}),o.jsx(ee,{label:"",placeholder:"",value:i.location,onChange:p=>s("location",p.target.value)}),o.jsx(ee,{label:"",placeholder:"",value:i.atmosphere,onChange:p=>s("atmosphere",p.target.value)})]})]}),o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:""}),o.jsx(le,{label:"",placeholder:"...",value:i.sceneDescription,onChange:p=>s("sceneDescription",p.target.value),rows:4}),o.jsx(le,{label:"",placeholder:"...",value:i.firstDialogue,onChange:p=>s("firstDialogue",p.target.value),rows:2})]}),o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:""}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(ee,{label:"",placeholder:"",value:i.attire,onChange:p=>s("attire",p.target.value)}),o.jsx(ee,{label:"",placeholder:"",value:i.action,onChange:p=>s("action",p.target.value)}),o.jsx(ee,{label:"",placeholder:"",value:i.expression,onChange:p=>s("expression",p.target.value)}),o.jsx(ee,{label:"",placeholder:"...",value:i.innerThought,onChange:p=>s("innerThought",p.target.value)})]})]})]})}function Pf({data:i,onChange:c}){const s=(f,p)=>{c({...i,[f]:p})},u=(f,p)=>{c({...i,relationshipSummary:{...i.relationshipSummary,[f]:p}})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-pink-50 rounded-lg border border-pink-100 text-sm text-pink-700 mb-4",children:""}),o.jsx(le,{label:"",placeholder:"",value:i.cardSummary,onChange:f=>s("cardSummary",f.target.value),rows:2}),o.jsxs("div",{className:"border rounded-lg p-4 bg-purple-50",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""}),o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:""}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ee,{label:"",placeholder:"",value:i.relationshipSummary.characterLabel,onChange:f=>u("characterLabel",f.target.value)}),o.jsx(ee,{label:"",placeholder:"",value:i.relationshipSummary.userLabel,onChange:f=>u("userLabel",f.target.value)})]}),(i.relationshipSummary.characterLabel||i.relationshipSummary.userLabel)&&o.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),o.jsxs("div",{className:"text-center",children:[i.relationshipSummary.characterLabel&&o.jsx("p",{className:"text-purple-700 font-medium",children:i.relationshipSummary.characterLabel}),i.relationshipSummary.characterLabel&&i.relationshipSummary.userLabel&&o.jsx("p",{className:"text-gray-400 my-1",children:""}),i.relationshipSummary.userLabel&&o.jsx("p",{className:"text-pink-700 font-medium",children:i.relationshipSummary.userLabel})]})]})]}),o.jsxs("div",{className:"border rounded-lg p-4 bg-amber-50",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:""}),o.jsx(le,{placeholder:"...",value:i.worldBackgroundDetail||"",onChange:f=>s("worldBackgroundDetail",f.target.value),rows:6})]})]})}function ic(){return{id:`support_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:"",identity:"",appearance:"",quote:"",relationToMain:""}}function Ff({data:i,onChange:c}){const[s,u]=ie.useState(null),f=()=>{const w=ic();c([...i,w]),u(w.id)},p=w=>{c(i.filter(h=>h.id!==w)),s===w&&u(null)},y=(w,h,N)=>{c(i.map(T=>T.id===w?{...T,[h]:N}:T))};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-teal-50 rounded-lg border border-teal-100 text-sm text-teal-700 mb-4",children:""}),o.jsx("div",{className:"space-y-3",children:i.map((w,h)=>o.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 cursor-pointer hover:bg-gray-100",onClick:()=>u(s===w.id?null:w.id),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-teal-500 text-white flex items-center justify-center text-xs",children:h+1}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:w.name||` ${h+1}`}),w.identity&&o.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["/ ",w.identity]})]}),w.relationToMain&&o.jsx("span",{className:"text-xs px-2 py-0.5 bg-teal-100 text-teal-700 rounded-full",children:w.relationToMain})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),p(w.id)},className:"text-red-500 hover:text-red-700 text-sm",children:""}),o.jsx("span",{className:"text-gray-400",children:s===w.id?"":""})]})]}),s===w.id&&o.jsxs("div",{className:"p-4 space-y-3 bg-white",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(ee,{label:"",placeholder:"",value:w.name,onChange:N=>y(w.id,"name",N.target.value)}),o.jsx(ee,{label:"",placeholder:" / ",value:w.identity,onChange:N=>y(w.id,"identity",N.target.value)})]}),o.jsx(ee,{label:"",placeholder:" / ",value:w.relationToMain,onChange:N=>y(w.id,"relationToMain",N.target.value)}),o.jsx(le,{label:"",placeholder:"...",value:w.appearance||"",onChange:N=>y(w.id,"appearance",N.target.value),rows:2}),o.jsx(ee,{label:"",placeholder:"",value:w.quote,onChange:N=>y(w.id,"quote",N.target.value)})]}),s!==w.id&&w.quote&&o.jsxs("div",{className:"px-4 py-2 border-t bg-gray-50 text-sm text-gray-600 italic",children:['"',w.quote,'"']})]},w.id))}),o.jsx("button",{type:"button",onClick:f,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-teal-500 hover:text-teal-500 transition-colors",children:"+ "}),i.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-400",children:""}),i.length===0&&o.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["","","","","",""].map(w=>o.jsxs("button",{type:"button",onClick:()=>{const h=ic();h.identity=w,c([...i,h]),u(h.id)},className:"px-3 py-1 text-sm bg-white border rounded-full hover:bg-teal-50 hover:border-teal-300",children:["+ ",w]},w))})]})]})}const sc=[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}];function Uf({data:i,characters:c,secondaryCharacters:s=[],onChange:u}){const f=[...c.map(C=>({id:C.id,name:C.characterInfo.name||"",type:"main"})),...s.map(C=>({id:C.id,name:C.name||"",type:"secondary"}))],p=C=>{const E=f.find(g=>g.id===C);return(E==null?void 0:E.name)||""},y=[{value:"",label:""},...c.length>0?[{value:"",label:"  ",disabled:!0}]:[],...c.map(C=>({value:C.id,label:C.characterInfo.name||""})),...s.length>0?[{value:"",label:"  ",disabled:!0}]:[],...s.map(C=>({value:C.id,label:C.name||""}))],w=()=>{var E,g;if(f.length<2)return;const C={characterId1:((E=f[0])==null?void 0:E.id)||"",characterId2:((g=f[1])==null?void 0:g.id)||"",labelFrom1To2:"",labelFrom2To1:"",relationshipType:"",history:"",dynamics:""};u({...i,relationships:[...i.relationships,C]})},h=(C,E)=>{const g=[...i.relationships];g[C]={...g[C],...E},u({...i,relationships:g})},N=C=>{u({...i,relationships:i.relationships.filter((E,g)=>g!==C)})},T=C=>{if(i.userRelationships.some(g=>g.characterId===C))return;const E={characterId:C,labelFromUser:"",labelToUser:"",relationshipType:""};u({...i,userRelationships:[...i.userRelationships,E]})},L=(C,E)=>{const g=i.userRelationships.map(P=>P.characterId===C?{...P,...E}:P);u({...i,userRelationships:g})},A=C=>{u({...i,userRelationships:i.userRelationships.filter(E=>E.characterId!==C)})},R=f.filter(C=>!i.userRelationships.some(E=>E.characterId===C.id));return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-100 text-sm text-green-700",children:""}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[o.jsx(Zo,{className:"w-4 h-4"}),""]}),f.length>=2&&o.jsxs("button",{onClick:w,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded transition-colors",children:[o.jsx(Xo,{className:"w-3 h-3"}),""]})]}),f.length<2?o.jsx("div",{className:"p-4 bg-gray-50 rounded-lg text-center text-gray-500 text-sm",children:" 2 "}):i.relationships.length===0?o.jsx("div",{className:"p-4 bg-gray-50 rounded-lg text-center text-gray-500 text-sm",children:""}):o.jsx("div",{className:"space-y-4",children:i.relationships.map((C,E)=>o.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(mt,{label:" A",options:y,value:C.characterId1,onChange:g=>h(E,{characterId1:g})}),o.jsx(mt,{label:" B",options:y,value:C.characterId2,onChange:g=>h(E,{characterId2:g})})]}),o.jsx(mt,{label:"",options:sc,value:C.relationshipType,onChange:g=>h(E,{relationshipType:g})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ee,{label:`${p(C.characterId1)}  ${p(C.characterId2)} `,placeholder:"",value:C.labelFrom1To2,onChange:g=>h(E,{labelFrom1To2:g.target.value})}),o.jsx(ee,{label:`${p(C.characterId2)}  ${p(C.characterId1)} `,placeholder:"",value:C.labelFrom2To1,onChange:g=>h(E,{labelFrom2To1:g.target.value})})]}),o.jsx(le,{label:"",placeholder:"",value:C.history||"",onChange:g=>h(E,{history:g.target.value}),rows:2}),o.jsx(le,{label:"",placeholder:"",value:C.dynamics||"",onChange:g=>h(E,{dynamics:g.target.value}),rows:2}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:()=>N(E),className:"flex items-center gap-1 px-2 py-1 text-xs text-red-600 hover:bg-red-50 rounded transition-colors",children:[o.jsx(Ql,{className:"w-3 h-3"}),""]})})]},E))})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[o.jsx(Gl,{className:"w-4 h-4"}),""]}),R.length>0&&o.jsx(mt,{options:[{value:"",label:"..."},...R.map(C=>({value:C.id,label:`${C.name}${C.type==="secondary"?" ()":""}`}))],value:"",onChange:C=>C&&T(C)})]}),i.userRelationships.length===0?o.jsx("div",{className:"p-4 bg-gray-50 rounded-lg text-center text-gray-500 text-sm",children:""}):o.jsx("div",{className:"space-y-4",children:i.userRelationships.map(C=>o.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:p(C.characterId)}),o.jsx("button",{onClick:()=>A(C.characterId),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsx(mt,{label:"",options:sc,value:C.relationshipType,onChange:E=>L(C.characterId,{relationshipType:E})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ee,{label:"",placeholder:"",value:C.labelFromUser,onChange:E=>L(C.characterId,{labelFromUser:E.target.value})}),o.jsx(ee,{label:"",placeholder:"",value:C.labelToUser,onChange:E=>L(C.characterId,{labelToUser:E.target.value})})]})]},C.characterId))})]})]})}const uc={ancient:`<div style="background:linear-gradient(90deg,transparent,#f5f0e6 10%,#f5f0e6 90%,transparent);padding:10px 20px;margin:12px 0;text-align:center;border-top:1px dashed #d4c4a8;border-bottom:1px dashed #d4c4a8;font-family:'Noto Serif SC',serif;">
  <span style="color:#8b7355;font-size:0.85em;letter-spacing:2px;margin:0 12px;"> []</span>
  <span style="color:#8b7355;font-size:0.85em;letter-spacing:2px;margin:0 12px;"> []</span>
  <span style="color:#8b7355;font-size:0.85em;letter-spacing:2px;margin:0 12px;"> []</span>
</div>`,cyberpunk:`<div style="background:linear-gradient(90deg,transparent,rgba(0,245,255,0.1) 10%,rgba(0,245,255,0.1) 90%,transparent);padding:10px 20px;margin:12px 0;text-align:center;border-top:1px solid rgba(0,245,255,0.3);border-bottom:1px solid rgba(0,245,255,0.3);font-family:monospace;">
  <span style="color:#00f5ff;font-size:0.85em;letter-spacing:2px;margin:0 12px;text-shadow:0 0 10px #00f5ff;"> []</span>
  <span style="color:#00f5ff;font-size:0.85em;letter-spacing:2px;margin:0 12px;text-shadow:0 0 10px #00f5ff;"> []</span>
  <span style="color:#ff00ff;font-size:0.85em;letter-spacing:2px;margin:0 12px;text-shadow:0 0 10px #ff00ff;"> []</span>
</div>`,modern:`<div style="padding:16px 0;margin:12px 0;text-align:left;border-bottom:1px solid #e8e8e8;font-family:sans-serif;">
  <span style="color:#999;font-size:0.75em;letter-spacing:3px;text-transform:uppercase;">[]  []</span>
</div>`,cozy:`<div style="background:linear-gradient(90deg,transparent,#fff5f5 10%,#fff5f5 90%,transparent);padding:12px 20px;margin:12px 0;text-align:center;border-radius:20px;font-family:sans-serif;">
  <span style="color:#ff9a9e;font-size:0.9em;margin:0 8px;"> []</span>
  <span style="color:#ff9a9e;font-size:0.9em;margin:0 8px;"> []</span>
  <span style="color:#fecfef;font-size:0.9em;margin:0 8px;"> []</span>
</div>`,custom:""},cc={ancient:`<div style="background:#fdfbf7;border-left:3px solid #c4b49a;padding:16px 20px;margin:12px 0;color:#5d4e4e;line-height:2;font-family:'Noto Serif SC',serif;">
[ **]
</div>`,cyberpunk:`<div style="background:rgba(26,26,46,0.8);border-left:3px solid #00f5ff;padding:16px 20px;margin:12px 0;color:#e0e0e0;line-height:1.8;font-family:monospace;">
[]
</div>`,modern:`<div style="background:#fcfcfc;border-left:2px solid #e0e0e0;padding:16px 20px;margin:12px 0;color:#1a1a1a;line-height:1.8;font-family:sans-serif;">
[]
</div>`,cozy:`<div style="background:#fff;border:2px solid #fef0f0;border-radius:16px;padding:16px 20px;margin:12px 0;color:#5d4e4e;line-height:1.9;font-family:sans-serif;box-shadow:0 2px 8px rgba(255,154,158,0.1);">
[]
</div>`,custom:""},dc={ancient:`<div style="background:linear-gradient(135deg,#fdfbf7,#f5f0e6);border:1px solid #d4c4a8;border-radius:8px;padding:16px;margin:12px 0;font-family:'Noto Serif SC',serif;">
  <div style="text-align:center;color:#5d4e4e;font-size:1.1em;letter-spacing:4px;margin-bottom:12px;padding-bottom:10px;border-bottom:1px solid #e8dcc8;"> [] </div>
  <div style="display:flex;padding:6px 12px;font-size:0.9em;"><span style="color:#8b7355;min-width:48px;"></span><span style="color:#d4c4a8;margin:0 8px;"></span><span style="color:#5d4e4e;">[]</span></div>
  <div style="display:flex;padding:6px 12px;font-size:0.9em;"><span style="color:#8b7355;min-width:48px;"></span><span style="color:#d4c4a8;margin:0 8px;"></span><span style="color:#5d4e4e;">[]</span></div>
  <div style="display:flex;padding:6px 12px;font-size:0.9em;"><span style="color:#8b7355;min-width:48px;"></span><span style="color:#d4c4a8;margin:0 8px;"></span><span style="color:#5d4e4e;">[]</span></div>
  <div style="display:flex;padding:10px 12px;font-size:0.9em;background:linear-gradient(90deg,transparent,rgba(139,115,85,0.08),transparent);border-radius:4px;margin-top:8px;"><span style="color:#8b7355;min-width:48px;"></span><span style="color:#d4c4a8;margin:0 8px;"></span><span style="color:#8b7355;font-style:italic;">[]</span></div>
</div>`,cyberpunk:`<div style="background:linear-gradient(135deg,#1a1a2e,#0a0a0f);border:1px solid rgba(0,245,255,0.3);border-left:3px solid #00f5ff;padding:16px;margin:12px 0;font-family:monospace;">
  <div style="color:#00f5ff;font-size:1em;letter-spacing:2px;margin-bottom:12px;padding-bottom:10px;border-bottom:1px solid rgba(0,245,255,0.2);text-shadow:0 0 10px #00f5ff;"> [] :: STATUS</div>
  <div style="display:flex;padding:4px 0;font-size:0.9em;"><span style="color:#00f5ff;min-width:60px;">OUTFIT</span><span style="color:#e0e0e0;">[]</span></div>
  <div style="display:flex;padding:4px 0;font-size:0.9em;"><span style="color:#00f5ff;min-width:60px;">ACTION</span><span style="color:#e0e0e0;">[]</span></div>
  <div style="display:flex;padding:4px 0;font-size:0.9em;"><span style="color:#00f5ff;min-width:60px;">MOOD</span><span style="color:#e0e0e0;">[]</span></div>
  <div style="display:flex;padding:8px 12px;font-size:0.9em;background:rgba(255,0,255,0.1);border-left:2px solid #ff00ff;margin-top:8px;"><span style="color:#ff00ff;min-width:60px;">MIND</span><span style="color:#ff00ff;font-style:italic;">[]</span></div>
</div>`,modern:`<div style="background:#fafafa;border-left:2px solid #1a1a1a;padding:20px;margin:16px 0;font-family:sans-serif;">
  <div style="font-size:0.75em;color:#999;letter-spacing:2px;text-transform:uppercase;margin-bottom:16px;">[]  STATUS</div>
  <div style="display:grid;grid-template-columns:80px 1fr;gap:8px;font-size:0.9em;">
    <span style="color:#999;">Outfit</span><span style="color:#1a1a1a;">[]</span>
    <span style="color:#999;">Action</span><span style="color:#1a1a1a;">[]</span>
    <span style="color:#999;">Mood</span><span style="color:#1a1a1a;">[]</span>
  </div>
  <div style="margin-top:12px;padding-top:12px;border-top:1px solid #e8e8e8;font-style:italic;color:#666;font-size:0.9em;">[]</div>
</div>`,cozy:`<div style="background:linear-gradient(135deg,#fff5f5,#fecfef20);border:2px solid #fecfef;border-radius:16px;padding:16px;margin:12px 0;font-family:sans-serif;">
  <div style="text-align:center;color:#ff9a9e;font-size:1em;margin-bottom:12px;padding-bottom:10px;border-bottom:2px dashed #fecfef;"> [] </div>
  <div style="display:flex;padding:6px 12px;font-size:0.9em;"><span style="color:#ff9a9e;min-width:60px;"> </span><span style="color:#5d4e4e;">[]</span></div>
  <div style="display:flex;padding:6px 12px;font-size:0.9em;"><span style="color:#ff9a9e;min-width:60px;"> </span><span style="color:#5d4e4e;">[]</span></div>
  <div style="display:flex;padding:6px 12px;font-size:0.9em;"><span style="color:#ff9a9e;min-width:60px;"> </span><span style="color:#5d4e4e;">[]</span></div>
  <div style="background:#fff5f5;border-radius:12px;padding:10px 12px;margin-top:8px;font-size:0.9em;"><span style="color:#ff9a9e;"></span><span style="color:#ff9a9e;font-style:italic;margin-left:8px;">[]</span></div>
</div>`,custom:""},pc={ancient:`<div style="background:linear-gradient(135deg,#faf6ed,#f0e6d3);border:1px solid #d4c4a8;border-radius:8px;padding:20px;margin:12px 0;box-shadow:0 2px 12px rgba(139,115,85,0.15);font-family:'Noto Serif SC',serif;">
  <div style="font-size:0.85em;color:#8b7355;letter-spacing:4px;text-align:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #d4c4a8;">[] []</div>
  <div style="color:#5d4e4e;line-height:1.8;text-align:center;">[]</div>
  <div style="color:#8b7355;font-style:italic;font-size:0.9em;text-align:center;margin-top:8px;">*[]*</div>
</div>`,cyberpunk:`<div style="background:linear-gradient(135deg,#1a1a2e,#0a0a0f);border:1px solid rgba(0,245,255,0.3);padding:20px;margin:12px 0;font-family:monospace;">
  <div style="font-size:0.85em;color:#00f5ff;letter-spacing:2px;text-align:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid rgba(0,245,255,0.2);text-shadow:0 0 10px #00f5ff;">[] []</div>
  <div style="color:#e0e0e0;line-height:1.8;text-align:center;">"[]"</div>
  <div style="color:#ff00ff;font-style:italic;font-size:0.9em;text-align:center;margin-top:8px;">*[]*</div>
</div>`,modern:`<div style="background:#fafafa;border-left:2px solid #1a1a1a;padding:20px;margin:12px 0;font-family:sans-serif;">
  <div style="font-size:0.75em;color:#999;letter-spacing:2px;text-transform:uppercase;margin-bottom:12px;">[]</div>
  <div style="color:#1a1a1a;line-height:1.8;">"[]"</div>
  <div style="color:#666;font-style:italic;font-size:0.9em;margin-top:8px;">*[]*</div>
</div>`,cozy:`<div style="background:linear-gradient(135deg,#fff5f5,#fecfef20);border:2px solid #fecfef;border-radius:16px;padding:20px;margin:12px 0;font-family:sans-serif;">
  <div style="font-size:0.9em;color:#ff9a9e;text-align:center;margin-bottom:12px;padding-bottom:8px;border-bottom:2px dashed #fecfef;">[] []</div>
  <div style="color:#5d4e4e;line-height:1.8;text-align:center;">"[]"</div>
  <div style="color:#ff9a9e;font-style:italic;font-size:0.9em;text-align:center;margin-top:8px;">*[]*</div>
</div>`,custom:""},fc={ancient:`/*    */

.scene-card {
  background: linear-gradient(135deg, #fdfbf7 0%, #f5f0e6 100%);
  border: 1px solid #d4c4a8;
  border-radius: 4px;
  padding: 20px;
  margin: 16px 0;
  font-family: 'Noto Serif SC', 'Source Han Serif CN', serif;
  color: #5d4e4e;
  position: relative;
  box-shadow: 0 2px 8px rgba(139, 115, 85, 0.1);
}

.scene-card::before {
  content: '';
  position: absolute;
  top: 8px; left: 8px; right: 8px; bottom: 8px;
  border: 1px solid #e8dcc8;
  border-radius: 2px;
  pointer-events: none;
}

.scene-title {
  text-align: center;
  font-size: 1.2em;
  letter-spacing: 6px;
  color: #8b7355;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid #d4c4a8;
}

.scene-info {
  display: flex;
  justify-content: center;
  gap: 24px;
  font-size: 0.9em;
  color: #8b7355;
  margin-bottom: 16px;
}

.scene-desc {
  line-height: 1.8;
  text-indent: 2em;
  color: #5d4e4e;
}

.dialogue {
  background: rgba(212, 196, 168, 0.2);
  border-left: 3px solid #c9a86c;
  padding: 12px 16px;
  margin: 12px 0;
  font-style: italic;
}

.dialogue .speaker {
  color: #8b7355;
  font-weight: 600;
  margin-bottom: 4px;
}`,cyberpunk:`/*    */

.scene-card {
  background: linear-gradient(180deg, #0a0a0f 0%, #1a1a2e 100%);
  border: 1px solid #00f5ff;
  padding: 20px;
  margin: 16px 0;
  font-family: 'Orbitron', monospace;
  color: #e0e0e0;
  position: relative;
  box-shadow: 0 0 20px rgba(0, 245, 255, 0.2);
}

.scene-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 2px;
  background: linear-gradient(90deg, transparent, #00f5ff, transparent);
  animation: scan 2s infinite;
}

@keyframes scan {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

.scene-title {
  color: #00f5ff;
  font-size: 1.2em;
  letter-spacing: 4px;
  text-shadow: 0 0 10px #00f5ff;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid rgba(0, 245, 255, 0.3);
}

.scene-info {
  display: flex;
  gap: 20px;
  font-size: 0.85em;
  color: #00f5ff;
  margin-bottom: 16px;
}

.scene-desc {
  line-height: 1.6;
  color: #e0e0e0;
}

.dialogue {
  background: rgba(0, 245, 255, 0.1);
  border-left: 3px solid #ff00ff;
  padding: 12px 16px;
  margin: 12px 0;
}

.dialogue .speaker {
  color: #ff00ff;
  text-shadow: 0 0 5px #ff00ff;
}`,modern:`/*    */

.scene-card {
  background: #fafafa;
  border-left: 3px solid #1a1a1a;
  padding: 24px;
  margin: 16px 0;
  font-family: 'DM Sans', 'Inter', sans-serif;
  color: #1a1a1a;
}

.scene-title {
  font-size: 0.75em;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: #999;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid #e8e8e8;
}

.scene-info {
  font-size: 0.85em;
  color: #666;
  margin-bottom: 16px;
}

.scene-desc {
  line-height: 1.8;
  color: #1a1a1a;
}

.dialogue {
  padding: 16px 0;
  margin: 12px 0;
  border-top: 1px solid #e8e8e8;
}

.dialogue .speaker {
  font-weight: 600;
  color: #1a1a1a;
  margin-bottom: 8px;
}`,cozy:`/*    */

.scene-card {
  background: linear-gradient(135deg, #fff5f5 0%, #fecfef20 100%);
  border: 2px solid #fecfef;
  border-radius: 20px;
  padding: 24px;
  margin: 16px 0;
  font-family: 'Nunito', sans-serif;
  color: #5d4e4e;
  box-shadow: 0 4px 20px rgba(255, 154, 158, 0.15);
}

.scene-title {
  text-align: center;
  font-size: 1.1em;
  color: #ff9a9e;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 2px dashed #fecfef;
}

.scene-info {
  display: flex;
  justify-content: center;
  gap: 16px;
  font-size: 0.9em;
  color: #ff9a9e;
  margin-bottom: 16px;
}

.scene-desc {
  line-height: 1.9;
  color: #5d4e4e;
}

.dialogue {
  background: #fff;
  border-radius: 16px;
  padding: 16px;
  margin: 12px 0;
  box-shadow: 0 2px 8px rgba(255, 154, 158, 0.1);
}

.dialogue .speaker {
  color: #ff9a9e;
  font-weight: 600;
  margin-bottom: 8px;
}`,custom:`/*  AI   */
/*  AI  inline style  */

.scene-card {
  padding: 20px;
  margin: 16px 0;
  font-family: sans-serif;
}

.scene-title {
  margin-bottom: 16px;
}

.scene-desc {
  line-height: 1.8;
}

.dialogue {
  padding: 12px;
  margin: 12px 0;
}`};function Dc(i){var c;return i.theme==="custom"&&((c=i.customTemplates)!=null&&c.sceneInfo)?i.customTemplates.sceneInfo:uc[i.theme]||uc.modern}function Oc(i){var c;return i.theme==="custom"&&((c=i.customTemplates)!=null&&c.mainContent)?i.customTemplates.mainContent:cc[i.theme]||cc.modern}function Pc(i){var c;return i.theme==="custom"&&((c=i.customTemplates)!=null&&c.statusBar)?i.customTemplates.statusBar:dc[i.theme]||dc.modern}function mc(i){var c;return i.theme==="custom"&&((c=i.customTemplates)!=null&&c.sceneCard)?i.customTemplates.sceneCard:pc[i.theme]||pc.modern}function Bf(i){var c;return i.theme==="custom"&&((c=i.customTemplates)!=null&&c.themeCSS)?i.customTemplates.themeCSS:fc[i.theme]||fc.modern}function Hf(i){const{characterInfo:c}=i;let s=`${c.name||"[]"}
${c.gender||"[//]"}
${c.age||"[]"}`;return(c.height||c.weight||c.zodiac||c.mbti)&&(s+=`

### `,c.height&&(s+=`
${c.height}`),c.weight&&(s+=`
${c.weight}`),c.zodiac&&(s+=`
${c.zodiac}`),c.mbti&&(s+=`
MBTI${c.mbti}`),c.race&&(s+=`
${c.race}`),c.occupation&&(s+=`
/${c.occupation}`)),s+=`

${c.positioning||"[]"}

${c.relationshipWithUser||"[///]"}
${c.coreValue||"[]"}
${c.useCase||"[//]"}`,s}function Vf(i){const{persona:c,characterInfo:s}=i;let f=`### ${s.name||"{{char}}"}

****${c.identity||"[]"}

****${c.appearance||"[]"}

****${c.voice||"[]"}

****${c.dressStyle||"[]"}

****${c.foodPreference||"[/]"}

****${c.hobbies||"[3-5]"}

****
${c.personalities||`- [1][]
- [2][]
- [3][]`}`;return c.personalityTags&&c.personalityTags.length>0&&(f+=`

****${c.personalityTags.join("")}`),f+=`

**{{user}}**${c.emotionToUser||"[]"}

****${c.brief||"[2-3]"}

****${c.backstory||"[]"}`,c.lifeStory&&(c.lifeStory.childhood||c.lifeStory.growth||c.lifeStory.turning)&&(f+=`

### `,c.lifeStory.childhood&&(f+=`
****${c.lifeStory.childhood}`),c.lifeStory.growth&&(f+=`
****${c.lifeStory.growth}`),c.lifeStory.turning&&(f+=`
****${c.lifeStory.turning}`)),c.quotes&&c.quotes.length>0&&(f+=`

### `,c.quotes.forEach((p,y)=>{f+=`
${y+1}. ${p}`})),c.interview&&(f+=`

### 
${c.interview}`),f+=`

### 

****${c.languageStyle||"[]"}
- ${c.languageExamples.daily||""}
- ${c.languageExamples.happy||""}
- ${c.languageExamples.angry||""}
- ${c.languageExamples.flirty||""}

**{{user}}**${c.attitudeToUser||"[]"}

****${c.dialogueRequirements||"[]"}

### 

****
${c.boundaries||`- [1]
- [2]
- [3]`}`,f}function Wf(i){const{adversityHandling:c}=i;return`**[]**
{{user}}
${c.inappropriateRequest||`[]
 []`}

**[]**

${c.insufficientInfo||`[]
 []`}

**[/]**
{{user}}
${c.emotionalAttack||`[]
 []`}

**[]**

${c.beyondCapability||`[]
 []`}`}function qf(i){const{plotSetting:c}=i;return`**[]**
${c.worldBackground||"[]"}

**[]**
${c.establishedFacts||`- [1]
- [2]
- [3]`}

**[]**
${c.unchangeableRules||`- [1]
- [2]
- [3]`}

**[]**
${c.currentPhase||"[/]"}`}function Qf(i){const{outputSetting:c}=i,s=i.theme==="custom"&&i.customTemplates?`

>  AI ${i.customTemplates.styleName}
> ${i.customTemplates.styleDescription}`:"";return`### 


1. 
2. 
3. 

### 

- ${c.replyLengthRange?`${c.replyLengthRange.min}-${c.replyLengthRange.max}`:c.replyLength||"200-400"}
- ${c.languageStyle||"[]"}
- ${c.perspective||""}
- ${c.actionFormat||" ** "}${s}

### 

****
${Dc(i)}

****
${Oc(i)}

****
${Pc(i)}

### 

${c.moduleRules||`|  |  |  |
|------|------|------|
| / |  |  / 23:00 |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  | ... |`}`}function Gf(i){const{sampleDialogue:c}=i;return`**[1]**
${c.dialogue1User||"[]"}

${c.dialogue1Response||"[]"}

**[2]**
${c.dialogue2User||"[]"}

${c.dialogue2Response||"[]"}

---
****
${c.styleNotes||`- []
- /[]
- []`}`}function Kf(i){const{miniTheater:c}=i,s=mc(i),f=[{title:c.scene1Title,dialogue:c.scene1Dialogue,action:c.scene1Action},{title:c.scene2Title,dialogue:c.scene2Dialogue,action:c.scene2Action},{title:c.scene3Title,dialogue:c.scene3Dialogue,action:c.scene3Action}].filter(p=>p.title||p.dialogue).map(p=>s.replace("[]","").replace("[]",p.title||"[]").replace("[]",p.dialogue||"[]").replace("[]",p.action||"[]")).join(`

`);return`<style>
${Bf(i)}
</style>

<!--  -->
${f||mc(i)}`}function Jf(i){const{opening:c,characterInfo:s}=i,u=s.name||"[]",f=Dc(i).replace("[]",c.time||"[]").replace("[]",c.time||"[]").replace("[]",c.location||"[]").replace("[]",c.atmosphere||"[]"),p=Oc(i).replace("[ **]",`${c.sceneDescription||"[]"}

${c.firstDialogue||"[]"}`).replace("[]",`${c.sceneDescription||"[]"}

${c.firstDialogue||'"[]"'}`),y=Pc(i).replace(/\[\]/g,u).replace("[]",c.attire||"[]").replace("[]",c.action||"[]").replace("[]",c.expression||"[]").replace("[]",c.innerThought||"[]");return`${f}

${p}

${y}`}function Yf(i){const{openingExtension:c,characterInfo:s}=i;if(!c)return"";const u=s.name||"{{char}}";let f=`### ${u}`;return c.cardSummary&&(f+=`

****
${c.cardSummary}`),(c.relationshipSummary.characterLabel||c.relationshipSummary.userLabel)&&(f+=`

****`,c.relationshipSummary.characterLabel&&(f+=`
${u}${c.relationshipSummary.characterLabel}`),c.relationshipSummary.userLabel&&(f+=`
{{user}}${c.relationshipSummary.userLabel}`)),c.worldBackgroundDetail&&(f+=`

****
${c.worldBackgroundDetail}`),f||""}function Xf(i){const{additionalMainCharacters:c}=i;if(!c||c.length===0)return"";let s=`### 

 ${c.length} `;return c.forEach((u,f)=>{s+=`

---

####  ${f+1}${u.name||"[]"}`,s+=`

****`,u.age&&(s+=`
- ${u.age}`),u.identity&&(s+=`
- /${u.identity}`),u.race&&(s+=`
- ${u.race}`),u.height&&(s+=`
- ${u.height}`),u.weight&&(s+=`
- ${u.weight}`),u.zodiac&&(s+=`
- ${u.zodiac}`),u.mbti&&(s+=`
- MBTI${u.mbti}`),u.appearance&&(s+=`

****${u.appearance}`),u.personalityTags&&u.personalityTags.length>0&&(s+=`

****${u.personalityTags.join("")}`),u.personalityAnalysis&&(s+=`

****${u.personalityAnalysis}`),u.lifeStory&&(u.lifeStory.childhood||u.lifeStory.growth||u.lifeStory.turning)&&(s+=`

****`,u.lifeStory.childhood&&(s+=`
- ${u.lifeStory.childhood}`),u.lifeStory.growth&&(s+=`
- ${u.lifeStory.growth}`),u.lifeStory.turning&&(s+=`
- ${u.lifeStory.turning}`)),u.quotes&&u.quotes.length>0&&(s+=`

****`,u.quotes.forEach((p,y)=>{s+=`
${y+1}. ${p}`})),u.relationToUser&&(s+=`

**{{user}}**${u.relationToUser}`)}),s}function Zf(i){const{supportingCharacters:c}=i;if(!c||c.length===0)return"";let s=`### 

 ${c.length} `;return c.forEach((u,f)=>{s+=`

**${f+1}. ${u.name||"[]"}**`,u.identity&&(s+=` - ${u.identity}`),u.relationToMain&&(s+=`
${u.relationToMain}`),u.appearance&&(s+=`
${u.appearance}`),u.quote&&(s+=`
${u.quote}`)}),s}function em(i){const{outputModules:c,characterInfo:s}=i;if(!c)return"";const u=(s==null?void 0:s.name)||"{{char}}";let f=`### 
`;f+=`
#### 
`;const p=c.characterStatus;p&&(f+=`
****${p.attire||"[]"}`,f+=`
****${p.action||"[]"}`,f+=`
****${p.expression||"[]"}`,f+=`
****${p.affection||"50/100"}`,f+=`
**{{user}}**${p.relationship||"[]"}`,f+=`
****${p.innerOS||"[]"}`,p.todoList&&p.todoList.length>0&&(f+=`

**${u}**`,p.todoList.forEach((w,h)=>{w&&(f+=`
${h+1}. ${w}`)})),p.randomContent&&(f+=`

**//**
${p.randomContent}`)),f+=`

#### 
`;const y=c.memoryArea;return y&&(y.hotSearch&&y.hotSearch.length>0&&(f+=`
****`,y.hotSearch.forEach((w,h)=>{w&&(f+=`
${h+1}. ${w}`)})),y.shortTermMemory&&(f+=`

****${y.shortTermMemory}`),y.longTermMemory&&(f+=`

****${y.longTermMemory}`),y.danmaku&&y.danmaku.length>0&&(f+=`

**/**`,y.danmaku.forEach(w=>{w&&(f+=`
- ${w}`)}))),f+=`

#### `,f+=`
- ${c.enablePhoneInterface?" ":" "}`,f+=`
- ${c.enableMusicPlayer?" ":" "}`,f}function hc(i,c){switch(c){case"characterInfo":return Hf(i);case"persona":return Vf(i);case"adversityHandling":return Wf(i);case"plotSetting":return qf(i);case"outputSetting":return Qf(i);case"outputModules":return em(i);case"sampleDialogue":return Gf(i);case"miniTheater":return Kf(i);case"opening":return Jf(i);case"openingExtension":return Yf(i);case"additionalMainCharacters":return Xf(i);case"supportingCharacters":return Zf(i);default:return""}}const tm=$c.map(i=>({key:i.key,label:i.label})),nm=Ac.map(i=>({key:i.key,label:i.label}));function gc(i,c){const s=c||i.mainCharacters[0];return{id:i.id,createdAt:i.createdAt,updatedAt:i.updatedAt,theme:i.theme,customTemplates:i.customTemplates,characterInfo:(s==null?void 0:s.characterInfo)||{name:"",gender:"",age:"",positioning:"",relationshipWithUser:"",coreValue:"",useCase:""},persona:(s==null?void 0:s.persona)||{identity:"",appearance:"",voice:"",dressStyle:"",foodPreference:"",hobbies:"",personalities:"",emotionToUser:"",brief:"",backstory:"",languageStyle:"",languageExamples:{daily:"",happy:"",angry:"",flirty:""},attitudeToUser:"",dialogueRequirements:"",boundaries:""},adversityHandling:(s==null?void 0:s.adversityHandling)||{inappropriateRequest:"",insufficientInfo:"",emotionalAttack:"",beyondCapability:""},plotSetting:i.plotSetting,outputSetting:i.outputSetting,sampleDialogue:(s==null?void 0:s.sampleDialogue)||{dialogue1User:"",dialogue1Response:"",dialogue2User:"",dialogue2Response:"",styleNotes:""},miniTheater:(s==null?void 0:s.miniTheater)||{wordCountRange:{min:200,max:400},scene1Title:"",scene1Dialogue:"",scene1Action:"",scene2Title:"",scene2Dialogue:"",scene2Action:"",scene3Title:"",scene3Dialogue:"",scene3Action:""},opening:i.opening,openingExtension:i.openingExtension,outputModules:i.outputModules,additionalMainCharacters:i.mainCharacters.filter(u=>u.id!==(s==null?void 0:s.id)).map(u=>({id:u.id,name:u.characterInfo.name,age:u.characterInfo.age,height:u.characterInfo.height,weight:u.characterInfo.weight,zodiac:u.characterInfo.zodiac,mbti:u.characterInfo.mbti,identity:u.characterInfo.occupation||"",race:u.characterInfo.race,appearance:u.persona.appearance,personalityTags:u.persona.personalityTags,personalityAnalysis:"",lifeStory:u.persona.lifeStory,quotes:u.persona.quotes,relationToUser:u.characterInfo.relationshipWithUser})),supportingCharacters:i.secondaryCharacters}}function rm(i){const{relationshipNetwork:c,mainCharacters:s}=i,u=p=>{const y=s.find(w=>w.id===p);return(y==null?void 0:y.characterInfo.name)||""};let f=`### 
`;return c.relationships.length>0&&(f+=`
****
`,c.relationships.forEach(p=>{const y=u(p.characterId1),w=u(p.characterId2);f+=`
${y}  ${w}${p.relationshipType||""}`,p.labelFrom1To2&&(f+=`
  - ${y}${p.labelFrom1To2}`),p.labelFrom2To1&&(f+=`
  - ${w}${p.labelFrom2To1}`),p.history&&(f+=`
  - ${p.history}`),p.dynamics&&(f+=`
  - ${p.dynamics}`)})),c.userRelationships.length>0&&(f+=`

**{{user}}**
`,c.userRelationships.forEach(p=>{const y=u(p.characterId);f+=`
${y}${p.relationshipType||""}`,p.labelFromUser&&(f+=`
  - {{user}}${p.labelFromUser}`),p.labelToUser&&(f+=`
  - ${y}${p.labelToUser}`)})),c.relationships.length===0&&c.userRelationships.length===0&&(f+=`
`),f}function lm({card:i,activeCharacterId:c,activeContext:s,onUpdateCard:u,onUpdateCharacter:f,onAddCharacter:p,onRemoveCharacter:y,onSelectCharacter:w,onSelectGlobal:h,onSetPrimary:N}){const[T,L]=ie.useState("characterInfo"),{copy:A,copied:R}=Nf(),C=ie.useMemo(()=>i.mainCharacters.find(q=>q.id===c)||i.mainCharacters[0]||null,[i.mainCharacters,c]),E=i.cardType==="multi"||i.mainCharacters.length>1,g=s==="character"?tm:nm,P=ie.useMemo(()=>{var Q;return g.map(Ne=>Ne.key).includes(T)?T:((Q=g[0])==null?void 0:Q.key)||"characterInfo"},[T,g]),J=s==="character"?$c.find(q=>q.key===P):Ac.find(q=>q.key===P),se=ie.useMemo(()=>{if(P==="relationshipNetwork")return rm(i);if(P==="secondaryCharacters"){const Q=gc(i,C);return hc(Q,"supportingCharacters")}const q=gc(i,C);return hc(q,P)},[i,C,P]),te=()=>{A(se)},de=()=>{if(!C)return o.jsx("div",{className:"text-gray-500",children:""});const q=(Q,Ne)=>{f(C.id,{[Q]:Ne})};switch(P){case"characterInfo":return o.jsx(_f,{data:C.characterInfo,onChange:Q=>q("characterInfo",Q)});case"persona":return o.jsx(If,{data:C.persona,onChange:Q=>q("persona",Q)});case"adversityHandling":return o.jsx(Mf,{data:C.adversityHandling,onChange:Q=>q("adversityHandling",Q)});case"sampleDialogue":return o.jsx(Rf,{data:C.sampleDialogue,onChange:Q=>q("sampleDialogue",Q)});case"miniTheater":return o.jsx(zf,{data:C.miniTheater,onChange:Q=>q("miniTheater",Q)});default:return null}},U=()=>{switch(P){case"plotSetting":return o.jsx(Lf,{data:i.plotSetting,onChange:q=>u({plotSetting:q})});case"relationshipNetwork":return o.jsx(Uf,{data:i.relationshipNetwork,characters:i.mainCharacters,secondaryCharacters:i.secondaryCharacters,onChange:q=>u({relationshipNetwork:q})});case"outputSetting":return o.jsx(Af,{data:i.outputSetting,onChange:q=>u({outputSetting:q})});case"outputModules":return o.jsx(Df,{data:i.outputModules,onChange:q=>u({outputModules:q})});case"opening":return o.jsx(Of,{data:i.opening,onChange:q=>u({opening:q})});case"openingExtension":return o.jsx(Pf,{data:i.openingExtension||{cardSummary:"",relationshipSummary:{characterLabel:"",userLabel:""}},onChange:q=>u({openingExtension:q})});case"secondaryCharacters":return o.jsx(Ff,{data:i.secondaryCharacters,onChange:q=>u({secondaryCharacters:q})});default:return null}};return o.jsxs("div",{className:"h-full flex flex-col bg-white",children:[o.jsx(bf,{characters:i.mainCharacters,activeCharacterId:c,activeContext:s,onSelectCharacter:w,onSelectGlobal:h,onAddCharacter:p,onRemoveCharacter:y,onSetPrimary:N,isMultiMode:E}),o.jsx("div",{className:"px-4 pt-4",children:o.jsx(jf,{tabs:g,activeKey:P,onChange:L})}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"w-1/2 p-4 overflow-y-auto border-r border-gray-200",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[J==null?void 0:J.label,s==="character"&&C&&o.jsxs("span",{className:"ml-2 text-sm text-gray-500 font-normal",children:["- ",C.characterInfo.name||""]})]}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Mufy ",J==null?void 0:J.mufyField,(J==null?void 0:J.wordCount)&&`   ${J.wordCount}`]})]}),s==="character"?de():U()]}),o.jsxs("div",{className:"w-1/2 p-4 overflow-y-auto bg-gray-50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),o.jsxs(it,{variant:"secondary",size:"sm",onClick:te,className:"gap-2",children:[R?o.jsx(Ec,{className:"w-4 h-4 text-green-600"}):o.jsx(Ic,{className:"w-4 h-4"}),R?"":""]})]}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:o.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono leading-relaxed",children:se})}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(of,{className:"w-4 h-4 text-blue-600 mt-0.5 shrink-0"}),o.jsxs("p",{className:"text-sm text-blue-700",children:[" Mufy ",J==null?void 0:J.mufyField,""]})]})})]})]})]})}const yc=i=>{let c;const s=new Set,u=(N,T)=>{const L=typeof N=="function"?N(c):N;if(!Object.is(L,c)){const A=c;c=T??(typeof L!="object"||L===null)?L:Object.assign({},c,L),s.forEach(R=>R(c,A))}},f=()=>c,w={setState:u,getState:f,getInitialState:()=>h,subscribe:N=>(s.add(N),()=>s.delete(N))},h=c=i(u,f,w);return w},am=(i=>i?yc(i):yc),om=i=>i;function im(i,c=om){const s=Rr.useSyncExternalStore(i.subscribe,Rr.useCallback(()=>c(i.getState()),[i,c]),Rr.useCallback(()=>c(i.getInitialState()),[i,c]));return Rr.useDebugValue(s),s}const sm=i=>{const c=am(i),s=u=>im(c,u);return Object.assign(s,c),s},Fc=(i=>sm);function Uc(i,c){let s;try{s=i()}catch{return}return{getItem:f=>{var p;const y=h=>h===null?null:JSON.parse(h,void 0),w=(p=s.getItem(f))!=null?p:null;return w instanceof Promise?w.then(y):y(w)},setItem:(f,p)=>s.setItem(f,JSON.stringify(p,void 0)),removeItem:f=>s.removeItem(f)}}const Jo=i=>c=>{try{const s=i(c);return s instanceof Promise?s:{then(u){return Jo(u)(s)},catch(u){return this}}}catch(s){return{then(u){return this},catch(u){return Jo(u)(s)}}}},um=(i,c)=>(s,u,f)=>{let p={storage:Uc(()=>window.localStorage),partialize:g=>g,version:0,merge:(g,P)=>({...P,...g}),...c},y=!1,w=0;const h=new Set,N=new Set;let T=p.storage;if(!T)return i((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${p.name}', the given storage is currently unavailable.`),s(...g)},u,f);const L=()=>{const g=p.partialize({...u()});return T.setItem(p.name,{state:g,version:p.version})},A=f.setState;f.setState=(g,P)=>(A(g,P),L());const R=i((...g)=>(s(...g),L()),u,f);f.getInitialState=()=>R;let C;const E=()=>{var g,P;if(!T)return;const J=++w;y=!1,h.forEach(te=>{var de;return te((de=u())!=null?de:R)});const se=((P=p.onRehydrateStorage)==null?void 0:P.call(p,(g=u())!=null?g:R))||void 0;return Jo(T.getItem.bind(T))(p.name).then(te=>{if(te)if(typeof te.version=="number"&&te.version!==p.version){if(p.migrate){const de=p.migrate(te.state,te.version);return de instanceof Promise?de.then(U=>[!0,U]):[!0,de]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,te.state];return[!1,void 0]}).then(te=>{var de;if(J!==w)return;const[U,q]=te;if(C=p.merge(q,(de=u())!=null?de:R),s(C,!0),U)return L()}).then(()=>{J===w&&(se==null||se(C,void 0),C=u(),y=!0,N.forEach(te=>te(C)))}).catch(te=>{J===w&&(se==null||se(void 0,te))})};return f.persist={setOptions:g=>{p={...p,...g},g.storage&&(T=g.storage)},clearStorage:()=>{T==null||T.removeItem(p.name)},getOptions:()=>p,rehydrate:()=>E(),hasHydrated:()=>y,onHydrate:g=>(h.add(g),()=>{h.delete(g)}),onFinishHydration:g=>(N.add(g),()=>{N.delete(g)})},p.skipHydration||E(),C||R},Bc=um,nn={openai:{name:"openai",label:"OpenAI",defaultBaseUrl:"https://api.openai.com/v1",supportsSearch:!0,models:["gpt-4.1","gpt-4.1-mini","gpt-4.1-nano","o3","o4-mini","gpt-4o","gpt-4o-mini"]},claude:{name:"claude",label:"Claude (Anthropic)",defaultBaseUrl:"https://api.anthropic.com",supportsSearch:!0,models:["claude-opus-4-5-20251101","claude-sonnet-4-5-20251101","claude-sonnet-4-20250514","claude-3-7-sonnet-20250219","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022"]},gemini:{name:"gemini",label:"Gemini (Google)",defaultBaseUrl:"https://generativelanguage.googleapis.com/v1beta",supportsSearch:!0,models:["gemini-3-pro-preview","gemini-2.5-pro","gemini-2.5-flash","gemini-2.5-flash-lite","gemini-2.0-flash"]},deepseek:{name:"deepseek",label:"Deepseek",defaultBaseUrl:"https://api.deepseek.com",supportsSearch:!0,models:["deepseek-chat","deepseek-reasoner"]},qwen:{name:"qwen",label:"Qwen ()",defaultBaseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",supportsSearch:!0,models:["qwen3-235b-a22b","qwen-max","qwen-plus","qwen-turbo","qwen2.5-72b-instruct"]}},vc={provider:"openai",apiKey:"",baseUrl:nn.openai.defaultBaseUrl,model:"gpt-4o",enableSearch:!0},Hc=Fc()(Bc((i,c)=>({settings:vc,updateSettings:s=>{i(u=>({settings:{...u.settings,...s}}))},setProvider:s=>{const u=nn[s];i(f=>({settings:{...f.settings,provider:s,baseUrl:u.defaultBaseUrl,model:u.models[0],enableSearch:u.supportsSearch}}))},resetSettings:()=>{i({settings:vc})},isConfigured:()=>{const{settings:s}=c();return s.apiKey.trim().length>0}}),{name:"mufy-ai-settings",version:1}));function cm({isOpen:i,onClose:c}){const{settings:s,updateSettings:u,setProvider:f}=Hc(),[p,y]=ie.useState(!1),[w,h]=ie.useState("idle");if(!i)return null;const N=Object.entries(nn).map(([R,C])=>({value:R,label:C.label})),T=nn[s.provider],L=T.models.map(R=>({value:R,label:R})),A=async()=>{if(!s.apiKey){h("error");return}h("testing");try{await new Promise(R=>setTimeout(R,1e3)),h("success"),setTimeout(()=>h("idle"),3e3)}catch{h("error"),setTimeout(()=>h("idle"),3e3)}};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:c}),o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md mx-4 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI "}),o.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Lr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"px-6 py-4 space-y-4",children:[o.jsx(mt,{label:"AI ",options:N,value:s.provider,onChange:R=>f(R)}),o.jsxs("div",{className:"relative",children:[o.jsx(ee,{label:"API Key",type:p?"text":"password",placeholder:" API Key",value:s.apiKey,onChange:R=>u({apiKey:R.target.value})}),o.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",children:p?o.jsx(cf,{className:"w-4 h-4"}):o.jsx(df,{className:"w-4 h-4"})})]}),o.jsx(mt,{label:"",options:L,value:s.model,onChange:R=>u({model:R})}),o.jsx(ee,{label:"API ",placeholder:T.defaultBaseUrl,value:s.baseUrl,onChange:R=>u({baseUrl:R.target.value})}),T.supportsSearch&&o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-700",children:""}),o.jsx("div",{className:"text-xs text-gray-500",children:""})]}),o.jsx("button",{onClick:()=>u({enableSearch:!s.enableSearch}),className:`relative w-11 h-6 rounded-full transition-colors ${s.enableSearch?"bg-blue-600":"bg-gray-300"}`,children:o.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${s.enableSearch?"translate-x-5":""}`})})]}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:o.jsx("p",{children:T.supportsSearch?`${T.label} `:`${T.label} `})})]}),o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50",children:[o.jsxs(it,{variant:"ghost",size:"sm",onClick:A,disabled:w==="testing"||!s.apiKey,className:"gap-2",children:[w==="testing"&&o.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"}),w==="success"&&o.jsx(_c,{className:"w-4 h-4 text-green-600"}),w==="error"&&o.jsx(ql,{className:"w-4 h-4 text-red-600"}),w==="idle"&&"",w==="testing"&&"...",w==="success"&&"",w==="error"&&""]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(it,{variant:"secondary",onClick:c,children:""}),o.jsx(it,{onClick:c,children:""})]})]})]})]})}function ti(i){return!i||typeof i!="object"?!1:"characterInfo"in i&&"persona"in i&&!("mainCharacters"in i)}function dm(i){return!i||typeof i!="object"?!1:"mainCharacters"in i&&"cardType"in i&&Array.isArray(i.mainCharacters)}function xc(i){const c={id:`char_${i.id}_main`,createdAt:i.createdAt,updatedAt:i.updatedAt,displayOrder:0,isPrimaryFocus:!0,characterInfo:i.characterInfo,persona:i.persona,adversityHandling:i.adversityHandling,sampleDialogue:i.sampleDialogue,miniTheater:i.miniTheater,opening:void 0},s=(i.additionalMainCharacters||[]).map((h,N)=>{const T=Hn();return{...T,id:h.id,createdAt:i.createdAt,updatedAt:i.updatedAt,displayOrder:N+1,isPrimaryFocus:!1,characterInfo:{...T.characterInfo,name:h.name,age:h.age,positioning:h.identity,relationshipWithUser:h.relationToUser,height:h.height,weight:h.weight,zodiac:h.zodiac,mbti:h.mbti,race:h.race,occupation:h.identity},persona:{...T.persona,identity:h.identity,appearance:h.appearance,personalityTags:h.personalityTags,personalityAnalysis:h.personalityAnalysis,quotes:h.quotes,lifeStory:h.lifeStory}}}),u=(i.supportingCharacters||[]).map(h=>({id:h.id,name:h.name,identity:h.identity,appearance:h.appearance,quote:h.quote,relationToMain:h.relationToMain})),f=[c,...s],p={relationships:[],userRelationships:f.map(h=>({characterId:h.id,labelFromUser:"",labelToUser:h.characterInfo.relationshipWithUser,relationshipType:h.characterInfo.relationshipWithUser}))},y=s.length>0?"multi":"single",w=f.map(h=>h.characterInfo.name).filter(h=>h).join(" & ")||"";return{id:i.id,createdAt:i.createdAt,updatedAt:i.updatedAt,cardName:w,cardType:y,theme:i.theme,customTemplates:i.customTemplates,plotSetting:i.plotSetting,outputSetting:i.outputSetting,opening:i.opening,openingExtension:i.openingExtension,relationshipNetwork:p,mainCharacters:f,secondaryCharacters:u,_legacyMigrated:!0}}function Vc(i){return i.map(c=>dm(c)?c:(ti(c)||console.warn("[Migration] :",c),xc(c)))}const Wc=Fc()(Bc((i,c)=>({cards:[],activeCardId:null,activeCharacterId:null,activeContext:"character",createCard:()=>{var f;const s=ei(),u=((f=s.mainCharacters[0])==null?void 0:f.id)||null;return i(p=>({cards:[...p.cards,s],activeCardId:s.id,activeCharacterId:u,activeContext:"character"})),s.id},deleteCard:s=>{i(u=>{var w,h,N;const f=u.cards.filter(T=>T.id!==s),p=u.activeCardId===s?((w=f[0])==null?void 0:w.id)??null:u.activeCardId,y=u.activeCardId===s?((N=(h=f[0])==null?void 0:h.mainCharacters[0])==null?void 0:N.id)??null:u.activeCharacterId;return{cards:f,activeCardId:p,activeCharacterId:y}})},duplicateCard:s=>{var w;const f=c().cards.find(h=>h.id===s);if(!f)return"";const p=JSON.parse(JSON.stringify(f));p.id=`multicard_${Date.now()}`,p.createdAt=Date.now(),p.updatedAt=Date.now(),p.cardName=`${f.cardName} ()`,p.mainCharacters=p.mainCharacters.map(h=>({...h,id:`char_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}));const y=((w=p.mainCharacters[0])==null?void 0:w.id)||null;return i(h=>({cards:[...h.cards,p],activeCardId:p.id,activeCharacterId:y})),p.id},setActiveCard:s=>{var y;const f=c().cards.find(w=>w.id===s),p=((y=f==null?void 0:f.mainCharacters[0])==null?void 0:y.id)??null;i({activeCardId:s,activeCharacterId:p,activeContext:"character"})},updateCard:(s,u)=>{i(f=>({cards:f.cards.map(p=>p.id===s?{...p,...u,updatedAt:Date.now()}:p)}))},updateTheme:(s,u)=>{i(f=>({cards:f.cards.map(p=>p.id===s?{...p,theme:u,updatedAt:Date.now()}:p)}))},addMainCharacter:s=>{const u=Hn();return i(f=>({cards:f.cards.map(p=>{if(p.id!==s)return p;const y=p.mainCharacters.length,w={...u,displayOrder:y};return{...p,cardType:"multi",mainCharacters:[...p.mainCharacters,w],updatedAt:Date.now()}}),activeCharacterId:u.id,activeContext:"character"})),u.id},removeMainCharacter:(s,u)=>{i(f=>{var h;const p=f.cards.find(N=>N.id===s);if(!p||p.mainCharacters.length<=1)return f;const y=p.mainCharacters.filter(N=>N.id!==u).map((N,T)=>({...N,displayOrder:T}));y.some(N=>N.isPrimaryFocus)||(y[0].isPrimaryFocus=!0);const w=f.activeCharacterId===u?((h=y[0])==null?void 0:h.id)??null:f.activeCharacterId;return{cards:f.cards.map(N=>N.id===s?{...N,mainCharacters:y,cardType:y.length>1?"multi":"single",updatedAt:Date.now()}:N),activeCharacterId:w}})},updateMainCharacter:(s,u,f)=>{i(p=>({cards:p.cards.map(y=>{var h;if(y.id!==s)return y;let w=y.cardName;return((h=f.characterInfo)==null?void 0:h.name)!==void 0&&(w=y.mainCharacters.map(T=>{var L;return T.id===u&&((L=f.characterInfo)==null?void 0:L.name)||T.characterInfo.name}).filter(T=>T).join(" & ")||y.cardName),{...y,cardName:w,mainCharacters:y.mainCharacters.map(N=>N.id===u?{...N,...f,updatedAt:Date.now()}:N),updatedAt:Date.now()}})}))},setActiveCharacter:s=>{i({activeCharacterId:s,activeContext:s?"character":"global"})},setPrimaryCharacter:(s,u)=>{i(f=>({cards:f.cards.map(p=>p.id!==s?p:{...p,mainCharacters:p.mainCharacters.map(y=>({...y,isPrimaryFocus:y.id===u})),updatedAt:Date.now()})}))},reorderCharacters:(s,u)=>{i(f=>({cards:f.cards.map(p=>{if(p.id!==s)return p;const y=u.map((w,h)=>{const N=p.mainCharacters.find(T=>T.id===w);return N?{...N,displayOrder:h}:null}).filter(w=>w!==null);return{...p,mainCharacters:y,updatedAt:Date.now()}})}))},addSecondaryCharacter:s=>{const u=kf();return i(f=>({cards:f.cards.map(p=>p.id===s?{...p,secondaryCharacters:[...p.secondaryCharacters,u],updatedAt:Date.now()}:p)})),u.id},removeSecondaryCharacter:(s,u)=>{i(f=>({cards:f.cards.map(p=>p.id===s?{...p,secondaryCharacters:p.secondaryCharacters.filter(y=>y.id!==u),updatedAt:Date.now()}:p)}))},updateSecondaryCharacter:(s,u,f)=>{i(p=>({cards:p.cards.map(y=>y.id===s?{...y,secondaryCharacters:y.secondaryCharacters.map(w=>w.id===u?{...w,...f}:w),updatedAt:Date.now()}:y)}))},updateRelationshipNetwork:(s,u)=>{i(f=>({cards:f.cards.map(p=>p.id===s?{...p,relationshipNetwork:u,updatedAt:Date.now()}:p)}))},setActiveContext:s=>{i({activeContext:s})},getActiveCard:()=>{const s=c();return s.cards.find(u=>u.id===s.activeCardId)??null},getActiveCharacter:()=>{const s=c(),u=s.cards.find(f=>f.id===s.activeCardId);return u?u.mainCharacters.find(f=>f.id===s.activeCharacterId)??null:null}}),{name:"mufy-multi-character-cards",version:2,storage:Uc(()=>localStorage),migrate:(i,c)=>{var u,f;console.log(`[Store]  ${c}  2`);const s=i;if(c<2&&s.cards){if(s.cards.some(y=>ti(y))&&(console.log("[Store] ..."),s.cards=Vc(s.cards),console.log("[Store] ")),s.activeCharacterId===void 0){const y=s.cards[0];s.activeCharacterId=((f=(u=y==null?void 0:y.mainCharacters)==null?void 0:u[0])==null?void 0:f.id)??null}s.activeContext===void 0&&(s.activeContext="character")}return s},merge:(i,c)=>({...c,...i})})),qc="mufy-character-cards",wc=localStorage.getItem(qc);var Cc,jc,Nc;if(wc)try{const i=JSON.parse(wc);if(((jc=(Cc=i.state)==null?void 0:Cc.cards)==null?void 0:jc.length)>0&&i.state.cards.some(s=>ti(s))){console.log("[Store] ...");const s=Vc(i.state.cards),u="mufy-multi-character-cards",f=localStorage.getItem(u),p=f?JSON.parse(f):{state:{cards:[]}},y=new Set(((Nc=p.state.cards)==null?void 0:Nc.map(h=>h.id))||[]),w=s.filter(h=>!y.has(h.id));w.length>0&&(p.state.cards=[...p.state.cards||[],...w],p.version=2,localStorage.setItem(u,JSON.stringify(p)),console.log(`[Store]  ${w.length} `)),localStorage.removeItem(qc),console.log("[Store] ")}}catch(i){console.error("[Store] :",i)}const pm=` Mufy Mufy AI




1.  - 
2.  - 
3.  - 
4.  - 
5.  - 
6.  - 
7.  - 
8.  - 


- 
- 
- 
- 

 JSON `,fm=` Mufy  IP 


1.  IP 
2. 
3. 
4. 
   - /
   - 


1.  - 
2.  - 
3.  - 
4.  - 
5.  - 
6.  - 
7.  - 
8.  - 


- 
- 
- 
- 

 JSON `,mm=` Mufy 

 JSON 
{
  "characterInfo": {
    "name": "",
    "gender": "",
    "age": "",
    "positioning": "",
    "relationshipWithUser": "",
    "coreValue": "",
    "useCase": "",
    "height": "",
    "weight": "",
    "zodiac": "",
    "mbti": "",
    "race": "",
    "occupation": ""
  },
  "persona": {
    "identity": "",
    "appearance": "",
    "voice": "",
    "dressStyle": "",
    "foodPreference": "",
    "hobbies": "",
    "personalities": "",
    "personalityTags": [],
    "emotionToUser": "",
    "brief": "",
    "backstory": "",
    "lifeStory": {
      "childhood": "",
      "growth": "",
      "turning": ""
    },
    "quotes": [],
    "interview": "",
    "languageStyle": "",
    "languageExamples": {
      "daily": "",
      "happy": "",
      "angry": "",
      "flirty": ""
    },
    "attitudeToUser": "",
    "dialogueRequirements": "",
    "boundaries": ""
  },
  "adversityHandling": {
    "inappropriateRequest": "",
    "insufficientInfo": "",
    "emotionalAttack": "",
    "beyondCapability": ""
  },
  "plotSetting": {
    "worldBackground": "",
    "establishedFacts": "",
    "unchangeableRules": "",
    "currentPhase": ""
  },
  "outputSetting": {
    "replyLength": "",
    "languageStyle": "",
    "perspective": "",
    "actionFormat": "",
    "moduleRules": ""
  },
  "sampleDialogue": {
    "dialogue1User": "",
    "dialogue1Response": "",
    "dialogue2User": "",
    "dialogue2Response": "",
    "styleNotes": ""
  },
  "miniTheater": {
    "scene1Title": "",
    "scene1Dialogue": "",
    "scene1Action": "",
    "scene2Title": "",
    "scene2Dialogue": "",
    "scene2Action": "",
    "scene3Title": "",
    "scene3Dialogue": "",
    "scene3Action": ""
  },
  "opening": {
    "time": "",
    "location": "",
    "atmosphere": "",
    "sceneDescription": "",
    "firstDialogue": "",
    "attire": "",
    "action": "",
    "expression": "",
    "innerThought": ""
  },
  "openingExtension": {
    "cardSummary": "",
    "relationshipSummary": {
      "characterLabel": "",
      "userLabel": ""
    },
    "worldBackgroundDetail": ""
  },
  "outputModules": {
    "characterStatus": {
      "attire": "",
      "action": "",
      "expression": "",
      "affection": "50/100",
      "innerOS": "",
      "relationship": "",
      "todoList": ["1", "2", "3"],
      "randomContent": "//>100"
    },
    "memoryArea": {
      "hotSearch": ["1", "2", "3"],
      "shortTermMemory": "",
      "longTermMemory": "",
      "danmaku": ["1", "2", "3", "4"]
    },
    "enablePhoneInterface": false,
    "enableMusicPlayer": false
  }
}


1. 
2. personalityTags  quotes  2-4 
3. openingExtension.worldBackgroundDetail 
4. additionalMainCharacters  supportingCharacters 
5. outputModules  characterStatus  memoryArea 
6.  socialMediaphoneBrowsingmusicPlayer`,Vn="web_search",Qc=" IP ",ni=[{type:"function",function:{name:Vn,description:Qc,parameters:{type:"object",properties:{query:{type:"string",description:""}},required:["query"]}}}],hm=[{name:Vn,description:Qc,input_schema:{type:"object",properties:{query:{type:"string",description:""}},required:["query"]}}];async function Jl(i){const c=await fetch("http://localhost:3001/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:i,maxResults:5})});if(!c.ok)throw new Error("");return c.json()}function Yl(i){return i.length===0?"":i.map((c,s)=>`[${s+1}] ${c.title}
${c.snippet}
: ${c.url}`).join(`

`)}const ri={concise:{persona:{min:200,max:400},backstory:{min:100,max:200},opening:{min:150,max:300},miniTheater:{min:100,max:200}},standard:{persona:{min:400,max:600},backstory:{min:200,max:400},opening:{min:300,max:500},miniTheater:{min:200,max:400}},detailed:{persona:{min:600,max:1e3},backstory:{min:400,max:600},opening:{min:500,max:800},miniTheater:{min:400,max:600}}},gm="http://localhost:3001";function $r(i,c){return`${gm}/api/${i}${c}`}async function ym(i,c,s,u){var N;const f=$r("openai","/v1/chat/completions"),p=[];let y=i.map(T=>({role:T.role,content:T.content}));const w=5;let h=0;for(;h<w;){h++;const T={model:c.model,messages:y,temperature:.7};s&&h===1?(T.tools=ni,T.tool_choice="auto"):T.response_format={type:"json_object"};const L=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.apiKey}`},body:JSON.stringify(T)});if(!L.ok){const C=await L.json();throw new Error(((N=C.error)==null?void 0:N.message)||"OpenAI API ")}const R=(await L.json()).choices[0];if(R.finish_reason==="tool_calls"&&R.message.tool_calls){u==null||u("...",30),y.push(R.message);for(const C of R.message.tool_calls)if(C.function.name===Vn){const E=JSON.parse(C.function.arguments);console.log(`[OpenAI] : ${E.query}`);try{const g=await Jl(E.query),P=Yl(g.results);g.results.forEach(J=>{p.push({uri:J.url,title:J.title})}),y.push({role:"tool",tool_call_id:C.id,content:P})}catch{y.push({role:"tool",tool_call_id:C.id,content:""})}}u==null||u("...",50);continue}return{content:R.message.content,searchSources:p.length>0?p:void 0}}throw new Error("Tool calling ")}async function vm(i,c,s,u){var T,L;const f=$r("claude","/v1/messages"),p=[],y=((T=i.find(A=>A.role==="system"))==null?void 0:T.content)||"";let w=i.filter(A=>A.role!=="system").map(A=>({role:A.role,content:A.content}));const h=5;let N=0;for(;N<h;){N++;const A={model:c.model,max_tokens:8192,system:y,messages:w};s&&(A.tools=hm);const R=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":c.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify(A)});if(!R.ok){const g=await R.json();throw new Error(((L=g.error)==null?void 0:L.message)||"Claude API ")}const C=await R.json();if(C.stop_reason==="tool_use"){u==null||u("...",30),w.push({role:"assistant",content:C.content});const g=[];for(const P of C.content)if(P.type==="tool_use"&&P.name===Vn){console.log(`[Claude] : ${P.input.query}`);try{const J=await Jl(P.input.query),se=Yl(J.results);J.results.forEach(te=>{p.push({uri:te.url,title:te.title})}),g.push({type:"tool_result",tool_use_id:P.id,content:se})}catch{g.push({type:"tool_result",tool_use_id:P.id,content:""})}}w.push({role:"user",content:g}),u==null||u("...",50);continue}const E=C.content.find(g=>g.type==="text");return{content:(E==null?void 0:E.text)||"",searchSources:p.length>0?p:void 0}}throw new Error("Tool calling ")}async function xm(i,c,s){var L,A,R,C;console.log(`[Gemini] : ${s?"":""}`);const u=i.filter(E=>E.role!=="system").map(E=>({role:E.role==="user"?"user":"model",parts:[{text:E.content}]})),f=(L=i.find(E=>E.role==="system"))==null?void 0:L.content,p={contents:u,systemInstruction:f?{parts:[{text:f}]}:void 0,generationConfig:{temperature:.7,responseMimeType:s?"text/plain":"application/json"}};s&&(p.tools=[{googleSearch:{}}],console.log("[Gemini]  Google Search Grounding "));const y=$r("gemini",`/v1beta/models/${c.model}:generateContent?key=${c.apiKey}`),w=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!w.ok){const E=await w.text();console.error("[Gemini] API :",E);try{const g=JSON.parse(E);throw new Error(((A=g.error)==null?void 0:A.message)||g.message||`Gemini API : ${w.status}`)}catch{throw new Error(`Gemini API : ${w.status} - ${E.substring(0,200)}`)}}const h=await w.json();if(!h.candidates||h.candidates.length===0)throw console.error("[Gemini]  candidates:",h),(R=h.promptFeedback)!=null&&R.blockReason?new Error(`Gemini : ${h.promptFeedback.blockReason}`):new Error("Gemini ");const N=h.candidates[0];if(N.finishReason==="SAFETY")throw console.error("[Gemini] :",N.safetyRatings),new Error(" Gemini ");let T;if(N.groundingMetadata){if(console.log("[Gemini]   Google Search Grounding"),console.log("[Gemini] groundingMetadata:",N.groundingMetadata),N.groundingMetadata.groundingChunks){const E=N.groundingMetadata.groundingChunks.filter(g=>g.web).map(g=>({uri:g.web.uri,title:g.web.title}));T=E,console.log(`[Gemini]  (${E.length} ):`,E)}(C=N.groundingMetadata.searchEntryPoint)!=null&&C.renderedContent&&console.log("[Gemini] :",N.groundingMetadata.searchEntryPoint)}else console.log("[Gemini]   groundingMetadata");if(!N.content||!N.content.parts||N.content.parts.length===0)throw console.error("[Gemini] :",N),new Error("Gemini ");return{content:N.content.parts[0].text,searchSources:T}}async function wm(i,c,s,u){var N;const f=$r("deepseek","/chat/completions"),p=[];let y=i.map(T=>({role:T.role,content:T.content}));const w=5;let h=0;for(;h<w;){h++;const T={model:c.model,messages:y,temperature:.7};s&&h===1?(T.tools=ni,T.tool_choice="auto"):T.response_format={type:"json_object"};const L=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.apiKey}`},body:JSON.stringify(T)});if(!L.ok){const C=await L.json();throw new Error(((N=C.error)==null?void 0:N.message)||"Deepseek API ")}const R=(await L.json()).choices[0];if(R.finish_reason==="tool_calls"&&R.message.tool_calls){u==null||u("...",30),y.push(R.message);for(const C of R.message.tool_calls)if(C.function.name===Vn){const E=JSON.parse(C.function.arguments);console.log(`[Deepseek] : ${E.query}`);try{const g=await Jl(E.query),P=Yl(g.results);g.results.forEach(J=>{p.push({uri:J.url,title:J.title})}),y.push({role:"tool",tool_call_id:C.id,content:P})}catch{y.push({role:"tool",tool_call_id:C.id,content:""})}}u==null||u("...",50);continue}return{content:R.message.content,searchSources:p.length>0?p:void 0}}throw new Error("Tool calling ")}async function Sm(i,c,s,u){var N;const f=$r("qwen","/compatible-mode/v1/chat/completions"),p=[];let y=i.map(T=>({role:T.role,content:T.content}));const w=5;let h=0;for(;h<w;){h++;const T={model:c.model,messages:y,temperature:.7};s&&h===1?(T.tools=ni,T.tool_choice="auto"):T.response_format={type:"json_object"};const L=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.apiKey}`},body:JSON.stringify(T)});if(!L.ok){const C=await L.json();throw new Error(((N=C.error)==null?void 0:N.message)||"Qwen API ")}const R=(await L.json()).choices[0];if(R.finish_reason==="tool_calls"&&R.message.tool_calls){u==null||u("...",30),y.push(R.message);for(const C of R.message.tool_calls)if(C.function.name===Vn){const E=JSON.parse(C.function.arguments);console.log(`[Qwen] : ${E.query}`);try{const g=await Jl(E.query),P=Yl(g.results);g.results.forEach(J=>{p.push({uri:J.url,title:J.title})}),y.push({role:"tool",tool_call_id:C.id,content:P})}catch{y.push({role:"tool",tool_call_id:C.id,content:""})}}u==null||u("...",50);continue}return{content:R.message.content,searchSources:p.length>0?p:void 0}}throw new Error("Tool calling ")}async function li(i,c,s,u){const f=s&&c.enableSearch&&nn[c.provider].supportsSearch;switch(c.provider){case"openai":return ym(i,c,f,u);case"claude":return vm(i,c,f,u);case"gemini":return xm(i,c,f);case"deepseek":return wm(i,c,f,u);case"qwen":return Sm(i,c,f,u);default:throw new Error(` AI : ${c.provider}`)}}async function km(i,c){return li(i,c,!1)}function ai(i){const c=i.match(/```json\s*([\s\S]*?)\s*```/),s=c?c[1]:i;try{return JSON.parse(s)}catch{const u=s.replace(/,\s*}/g,"}").replace(/,\s*]/g,"]");return JSON.parse(u)}}async function Cm(i,c,s="modern",u,f=!1,p){var Me,_e,Se,he,D,K,O,S,_,H,ae,oe,ce,Y;const y=f&&c.enableSearch&&nn[c.provider].supportsSearch,w=y?fm:pm,h=(p==null?void 0:p.detailLevel)||"standard",N=ri[h],T=p?`

****
HTMLCSS

##  outputSetting app 
**outputSetting.replyLength** = "${p.replyLength.min}-${p.replyLength.max}"

## ${h==="concise"?"":h==="standard"?"":""}

1. **persona ** ${N.persona.min}-${N.persona.max} 
   - appearance
   - personalities
   - backstory${N.backstory.min}-${N.backstory.max} 

2. **opening ** ${N.opening.min}-${N.opening.max} 
   - sceneDescription ${Math.floor(N.opening.min*.3)} 
   - firstDialogue ${Math.floor(N.opening.min*.3)} 
   - innerThought ${Math.floor(N.opening.min*.2)} 

3. **miniTheater ** ${N.miniTheater.min}-${N.miniTheater.max} 
   - scene1Dialogue + scene1Action ${N.miniTheater.min}-${N.miniTheater.max} 
   - scene2Dialogue + scene2Action ${N.miniTheater.min}-${N.miniTheater.max} 
   - scene3Dialogue + scene3Action ${N.miniTheater.min}-${N.miniTheater.max} 

****
- 
- 
- `:"",L=[{role:"system",content:w},{role:"user",content:`${mm}


${i}

${s}${T}`}];y&&(u==null||u("...",5)),u==null||u(" AI ...",y?15:8);let A=y?20:12;const R=setInterval(()=>{A=Math.min(A+2,75),u==null||u("AI ...",A)},3e3);let C,E;try{u==null||u("AI ...",y?25:15),C=await li(L,c,f,u),clearInterval(R),u==null||u("...",85),E=ai(C.content),u==null||u("...",95)}catch(ne){throw clearInterval(R),ne}u==null||u("",100);const g=E.outputSetting,P={replyLength:p?`${p.replyLength.min}-${p.replyLength.max}`:(g==null?void 0:g.replyLength)||"200-400",replyLengthRange:(p==null?void 0:p.replyLength)||{min:200,max:400},languageStyle:(g==null?void 0:g.languageStyle)||"",perspective:(g==null?void 0:g.perspective)||"",actionFormat:(g==null?void 0:g.actionFormat)||" ** ",moduleRules:(g==null?void 0:g.moduleRules)||""},se={...E.miniTheater,wordCountRange:N.miniTheater},de={...E.opening,wordCountRange:N.opening},U=E.characterInfo,q={...U,height:(U==null?void 0:U.height)||"",weight:(U==null?void 0:U.weight)||"",zodiac:(U==null?void 0:U.zodiac)||"",mbti:(U==null?void 0:U.mbti)||"",race:(U==null?void 0:U.race)||"",occupation:(U==null?void 0:U.occupation)||""},Q=E.persona,Ne={...Q,personalityTags:(Q==null?void 0:Q.personalityTags)||[],lifeStory:(Q==null?void 0:Q.lifeStory)||{childhood:"",growth:"",turning:""},quotes:(Q==null?void 0:Q.quotes)||[],interview:(Q==null?void 0:Q.interview)||"",languageExamples:(Q==null?void 0:Q.languageExamples)||{daily:"",happy:"",angry:"",flirty:""}},ve=E.openingExtension,He=ve?{cardSummary:ve.cardSummary||"",relationshipSummary:{characterLabel:((Me=ve.relationshipSummary)==null?void 0:Me.characterLabel)||"",userLabel:((_e=ve.relationshipSummary)==null?void 0:_e.userLabel)||""},worldBackgroundDetail:ve.worldBackgroundDetail||""}:{cardSummary:"",relationshipSummary:{characterLabel:"",userLabel:""},worldBackgroundDetail:""},fe=E.outputModules,be=fe?{characterStatus:{attire:((Se=fe.characterStatus)==null?void 0:Se.attire)||"",action:((he=fe.characterStatus)==null?void 0:he.action)||"",expression:((D=fe.characterStatus)==null?void 0:D.expression)||"",affection:((K=fe.characterStatus)==null?void 0:K.affection)||"50/100",innerOS:((O=fe.characterStatus)==null?void 0:O.innerOS)||"",relationship:((S=fe.characterStatus)==null?void 0:S.relationship)||"",todoList:((_=fe.characterStatus)==null?void 0:_.todoList)||[],randomContent:((H=fe.characterStatus)==null?void 0:H.randomContent)||""},memoryArea:{hotSearch:((ae=fe.memoryArea)==null?void 0:ae.hotSearch)||[],shortTermMemory:((oe=fe.memoryArea)==null?void 0:oe.shortTermMemory)||"",longTermMemory:((ce=fe.memoryArea)==null?void 0:ce.longTermMemory)||"",danmaku:((Y=fe.memoryArea)==null?void 0:Y.danmaku)||[]},enablePhoneInterface:fe.enablePhoneInterface||!1,enableMusicPlayer:fe.enableMusicPlayer||!1}:void 0;return{card:{theme:s,characterInfo:q,persona:Ne,adversityHandling:E.adversityHandling||{inappropriateRequest:"",insufficientInfo:"",emotionalAttack:"",beyondCapability:""},plotSetting:E.plotSetting||{worldBackground:"",establishedFacts:"",unchangeableRules:"",currentPhase:""},outputSetting:P,sampleDialogue:E.sampleDialogue||{dialogue1User:"",dialogue1Response:"",dialogue2User:"",dialogue2Response:"",styleNotes:""},miniTheater:se,opening:de,openingExtension:He,outputModules:be,additionalMainCharacters:[],supportingCharacters:[]},searchSources:C.searchSources}}const jm=` UI  immersive-dialogue-ui 

## 

###  CSS 
- \`.scene-card\` - 
- \`.scene-title\` - 
- \`.scene-info\` - 
- \`.scene-desc\` - 
- \`.dialogue\` - 
- \`.dialogue .speaker\` - 
- \`.divider\` - 

### 6
1. **cyberpunk **: #00f5ff + #ff00ff, #0a0a0f, , 
2. **ancient-chinese **: #8b7355 + #2f4f4f, #f5f5dc, , 
3. **modern-minimal **: #1a1a1a, #ffffff, , 
4. **cozy-warm **: #ff9966, #fff8f0, , 
5. **dark-gothic **: #8b0000, #0d0d0d, , 
6. **pastel-cute **: #ffb3ba, #bae1ff, , 

### 
1. ****
2. 
3. 
4.  CSS 
5.  emoji  Unicode     
6.  style  Mufy 

## 

 JSON 
\`\`\`json
{
  "styleName": "2-4",
  "styleDescription": "10-20",
  "colorScheme": {
    "primary": "#",
    "secondary": "#",
    "background": "#",
    "text": "#",
    "accent": "#"
  },
  "themeCSS": "CSS .scene-card .scene-title ",
  "sceneInfo": "<div style='...'> [] [] []  HTML</div>",
  "mainContent": "<div style='...'> []  HTML</div>",
  "statusBar": "<div style='...'> [] [] [] [] []  HTML</div>",
  "sceneCard": "<div style='...'> [] [] []  HTML</div>"
}
\`\`\`

### themeCSS 
themeCSS  CSS 
\`\`\`css
/*  []  */
.scene-card {
  background: linear-gradient(...);
  border: 1px solid #xxx;
  padding: 20px;
  margin: 16px 0;
  font-family: 'xxx', sans-serif;
  color: #xxx;
}
.scene-title { ... }
.scene-info { ... }
.scene-desc { ... }
.dialogue { ... }
.dialogue .speaker { ... }
\`\`\``;async function Nm(i,c){console.log("[AI Style] ..."),console.log("[AI Style] :",i);const s=[{role:"system",content:jm},{role:"user",content:`

${i.name}
${i.positioning}
${i.worldBackground?`${i.worldBackground}`:""}
${i.personality?`${i.personality}`:""}

6
 JSON  themeCSScolorScheme  4  HTML `}],u=await km(s,c),f=ai(u.content);console.log("[AI Style] :",f.styleName),console.log("[AI Style] :",f.colorScheme);const p={primary:"#666666",secondary:"#999999",background:"#ffffff",text:"#333333",accent:"#007aff"};return{styleName:f.styleName||"",styleDescription:f.styleDescription||"",themeCSS:f.themeCSS||"",sceneInfo:f.sceneInfo||"",mainContent:f.mainContent||"",statusBar:f.statusBar||"",sceneCard:f.sceneCard||"",colorScheme:f.colorScheme||p}}function Gc(i){const c=["","","","","","","&",",",""];for(const s of c)if(i.includes(s)){const u=i.split(new RegExp(`[${c.join("")}]`)).map(f=>f.trim()).filter(f=>f);if(u.length>=2){const f=u.filter(p=>p.length>=2&&p.length<=20);if(f.length>=2)return f}}return[]}const Sc=`

## 

1. ****
2. ****
3. ****

## 

 JSON ****

\`\`\`json
{
  "cardName": "A & B",
  "cardType": "multi",
  "plotSetting": {
    "worldBackground": "",
    "establishedFacts": "",
    "unchangeableRules": "",
    "currentPhase": ""
  },
  "outputSetting": {
    "replyLength": "200-400",
    "languageStyle": "",
    "perspective": "",
    "actionFormat": " ** ",
    "moduleRules": ""
  },
  "opening": {
    "time": "",
    "location": "",
    "atmosphere": "",
    "sceneDescription": "100",
    "firstDialogue": "50",
    "attire": "",
    "action": "",
    "expression": "",
    "innerThought": "30"
  },
  "relationshipNetwork": {
    "relationships": [
      {
        "characterId1": "char_1",
        "characterId2": "char_2",
        "labelFrom1To2": "12",
        "labelFrom2To1": "21",
        "relationshipType": "",
        "history": "",
        "dynamics": ""
      }
    ],
    "userRelationships": [
      {
        "characterId": "char_1",
        "labelFromUser": "",
        "labelToUser": "",
        "relationshipType": ""
      }
    ]
  },
  "mainCharacters": [
    {
      "id": "char_1",
      "isPrimaryFocus": true,
      "characterInfo": {
        "name": "",
        "gender": "",
        "age": "",
        "positioning": "",
        "relationshipWithUser": "",
        "coreValue": "",
        "useCase": "",
        "height": "",
        "weight": "",
        "zodiac": "",
        "mbti": "MBTI",
        "race": "",
        "occupation": "/"
      },
      "persona": {
        "identity": "",
        "appearance": "50",
        "voice": "",
        "dressStyle": "",
        "foodPreference": "",
        "hobbies": "",
        "personalities": "",
        "personalityTags": ["1", "2", "3"],
        "emotionToUser": "",
        "brief": "2-3",
        "backstory": "",
        "lifeStory": {
          "childhood": "",
          "growth": "",
          "turning": ""
        },
        "quotes": ["1", "2", "3"],
        "interview": "",
        "languageStyle": "",
        "languageExamples": {
          "daily": "",
          "happy": "",
          "angry": "",
          "flirty": ""
        },
        "attitudeToUser": "",
        "dialogueRequirements": "",
        "boundaries": ""
      },
      "adversityHandling": {
        "inappropriateRequest": "",
        "insufficientInfo": "",
        "emotionalAttack": "",
        "beyondCapability": ""
      },
      "sampleDialogue": {
        "dialogue1User": "",
        "dialogue1Response": "50",
        "dialogue2User": "",
        "dialogue2Response": "50",
        "styleNotes": ""
      },
      "miniTheater": {
        "scene1Title": "1",
        "scene1Dialogue": "1100",
        "scene1Action": "150",
        "scene2Title": "2",
        "scene2Dialogue": "2100",
        "scene2Action": "250",
        "scene3Title": "3",
        "scene3Dialogue": "3100",
        "scene3Action": "350"
      }
    }
  ],
  "secondaryCharacters": [],
  "outputModules": {
    "characterStatus": {
      "attire": "",
      "action": "",
      "expression": "",
      "affection": "50/100",
      "innerOS": "",
      "relationship": "",
      "todoList": ["1", "2", "3"],
      "randomContent": "//>100"
    },
    "memoryArea": {
      "hotSearch": ["1", "2", "3"],
      "shortTermMemory": "",
      "longTermMemory": "",
      "danmaku": ["1", "2", "3", "4"]
    },
    "enablePhoneInterface": false,
    "enableMusicPlayer": false
  }
}
\`\`\`

## 

1. **mainCharacters  characterInfopersonaadversityHandlingsampleDialogueminiTheater**
2. ****
3. ****
4. **outputModules **`;async function bm(i,c,s="modern",u,f=!1,p){const y=f&&c.enableSearch&&nn[c.provider].supportsSearch,w=Gc(i);if(!(w.length>=2)){const se=await Cm(i,c,s,u,f,p);return{card:Tm(se.card,s),searchSources:se.searchSources}}u==null||u(` ${w.length} ${w.join("")}`,5);const N=y?`${Sc}

`:Sc,T=(p==null?void 0:p.detailLevel)||"standard",L=ri[T],A=p?`

****
## 
- outputSetting.replyLength: ${p.replyLength.min}-${p.replyLength.max}

## ${T==="concise"?"":T==="standard"?"":""}
-  persona: ${L.persona.min}-${L.persona.max}
-  backstory: ${L.backstory.min}-${L.backstory.max}
-  opening.sceneDescription: ${L.opening.min}-${L.opening.max}
-  miniTheater : ${L.miniTheater.min}-${L.miniTheater.max}`:"",R=[{role:"system",content:N},{role:"user",content:`

${i}

${w.join("")}

${s}
${A}

 JSON 

mainCharacters  ${w.length} 

1. **characterInfo** - name, gender, age, positioning, relationshipWithUser, coreValue, useCase, height, weight, zodiac, mbti, race, occupation

2. **persona** - identity, appearance, voice, dressStyle, foodPreference, hobbies, personalities, personalityTags, emotionToUser, brief, backstory, lifeStory, quotes, interview, languageStyle, languageExamples, attitudeToUser, dialogueRequirements, boundaries

3. **adversityHandling** - inappropriateRequest, insufficientInfo, emotionalAttack, beyondCapability

4. **sampleDialogue** - dialogue1User, dialogue1Response, dialogue2User, dialogue2Response, styleNotes

5. **miniTheater** - 3scene1Title, scene1Dialogue, scene1Action, scene2Title, scene2Dialogue, scene2Action, scene3Title, scene3Dialogue, scene3Action

`}];y&&(u==null||u("...",10)),u==null||u(" AI ...",y?18:12);let C=y?25:18;const E=setInterval(()=>{C=Math.min(C+2,75),u==null||u(` ${w.length} ...`,C)},3e3);let g,P;try{u==null||u(` ${w.length} ...`,y?30:22),g=await li(R,c,f,u),clearInterval(E),u==null||u("...",85),P=ai(g.content),u==null||u("...",92)}catch(se){throw clearInterval(E),se}return u==null||u("",100),{card:Em(P,s,p),searchSources:g.searchSources}}function Tm(i,c){var f,p;const s=ei(),u=Hn();return u.isPrimaryFocus=!0,u.displayOrder=0,u.characterInfo=i.characterInfo,u.persona=i.persona,u.adversityHandling=i.adversityHandling,u.sampleDialogue=i.sampleDialogue,u.miniTheater=i.miniTheater,{...s,id:i.id||`multicard_${Date.now()}`,createdAt:i.createdAt||Date.now(),updatedAt:Date.now(),cardName:((f=i.characterInfo)==null?void 0:f.name)||"",cardType:"single",theme:c,customTemplates:i.customTemplates,plotSetting:i.plotSetting||s.plotSetting,outputSetting:i.outputSetting||s.outputSetting,opening:i.opening||s.opening,openingExtension:i.openingExtension||s.openingExtension,outputModules:i.outputModules||s.outputModules,mainCharacters:[u],secondaryCharacters:((p=i.supportingCharacters)==null?void 0:p.map(y=>({id:y.id,name:y.name,identity:y.identity,appearance:y.appearance,quote:y.quote,relationToMain:y.relationToMain})))||[],relationshipNetwork:{relationships:[],userRelationships:[{characterId:u.id,labelFromUser:"",labelToUser:i.characterInfo.relationshipWithUser,relationshipType:i.characterInfo.relationshipWithUser}]}}}function Em(i,c,s){var h,N,T,L,A,R,C,E,g,P,J,se,te,de;const u=ei(),f=(s==null?void 0:s.detailLevel)||"standard",p=ri[f],y=(i.mainCharacters||[]).map((U,q)=>{var Ne,ve;const Q=Hn();return{...Q,id:U.id||`char_${Date.now()}_${q}`,createdAt:Date.now(),updatedAt:Date.now(),displayOrder:q,isPrimaryFocus:U.isPrimaryFocus||q===0,characterInfo:{...Q.characterInfo,...U.characterInfo},persona:{...Q.persona,...U.persona,languageExamples:((Ne=U.persona)==null?void 0:Ne.languageExamples)||Q.persona.languageExamples,lifeStory:((ve=U.persona)==null?void 0:ve.lifeStory)||Q.persona.lifeStory},adversityHandling:{...Q.adversityHandling,...U.adversityHandling},sampleDialogue:{...Q.sampleDialogue,...U.sampleDialogue},miniTheater:{...Q.miniTheater,...U.miniTheater,wordCountRange:p.miniTheater}}});if(y.length===0){const U=Hn();U.isPrimaryFocus=!0,y.push(U)}const w=i.cardName||y.map(U=>U.characterInfo.name).filter(U=>U).join(" & ")||"";return{...u,id:`multicard_${Date.now()}`,createdAt:Date.now(),updatedAt:Date.now(),cardName:w,cardType:y.length>1?"multi":"single",theme:c,plotSetting:{...u.plotSetting,...i.plotSetting},outputSetting:{...u.outputSetting,...i.outputSetting,replyLengthRange:(s==null?void 0:s.replyLength)||{min:200,max:400}},opening:{...u.opening,...i.opening,wordCountRange:p.opening},openingExtension:i.openingExtension||u.openingExtension,relationshipNetwork:{relationships:((h=i.relationshipNetwork)==null?void 0:h.relationships)||[],userRelationships:((N=i.relationshipNetwork)==null?void 0:N.userRelationships)||[]},outputModules:i.outputModules?{characterStatus:{attire:((T=i.outputModules.characterStatus)==null?void 0:T.attire)||"",action:((L=i.outputModules.characterStatus)==null?void 0:L.action)||"",expression:((A=i.outputModules.characterStatus)==null?void 0:A.expression)||"",affection:((R=i.outputModules.characterStatus)==null?void 0:R.affection)||"50/100",innerOS:((C=i.outputModules.characterStatus)==null?void 0:C.innerOS)||"",relationship:((E=i.outputModules.characterStatus)==null?void 0:E.relationship)||"",todoList:((g=i.outputModules.characterStatus)==null?void 0:g.todoList)||[],randomContent:((P=i.outputModules.characterStatus)==null?void 0:P.randomContent)||""},memoryArea:{hotSearch:((J=i.outputModules.memoryArea)==null?void 0:J.hotSearch)||[],shortTermMemory:((se=i.outputModules.memoryArea)==null?void 0:se.shortTermMemory)||"",longTermMemory:((te=i.outputModules.memoryArea)==null?void 0:te.longTermMemory)||"",danmaku:((de=i.outputModules.memoryArea)==null?void 0:de.danmaku)||[]},enablePhoneInterface:i.outputModules.enablePhoneInterface||!1,enableMusicPlayer:i.outputModules.enableMusicPlayer||!1}:u.outputModules,mainCharacters:y,secondaryCharacters:i.secondaryCharacters||[]}}function kc({isVisible:i,status:c,progress:s,progressText:u,error:f,onExpand:p,onDismiss:y}){return!i||c==="idle"?null:o.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-in slide-in-from-bottom-4 fade-in duration-300",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden w-72",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-purple-50 to-blue-50 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[c==="generating"&&o.jsx(Mc,{className:"w-4 h-4 text-purple-600 animate-spin"}),c==="success"&&o.jsx(_c,{className:"w-4 h-4 text-green-600"}),c==="error"&&o.jsx(uf,{className:"w-4 h-4 text-red-600"}),o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[c==="generating"&&"AI ...",c==="success"&&"",c==="error"&&""]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[c==="generating"&&o.jsx("button",{onClick:p,className:"p-1 hover:bg-white/50 rounded transition-colors",title:"",children:o.jsx(gf,{className:"w-3.5 h-3.5 text-gray-500"})}),c!=="generating"&&o.jsx("button",{onClick:y,className:"p-1 hover:bg-white/50 rounded transition-colors",title:"",children:o.jsx(Lr,{className:"w-3.5 h-3.5 text-gray-500"})})]})]}),o.jsxs("div",{className:"px-3 py-2",children:[c==="generating"&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-gray-600 mb-2 truncate",children:u||"..."}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-1.5 rounded-full transition-all duration-500",style:{width:`${s}%`}})}),o.jsxs("span",{className:"text-xs text-gray-500 w-8",children:[Math.round(s),"%"]})]})]}),c==="success"&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-green-700",children:""}),o.jsx("button",{onClick:p,className:"text-xs text-blue-600 hover:text-blue-700",children:""})]}),c==="error"&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-red-600 line-clamp-2",children:f||""}),o.jsx("button",{onClick:p,className:"mt-1 text-xs text-blue-600 hover:text-blue-700",children:""})]})]})]})})}const _m=[{value:"auto",label:""},...Object.entries(zc).map(([i,c])=>({value:i,label:c}))];function Im({isOpen:i,onClose:c,onOpen:s,onComplete:u}){const{settings:f,isConfigured:p}=Hc(),[y,w]=ie.useState(""),[h,N]=ie.useState("auto"),[T,L]=ie.useState("input"),[A,R]=ie.useState(0),[C,E]=ie.useState(0),[g,P]=ie.useState(""),[J,se]=ie.useState(""),[te,de]=ie.useState(!0),[U,q]=ie.useState(!1),[Q,Ne]=ie.useState([]),[ve,He]=ie.useState({replyLength:{min:200,max:400},detailLevel:"standard"}),[fe,be]=ie.useState(!1),[Me,_e]=ie.useState("idle"),Se=ie.useRef(null),he=nn[f.provider].supportsSearch;ie.useEffect(()=>{if(T!=="generating"){E(0);return}return Se.current&&clearInterval(Se.current),Se.current=setInterval(()=>{E(Y=>{if(A>Y)return A;const ne=Math.min(A+15,85);if(Y<ne){const pe=Math.max(.3,(ne-Y)*.02);return Math.min(Y+pe,ne)}return Y})},200),()=>{Se.current&&clearInterval(Se.current)}},[T,A]),ie.useEffect(()=>{A>C&&E(A)},[A,C]);const D=ie.useCallback(()=>{be(!1),s()},[s]),K=ie.useCallback(()=>{_e("idle"),be(!1),L("input"),w(""),N("auto"),se(""),R(0),E(0),Ne([])},[]);if(!i)return fe&&Me!=="idle"?o.jsx(kc,{isVisible:!0,status:Me,progress:C,progressText:g,error:J,onExpand:D,onDismiss:K}):null;const O=(Y,ne)=>{P(Y),R(ne)},S=Y=>{const ne={ancient:["","","","","","","","","",""],cyberpunk:["","","AI","","","","",""],modern:["","","","","","",""],cozy:["","","","","","","",""]};for(const[pe,Fe]of Object.entries(ne))if(Fe.some(nt=>Y.includes(nt)))return pe;return"modern"},_=async()=>{var Y,ne;if(y.trim()){L("generating"),se("");try{const pe=h==="custom",Fe=pe?"custom":h==="auto"?S(y):h,nt=await bm(y,f,Fe,O,te&&he,ve);nt.searchSources&&nt.searchSources.length>0&&console.log("[AI Generate] :",nt.searchSources);let yn;const Tt=nt.card.mainCharacters[0];pe&&Tt&&(O("...",85),yn=await Nm({name:Tt.characterInfo.name||"",positioning:Tt.characterInfo.positioning||"",worldBackground:(Y=nt.card.plotSetting)==null?void 0:Y.worldBackground,personality:(ne=Tt.persona)==null?void 0:ne.personalities},f),console.log("[AI Generate] :",yn.styleName));const At={...nt.card,customTemplates:yn};Wc.setState(Ar=>{var Wn;return{cards:[...Ar.cards,At],activeCardId:At.id,activeCharacterId:((Wn=At.mainCharacters[0])==null?void 0:Wn.id)||null,activeContext:"character"}}),fe&&_e("success"),u(At.id)}catch(pe){se(pe instanceof Error?pe.message:""),L("error"),fe&&_e("error")}}},H=()=>{L("input"),se(""),R(0),E(0),_e("idle"),be(!1)},ae=ie.useCallback(()=>{be(!0),_e("generating"),c()},[c]),oe=()=>{if(T==="generating"){ae();return}L("input"),w(""),N("auto"),se(""),R(0),E(0),Ne([]),_e("idle"),be(!1),c()};if(!p())return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:oe}),o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md mx-4 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 text-amber-600 mb-4",children:[o.jsx(ql,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-lg font-semibold",children:" AI "})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:" AI  API Key AI "}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(it,{variant:"secondary",onClick:oe,children:""}),o.jsxs(it,{onClick:oe,className:"gap-2",children:[o.jsx(Rc,{className:"w-4 h-4"}),""]})]})]})]});const ce=()=>{oe()};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:`absolute inset-0 bg-black/50 ${T==="generating"?"cursor-not-allowed":""}`,onClick:ce}),o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg mx-4 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-blue-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zr,{className:"w-5 h-5 text-purple-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI "})]}),o.jsx("button",{onClick:oe,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",title:T==="generating"?"":"",children:o.jsx(Lr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"px-6 py-4",children:[T==="input"&&o.jsxs(o.Fragment,{children:[o.jsx(le,{label:"",placeholder:`...

`,value:y,onChange:Y=>{const ne=Y.target.value;w(ne);const pe=Gc(ne);Ne(pe)},rows:6,className:"mb-4"}),Q.length>=2&&o.jsxs("div",{className:"flex items-center gap-2 p-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx(Zo,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-blue-800",children:[" ",Q.length," "]}),o.jsxs("p",{className:"text-xs text-blue-600",children:[Q.join("")," - "]})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx(mt,{label:"",options:_m,value:h,onChange:N})}),he&&o.jsxs("label",{className:"flex items-center gap-2 mb-4 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:te,onChange:Y=>de(Y.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx(yf,{className:"w-4 h-4 text-blue-600"}),o.jsxs("span",{className:"text-sm text-gray-700",children:["",o.jsx("span",{className:"text-gray-500",children:" IP "})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("button",{type:"button",onClick:()=>q(!U),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-800",children:[U?o.jsx(sf,{className:"w-4 h-4"}):o.jsx(af,{className:"w-4 h-4"}),""]}),U&&o.jsxs("div",{className:"mt-3 space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("h4",{className:"text-sm font-medium text-blue-800 mb-3",children:["",o.jsx("span",{className:"ml-2 text-xs font-normal text-blue-600",children:" Mufy/"})]}),o.jsx(Kl,{label:"",min:50,max:1e3,step:50,value:ve.replyLength,onChange:Y=>He(ne=>({...ne,replyLength:Y})),unit:""}),o.jsx("p",{className:"mt-2 text-xs text-blue-600",children:" Mufy/"})]}),o.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[o.jsxs("h4",{className:"text-sm font-medium text-amber-800 mb-3",children:["",o.jsx("span",{className:"ml-2 text-xs font-normal text-amber-600",children:""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg cursor-pointer hover:bg-amber-100 transition-colors",children:[o.jsx("input",{type:"radio",name:"detailLevel",checked:ve.detailLevel==="concise",onChange:()=>He(Y=>({...Y,detailLevel:"concise"})),className:"w-4 h-4 text-amber-600 border-amber-300 focus:ring-amber-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-amber-900",children:""}),o.jsx("p",{className:"text-xs text-amber-600",children:""})]})]}),o.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg cursor-pointer hover:bg-amber-100 transition-colors",children:[o.jsx("input",{type:"radio",name:"detailLevel",checked:ve.detailLevel==="standard",onChange:()=>He(Y=>({...Y,detailLevel:"standard"})),className:"w-4 h-4 text-amber-600 border-amber-300 focus:ring-amber-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-amber-900",children:""}),o.jsx("span",{className:"ml-2 text-xs bg-amber-200 text-amber-800 px-1.5 py-0.5 rounded",children:""}),o.jsx("p",{className:"text-xs text-amber-600",children:""})]})]}),o.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg cursor-pointer hover:bg-amber-100 transition-colors",children:[o.jsx("input",{type:"radio",name:"detailLevel",checked:ve.detailLevel==="detailed",onChange:()=>He(Y=>({...Y,detailLevel:"detailed"})),className:"w-4 h-4 text-amber-600 border-amber-300 focus:ring-amber-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-amber-900",children:""}),o.jsx("p",{className:"text-xs text-amber-600",children:""})]})]})]})]})]})]}),o.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["",te&&he&&o.jsx("span",{className:"block mt-1 text-blue-600",children:""})]})]}),T==="generating"&&o.jsxs("div",{className:"py-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Mc,{className:"w-14 h-14 text-blue-600 animate-spin"}),o.jsx(zr,{className:"w-6 h-6 text-purple-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]})}),o.jsx("p",{className:"text-gray-800 font-medium text-center mb-1",children:g||"..."}),o.jsxs("p",{className:"text-gray-500 text-sm text-center mb-4",children:[C<30&&"...",C>=30&&C<50&&"AI ...",C>=50&&C<70&&"AI ...",C>=70&&C<85&&"AI ...",C>=85&&C<95&&"...",C>=95&&"..."]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden",children:o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${C}%`}})}),o.jsxs("p",{className:"text-gray-400 text-xs text-center mt-2",children:[Math.round(C),"%"]}),o.jsx("p",{className:"text-gray-400 text-xs text-center mt-3",children:" 30-60 "})]}),T==="error"&&o.jsxs("div",{className:"py-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-4",children:[o.jsx(ql,{className:"w-6 h-6"}),o.jsx("span",{className:"font-medium",children:""})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:J})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 border-t border-gray-200 bg-gray-50",children:[T==="input"&&o.jsxs(o.Fragment,{children:[o.jsx(it,{variant:"secondary",onClick:oe,children:""}),o.jsxs(it,{onClick:_,disabled:!y.trim(),className:"gap-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[o.jsx(zr,{className:"w-4 h-4"}),""]})]}),T==="generating"&&o.jsx(it,{variant:"secondary",onClick:oe,children:""}),T==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(it,{variant:"secondary",onClick:oe,children:""}),o.jsx(it,{onClick:H,children:""})]})]})]}),o.jsx(kc,{isVisible:fe&&Me!=="idle",status:Me,progress:C,progressText:g,error:J,onExpand:D,onDismiss:K})]})}const Mm={success:Ec,error:Lr,warning:ql,info:hf},Rm={success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",warning:"bg-yellow-50 text-yellow-800 border-yellow-200",info:"bg-blue-50 text-blue-800 border-blue-200"},zm={success:"text-green-500",error:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"};function Lm({message:i,type:c="info",onClose:s,duration:u=3e3}){ie.useEffect(()=>{const p=setTimeout(s,u);return()=>clearTimeout(p)},[s,u]);const f=Mm[c];return o.jsxs("div",{className:`fixed bottom-4 right-4 flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg animate-slide-up ${Rm[c]}`,children:[o.jsx(f,{className:`w-5 h-5 ${zm[c]}`}),o.jsx("span",{className:"text-sm font-medium",children:i}),o.jsx("button",{onClick:s,className:"ml-2 hover:opacity-70",children:o.jsx(Lr,{className:"w-4 h-4"})})]})}function $m(){const[i,c]=ie.useState(null),s=ie.useCallback((f,p="info")=>{c({message:f,type:p})},[]),u=ie.useCallback(()=>{c(null)},[]);return{toast:i,showToast:s,hideToast:u}}function Am(){const[i,c]=ie.useState(!1),[s,u]=ie.useState(!1),{cards:f,activeCardId:p,activeCharacterId:y,activeContext:w,createCard:h,deleteCard:N,duplicateCard:T,setActiveCard:L,updateCard:A,updateTheme:R,getActiveCard:C,addMainCharacter:E,removeMainCharacter:g,updateMainCharacter:P,setActiveCharacter:J,setActiveContext:se,setPrimaryCharacter:te}=Wc(),de=C(),{toast:U,showToast:q,hideToast:Q}=$m(),Ne=H=>{p&&R(p,H)},ve=H=>{p&&A(p,H)},He=(H,ae)=>{p&&P(p,H,ae)},fe=()=>{if(p){const H=E(p);q("","success"),J(H)}},be=H=>{p&&confirm("")&&(g(p,H),q("","info"))},Me=H=>{J(H)},_e=()=>{se("global"),J(null)},Se=H=>{p&&(te(p,H),q("","success"))},he=()=>{h(),q("","success")},D=H=>{N(H),q("","info")},K=H=>{T(H),q("","success")},O=()=>{c(!0)},S=()=>{u(!0)},_=H=>{u(!1),L(H),q("AI ","success")};return o.jsxs(o.Fragment,{children:[o.jsx(tf,{header:o.jsx(wf,{theme:(de==null?void 0:de.theme)||"modern",onThemeChange:Ne,onOpenSettings:O}),sidebar:o.jsx(Sf,{cards:f,activeCardId:p,onSelectCard:L,onCreateCard:he,onDeleteCard:D,onDuplicateCard:K,onAIGenerate:S}),children:de?o.jsx(lm,{card:de,activeCharacterId:y,activeContext:w,onUpdateCard:ve,onUpdateCharacter:He,onAddCharacter:fe,onRemoveCharacter:be,onSelectCharacter:Me,onSelectGlobal:_e,onSetPrimary:Se}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[o.jsx(pf,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg",children:""}),o.jsxs("div",{className:"mt-4 flex gap-3",children:[o.jsx("button",{onClick:he,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:""}),o.jsxs("button",{onClick:S,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors flex items-center gap-2",children:[o.jsx(zr,{className:"w-4 h-4"}),"AI "]})]})]})}),o.jsx(cm,{isOpen:i,onClose:()=>c(!1)}),o.jsx(Im,{isOpen:s,onClose:()=>u(!1),onOpen:()=>u(!0),onComplete:_}),U&&o.jsx(Lm,{message:U.message,type:U.type,onClose:Q})]})}ef.createRoot(document.getElementById("root")).render(o.jsx(Rr.StrictMode,{children:o.jsx(Am,{})}));
